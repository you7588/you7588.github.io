<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="尽量只写对别人有用的文章……">
<meta property="og:type" content="website">
<meta property="og:title" content="时间的朋友">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="时间的朋友">
<meta property="og:description" content="尽量只写对别人有用的文章……">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="时间的朋友">
<meta name="twitter:description" content="尽量只写对别人有用的文章……">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>时间的朋友</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '105782654', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">时间的朋友</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">把琐碎的时间堆砌成一个伟大的生命。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            时间线
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-word">
          <a href="/word/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            博物馆
          </a>
        </li>
      
        
        <li class="menu-item menu-item-cheatsheet">
          <a href="/cheatsheet/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            速查卡
          </a>
        </li>
      
        
        <li class="menu-item menu-item-feedback">
          <a href="/feedback/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-users"></i> <br />
            
            反馈
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/18/WeApp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Katherine Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时间的朋友">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/18/WeApp/" itemprop="url">WeApp</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-18T11:02:53+08:00">
                2017-11-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/18/WeApp/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/18/WeApp/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>该开发教程是基于Node/Express的WebApp教程，旨在让初学者快速学习开发一个前端和后端一体的WebApp。</p>
<p>本教程希望学习者有一些JavaScript的基础。教程中会涉及到很多新的概念和开发模块，对于初学者来说，理解上会很难。但是这都没有关系，初学者只需要按照教程一步一步的去做，就一定会做到最后的结果。</p>
<p>达到结果后，再回过头去摸索教程中提到的所有概念。</p>
<p>下面罗列一些知识点，供你判定自己是否具有学习本课程的基础。</p>
<ol>
<li>正确理解JavaScript和Node的差异。</li>
<li>JavaScript编程基础 - 变量、数据格式、对象。</li>
<li>JavaScript异步函数。</li>
<li>JavaScript引用模块方式- require。</li>
<li>html + css使用基础。</li>
<li>运用vue的操作html。</li>
</ol>
<h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><p>本指导书将以Node为开发环境讲解如何开发WebAapp，在学习之前需要安装NVM和Node.js。</p>
<h2 id="1-安装NVM-详情"><a href="#1-安装NVM-详情" class="headerlink" title="1. 安装NVM(详情)"></a>1. 安装NVM(<a href="https://code.7xinsheng.com/post/59d3b2b9fbbefc4e650f4c14" target="_blank" rel="external">详情</a>)</h2><blockquote>
<p> nvm，即node version manager，node版本管理。可进行任意切换。</p>
</blockquote>
<p>安装nvm后，在终端执行下面命令查看nvm的版本，以判断是否安装成功。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ nvm --version      <span class="comment"># 查看是否安装</span></div><div class="line">$ curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh | bash</div></pre></td></tr></table></figure>
<p><strong>为什么要用 nvm？</strong></p>
<p>开发经验：看任何一个 Node.js 项目，首先要读这个项目的 <a href="http://readme.md/" target="_blank" rel="external">README.md</a>。其次，要掌握项目的核心，就要看 <code>package.json</code> 这个文件，关键的是要看 Node.js 的版本。不同项目用的 Node.js 的版本是不一样的。而 nvm 就可以很方便地安装/切换多个版本的 Node.js。</p>
<p>部分同学电脑环境的原因，会无法安装 nvm。这样的话，装一个比较新版的 Node.js 就行，比如 8.0.0（或者最新版）。</p>
<h2 id="2-安装Node-js"><a href="#2-安装Node-js" class="headerlink" title="2. 安装Node.js"></a>2. 安装Node.js</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ nvm install 8.1.1</div><div class="line">$ node --version       <span class="comment"># 判断是否安装成功</span></div><div class="line">$ node 				   <span class="comment"># 执行测试</span></div><div class="line">$ console.log(<span class="string">'hello, js'</span>)</div></pre></td></tr></table></figure>
<p>退出node编辑模式： cmd + c 两次</p>
<hr>
<h1 id="基于Express创建WebAPP"><a href="#基于Express创建WebAPP" class="headerlink" title="基于Express创建WebAPP"></a>基于<a href="http://www.expressjs.com.cn/" target="_blank" rel="external">Express</a>创建WebAPP</h1><blockquote>
<p> Express是基于 <a href="http://nodejs.org/" target="_blank" rel="external">Node.js</a> 平台，快速、开放、极简的 web 开发框架。<a href="http://code.7xinsheng.com/post/59d3af6bfbbefc4e650f4c07" target="_blank" rel="external">more</a></p>
</blockquote>
<p>一个好的架构能给我们带来什么？更方便的处理视图(HTML)，更方便的处理路由（/page1，/page2）。</p>
<p>express提供了一个终端的指令集，可以在终端一键初始化一个项目结构，并立马执行就能启动一个webapp。剩下的你只需要填鸭子一样填入自己的文件和代码。</p>
<p>以下是在本机终端快速生成一个webapp项目：</p>
<h2 id="安装express"><a href="#安装express" class="headerlink" title="安装express"></a>安装express</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g express-generator@4  <span class="comment">#global全局安装，版本4</span></div></pre></td></tr></table></figure>
<p><strong>教程中为什么要全局安装？</strong></p>
<p>框架性的项目，要看框架解决的是什么东西，如果是基于某种语言、某种环境，快速方便的基于它来开发做项目。一般会提供一组终端的操作命令，让我们快速的基于它来做一个项目。所有的框架性的项目，都可以实现这样的需求，所以教程中让我们全局安装。</p>
<p>安装方式：</p>
<ol>
<li>全局安装（默认帮我们建立一个工程，为开发者搭建好了基础的脚手架，这样就不用从零开始了）</li>
<li>当做第三方库来使用。（在page.json 里面引用）</li>
</ol>
<h2 id="创建一个新的WebApp"><a href="#创建一个新的WebApp" class="headerlink" title="创建一个新的WebApp"></a>创建一个新的WebApp</h2><ul>
<li>创建并进入first-app文件夹</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ mkdir first-app          <span class="comment"># 目录first-app就是你的工程文件夹</span></div><div class="line">$ <span class="built_in">cd</span> first-app</div></pre></td></tr></table></figure>
<ul>
<li>在当前目录执行express来创建一个<strong>基于Express的WebApp</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ express --view=ejs       <span class="comment"># 使用ejs的视图引擎</span></div></pre></td></tr></table></figure>
<p>执行express后，要注意观察输出的信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line"></div><div class="line">   install dependencies:</div><div class="line">     $ <span class="built_in">cd</span> . &amp;&amp; npm install</div><div class="line"></div><div class="line">   run the app:</div><div class="line">     $ DEBUG=first-app:* npm start</div></pre></td></tr></table></figure>
<h2 id="安装first-app的依赖包"><a href="#安装first-app的依赖包" class="headerlink" title="安装first-app的依赖包"></a>安装first-app的依赖包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install</div></pre></td></tr></table></figure>
<h2 id="运行first-app"><a href="#运行first-app" class="headerlink" title="运行first-app"></a>运行first-app</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ DEBUG=first-app:* npm start       <span class="comment"># 或者npm start</span></div></pre></td></tr></table></figure>
<p>预览结果：浏览器打开 localhost:3000或127.0.0.1:3000</p>
<h2 id="补充知识"><a href="#补充知识" class="headerlink" title="补充知识"></a>补充知识</h2><ol>
<li>启动项目的时候，在 <code>npm start</code> 前面的命令，是为了在项目启动时，向 <code>process.env</code> 传递参数:</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ DEBUG=first-app:* PORT=3001 ABC=123 npm start</div></pre></td></tr></table></figure>
<p>预览结果：浏览器打开 localhost:3001</p>
<p>如参数<code>DEBUG=first-app:*</code>, <code>PORT=3001</code>,<code>ABC=123</code></p>
<p>如果在<code>app.js</code>里面添加<code>app.listen(4000)</code>，那么localhost:4000也可以同时浏览。</p>
<ol>
<li>在<code>./bin/www</code>输入以下内容：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(process.env);</div><div class="line"><span class="built_in">console</span>.log(process.env.ABC);</div><div class="line"><span class="built_in">console</span>.log(process.env.PORT);</div><div class="line"><span class="built_in">console</span>.log(process.env.DEBUG);</div></pre></td></tr></table></figure>
<p>运行以下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ node ./bin/www</div></pre></td></tr></table></figure>
<p>可看到具体内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123; npm_config_save_dev: <span class="string">''</span>,</div><div class="line">......&#125;</div><div class="line">123</div><div class="line">3001</div><div class="line">first-app:*</div></pre></td></tr></table></figure>
<h1 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h1><h2 id="总览"><a href="#总览" class="headerlink" title="总览"></a>总览</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">- ../my_project/first-app/          # 工程目录</div><div class="line">    - bin/                          # 存放命令行相关代码</div><div class="line">        www                         # express的入口文件</div><div class="line">    - public/                       # 存放静态资源，前端执行的资源文件。</div><div class="line">        javascripts</div><div class="line">        images</div><div class="line">        + stylesheets</div><div class="line">    - routes/                       # 存放路由逻辑，相当于“动静脉”</div><div class="line">        index.js</div><div class="line">        users.js</div><div class="line">    - views/                        # 存放页面模板</div><div class="line">        index.ejs</div><div class="line">        layout.ejs</div><div class="line">        error.ejs</div><div class="line">    package.json                    # 配置文件</div><div class="line">    app.js                          # 主程序文件，相当于程序的大脑。</div></pre></td></tr></table></figure>
<h3 id="为什么默认有好几个文件夹？"><a href="#为什么默认有好几个文件夹？" class="headerlink" title="为什么默认有好几个文件夹？"></a>为什么默认有好几个文件夹？</h3><ul>
<li><p>一个 WebApp 的工程目录应该长什么样子？</p>
<p>好的项目，是根据丰富的经验来规定工程中的目录结构的。</p>
</li>
<li><p>一个工程最重要的是什么？</p>
<p>入口文件。比如买了一台电脑，最开始的时候，要先找到电脑开关。</p>
</li>
<li><p>对于 Node.js 项目来说，最重要的是什么？</p>
<p><code>package.json</code></p>
<p>这个文件中，<code>scripts</code> 字段里就会写项目从哪里开始运行。</p>
</li>
<li><p>依赖包（第三方库）又决定了什么？</p>
<p>决定了一个项目会有什么功能。</p>
</li>
</ul>
<p>这就是学习一个 Node.js 项目的高频小套路！</p>
<h2 id="bin"><a href="#bin" class="headerlink" title="/bin"></a>/bin</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">./bin</div><div class="line">./bin/www</div></pre></td></tr></table></figure>
<p>目录<code>./bin</code>下只有一个文件<code>www</code>,文件<code>www</code>是整个first-app的入口文件（也可称为first-app的启动文件），运行first-app时要指定运行该文件，然后由该文件的内部代码去调用./app.js。</p>
<p>注：<code>./bin/www</code>文件不是必须的。</p>
<h2 id="public"><a href="#public" class="headerlink" title="/public"></a>/public</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">./public</div><div class="line">./public/javascripts</div><div class="line">./public/images</div><div class="line">./public/stylesheets</div><div class="line">./public/stylesheets/style.css</div></pre></td></tr></table></figure>
<p>目录/public是WebAPP存放静态资源的地方。这些静态资源包含css文件、浏览器运行的js文件、图片文件等。静态资源不需要设置任何路由就能直接通过链接访问。<u>（前端执行的资源文件）</u></p>
<p>比如通过<a href="http://localhost:3000/stylesheets/style.css" target="_blank" rel="external">http://localhost:3000/stylesheets/style.css</a> 可以在浏览器直接读取style.css，这样做的目的是方便浏览器再解析html页面时更方便得获得静态资源。</p>
<h2 id="routes"><a href="#routes" class="headerlink" title="/routes"></a>/routes</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">./routes</div><div class="line">./routes/index.js</div><div class="line">./routes/users.js</div></pre></td></tr></table></figure>
<p>目录<code>./routes</code>是处理所有路由逻辑的地方。<u>express动静脉</u></p>
<h2 id="views"><a href="#views" class="headerlink" title="/views"></a>/views</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">./views</div><div class="line">./views/index.ejs</div><div class="line">./views/layout.ejs</div><div class="line">./views/error.ejs</div></pre></td></tr></table></figure>
<p>目录<code>./views</code>是放置页面模板的地方。WebAPP要给用户返回html页面时，都是用<code>./views</code>中页面模板来生成html文件。不是必需的，若开发的 WebApp 有前端页面的话，自然也是不可少的；若只有数据则不需要。</p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./package.json</div></pre></td></tr></table></figure>
<p>文件<code>./package.json</code>是整个WebApp的管理依赖包的地方。</p>
<blockquote>
<p> 依赖包：当WebApp需要调用别人已经开发好的模块时，就需要将模块名和版本号写到到package.json里。这个模块就是WebAapp的依赖包，或称为依赖模块。</p>
</blockquote>
<p>除了管理依赖包，package.json还有WebAapp的名字和版本号信息。</p>
<p>脚本信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DEBUG=first-app:* npm start</div></pre></td></tr></table></figure>
<p>npm start中的<code>start</code>就是在package.json中定义的一个脚本。</p>
<p>执行<code>npm start</code>，事实上是在执行<code>node ./bin/www</code>。</p>
<p>每一个项目都是不同开发同学开发的，项目的入口文件可能都不同，如果大家都遵循一种原则，在package.json中配置好start的执行脚本，那么别人就知道直接执行npm start就可以运行项目了。</p>
<p>如果有必要，还可以在”script”结构里扩展更多的脚本。</p>
<h2 id="主程序文件"><a href="#主程序文件" class="headerlink" title="主程序文件"></a>主程序文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./app.js</div></pre></td></tr></table></figure>
<p>前面提过<code>/bin/www</code>文件是整个WebApp的启动文件，在<code>/bin/www</code>文件中最核心的代码是调用<code>./app.js</code>，而整个WebApp最核心的代码就是<code>./app.js</code>。</p>
<h3 id="额外知识"><a href="#额外知识" class="headerlink" title="额外知识"></a>额外知识</h3><h4 id="bin-www文件不是必须的"><a href="#bin-www文件不是必须的" class="headerlink" title="./bin/www文件不是必须的"></a><code>./bin/www</code>文件不是必须的</h4><p>可直接删除<code>./bin/www</code>，并在<code>app.js</code>里面添加以下内容：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.listen(<span class="number">4000</span>)</div></pre></td></tr></table></figure>
<p>输入以下代码执行程序，打开<code>localhost:4000</code>查看：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ node app.js</div></pre></td></tr></table></figure>
<h4 id="为什么官网的示例和项目中的关键代码不一样？"><a href="#为什么官网的示例和项目中的关键代码不一样？" class="headerlink" title="为什么官网的示例和项目中的关键代码不一样？"></a>为什么官网的示例和项目中的关键代码不一样？</h4><h5 id="express官网的最小可行性代码"><a href="#express官网的最小可行性代码" class="headerlink" title="express官网的最小可行性代码"></a><strong>express官网的最小可行性代码</strong></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</div><div class="line"><span class="keyword">var</span> app = express()</div><div class="line"></div><div class="line">app.get(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>)</span>&#123;</div><div class="line">  res.send(<span class="string">'Hello World'</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">app.listen(<span class="number">3000</span>)</div></pre></td></tr></table></figure>
<h5 id="app-js最小可行性代码"><a href="#app-js最小可行性代码" class="headerlink" title="app.js最小可行性代码"></a><strong><code>app.js</code>最小可行性代码</strong></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> app = <span class="built_in">require</span>(<span class="string">'../app'</span>);  </div><div class="line">var http = require('http');            # 或 var path = require('path');</div><div class="line">var server = http.createServer(app);   # 调app的库</div><div class="line">server.listen(3000);				   # 监听3000窗口</div><div class="line"><span class="built_in">module</span>.exports = app;</div></pre></td></tr></table></figure>
<p>页面显示”Cannot GET”，是express自己给的。</p>
<p>“废代码”的功能，是为了实现健壮性。代码也需要处理各种各样的事情，不可能只去做最核心的功能。所以为了实现健壮性，必须要有冗余。</p>
<h5 id="app-js能直接重命名"><a href="#app-js能直接重命名" class="headerlink" title="app.js能直接重命名"></a><code>app.js</code>能直接重命名</h5><p>直接从 <code>app.js</code>（或者重命名为 <code>server.js</code>、<code>index.js</code>），这样更形象，也更直接。将<code>package.json</code>里面的代码相应改为：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// 把原本的app.js改为server.js</div><div class="line">&#123;</div><div class="line">  ...</div><div class="line">  "scripts": &#123;</div><div class="line">    "start": "node ./server.js",</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>并在终端里执行<code>node server.js</code></p>
<h1 id="认识路由"><a href="#认识路由" class="headerlink" title="认识路由"></a>认识路由</h1><p>在浏览器中输入<code>localhost:3000/</code>和<code>localhost:3000/users</code>，分别会看到不同的页面。</p>
<p>first-app对两个不同的地址请求做出了不同的反应。</p>
<p>当first-app收到浏览器的请求后，会对<code>/</code>和<code>/users</code>做出不同的反应，换句话说是会针对不同的路由执行不同的代码。判断是<code>/</code>后就执行routes/index.js，判断是<code>/users</code>后就执行routes/users.js。</p>
<p>假如输入localhost:3000/posts，first-app并没有处理<code>/posts</code>，会返回错误页面的处理。</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1flcwz9kmekj31fw1f0ai7.jpg" alt=""></p>
<h2 id="加载路由的逻辑处理模块"><a href="#加载路由的逻辑处理模块" class="headerlink" title="加载路由的逻辑处理模块"></a>加载路由的逻辑处理模块</h2><p>在first-app/app.js文件中有如下代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var index = require(&apos;./routes/index&apos;);</div><div class="line">var users = require(&apos;./routes/users&apos;);</div></pre></td></tr></table></figure>
<p>通过require()分别加载了./routes/index和./routes/users两个文件模块。这两个文件模块是处理路由的逻辑文件。</p>
<h2 id="设置路由和逻辑处理模块"><a href="#设置路由和逻辑处理模块" class="headerlink" title="设置路由和逻辑处理模块"></a>设置路由和逻辑处理模块</h2><p>在first-app/app.js文件中设置了路由和逻辑处理模块的关系。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> index = <span class="built_in">require</span>(<span class="string">'./routes/index'</span>);</div><div class="line"><span class="keyword">var</span> users = <span class="built_in">require</span>(<span class="string">'./routes/users'</span>);</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">app.use(<span class="string">'/'</span>, index);</div><div class="line">app.use(<span class="string">'/users'</span>, users);</div><div class="line"></div><div class="line">...</div></pre></td></tr></table></figure>
<ul>
<li>输入地址localhost:3000/（路由为/） 就执行 index模块</li>
<li>输入地址 localhost:3000/users （路由为/users）就执行 users模块。</li>
<li>除了<code>/</code>和<code>/users</code>之外就没有处理其他路由的模块<ul>
<li>输入 localhost:3000/posts，因为<code>/posts</code>并没有被处理，所以返回错误页面。如下：</li>
</ul>
</li>
</ul>
<p>在first-app/app.js中针对其他路由都会执行统一的代码并返回一个错误页面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// catch 404 and forward to error handler</span></div><div class="line"></div><div class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> err = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Not Found'</span>);</div><div class="line">  err.status = <span class="number">404</span>;</div><div class="line">  next(err);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="额外知识-1"><a href="#额外知识-1" class="headerlink" title="额外知识"></a>额外知识</h3><ol>
<li>第一二行是怎么进入到下面的函数的？</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">app.use(<span class="string">'/'</span>, index);</div><div class="line">app.use(<span class="string">'/users'</span>, users);</div><div class="line"></div><div class="line"><span class="comment">// catch 404 and forward to error handler</span></div><div class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> err = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Not Found'</span>);</div><div class="line">  err.status = <span class="number">404</span>;</div><div class="line">  next(err);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>所有路由会先根据URL/后面的内容开始与<code>&#39;/&#39;</code> ,<code>/users</code>进行匹配，然后按顺序下去。</li>
<li><code>next</code>机制，省去很多麻烦。表示下一个的意思。工作机制以后讲。</li>
</ul>
<ol>
<li>可添加其他页面截流：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// catch 500 and forward to error handler</span></div><div class="line">app.use(<span class="string">'/posts'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> err = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Not Found Posts'</span>);</div><div class="line">  err.status = <span class="number">500</span>;</div><div class="line">  next(err);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 如果没有被截流，最后都会执行的代码。像try&#123;...&#125;catch()；</span></div><div class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> err = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Not Found'</span>);</div><div class="line">  err.status = <span class="number">404</span>;</div><div class="line">  next(err);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 这是一个设计方法学，express最简单的截流方式，像ifelse</span></div><div class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">err, req, res, next</span>) </span>&#123;</div><div class="line">  <span class="comment">// set locals, only providing error in development</span></div><div class="line">  res.locals.message = err.message;</div><div class="line">  res.locals.error = req.app.get(<span class="string">'env'</span>) === <span class="string">'development'</span> ? err : &#123;&#125;;</div><div class="line"></div><div class="line">  <span class="comment">// render the error page</span></div><div class="line">  res.status(err.status || <span class="number">500</span>);</div><div class="line">  res.render(<span class="string">'error'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="路由和逻辑处理"><a href="#路由和逻辑处理" class="headerlink" title="路由和逻辑处理"></a>路由和逻辑处理</h2><p>路由<code>/</code>对应的逻辑模块是routes/index.js。一般情况下<code>/</code>路由对应的页面成为首页（或主页）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* GET home page. */</span></div><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.render(<span class="string">'index'</span>, &#123; <span class="attr">title</span>: <span class="string">'Express'</span> &#125;);  <span class="comment">// 把"Express"修改为"my first WebApp"</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>路由<code>/users</code>对应的逻辑模块是<code>/routes/users.js</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* GET users listing. */</span></div><div class="line"></div><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'respond with a resource'</span>);   <span class="comment">// 修改为“zhangsan, lisi, wangermazi”</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>重新运行first-app再刷新页面看结果。</p>
<h3 id="额外知识-2"><a href="#额外知识-2" class="headerlink" title="额外知识"></a>额外知识</h3><p>为什么<code>./routes/users.js</code>里面只需要写<code>&#39;/&#39;</code>，路由就能够直接引导到<code>/users</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* GET users listing. */</span></div><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'zhangsan, lisi, wangermazi'</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/* GET users/abc listing. */</span></div><div class="line">router.get(<span class="string">'/abc'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'zhangsan, lisi, wangermazi'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>因为<code>app.js</code>里面已经指定了在<code>./routes/users.js</code>，所以可以直接忽略。像分发快递一样。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.use(<span class="string">'/users'</span>, users);</div></pre></td></tr></table></figure>
<p>参考事例 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-1" target="_blank" rel="external">first-app-sample-1</a></p>
<h1 id="配置执行项目的脚本"><a href="#配置执行项目的脚本" class="headerlink" title="配置执行项目的脚本"></a>配置执行项目的脚本</h1><p>当修改了first-app的代码后，总是要先停止项目然后再重新启动first-app。</p>
<p>在终端输入快捷组合键<code>ctrl + c</code>停止运行first-app服务，再执行运行指令运行服务。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ DEBUG=first-app:* npm start</div></pre></td></tr></table></figure>
<p>上面是正常的做法，但很麻烦。我们可以利用supervisor来监听文件被修改后自动重起项目。</p>
<h2 id="全局配置supervisor"><a href="#全局配置supervisor" class="headerlink" title="全局配置supervisor"></a>全局配置supervisor</h2><p>安装supervisor模块，一般采用全局安装，这样可以保证在终端的任何地方都可以直接使用supervisor。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm isntall -g supervisor</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> first-app</div><div class="line">$ supervisor DEBUG=first-app:* node ./bin/www</div></pre></td></tr></table></figure>
<p>相比与全局安装，我更建议你在项目中安装supervisor，两个原因。</p>
<ol>
<li>不同的项目可以有不同版本的supervisor。当你下载了一个很老的项目，可能它依赖更早的superviaor版本，如果此时用了全局安装的supervisor会有问题。</li>
<li>每个项目的依赖环境越独立，这个项目就更安全、执行更方便。</li>
</ol>
<p>如果你全局安装了supervisor可以卸载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm uninstall --global supervisor</div></pre></td></tr></table></figure>
<h2 id="在项目中配置supervisor脚本"><a href="#在项目中配置supervisor脚本" class="headerlink" title="在项目中配置supervisor脚本"></a>在项目中配置supervisor脚本</h2><p>在first-app项目中安装supervisor.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> first-app</div><div class="line">$ npm install --save supervisor</div></pre></td></tr></table></figure>
<p>通过npm install安装supervisor时带上–save参数，会把supervisor配置到package.json中:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"supervisor"</span>: <span class="string">"^0.12.0"</span></div></pre></td></tr></table></figure>
<p>然后在package.json的script字段中添加一个auto-start脚本</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="string">"scripts"</span>: &#123;</div><div class="line">  <span class="string">"start"</span>: <span class="string">"node ./bin/www"</span>,</div><div class="line">  <span class="string">"auto-start"</span>: <span class="string">"./node_modules/.bin/node-supervisor node ./bin/www"</span></div><div class="line">&#125;,</div></pre></td></tr></table></figure>
<p>以上执行成功后，往后只要执行下面指令就可以自动重启项目了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm run auto-start</div></pre></td></tr></table></figure>
<p>参考事例 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-2" target="_blank" rel="external">first-app-sample-2</a></p>
<h1 id="添加新的路由和页面"><a href="#添加新的路由和页面" class="headerlink" title="添加新的路由和页面"></a>添加新的路由和页面</h1><p>一个路由对应一个页面或一个操作，学习如何添加路由和页面是开发WebApp的最基本的能力。</p>
<p>假如想让localhost:3000/posts这个地址打开一个对应的页面。一般都按照以下顺序来操作。</p>
<ol>
<li>添加一个文件，用来处理/<code>posts</code>路由。如：./routes/posts.js。</li>
<li>添加一个页面文件，与<code>/posts</code>路由对应的。如：./views/posts.ejs。</li>
<li>在<code>app.js</code>中，将<code>/posts</code>和<code>./routes/posts.js</code>进行关联。</li>
<li><code>在./routes/posts.js</code>中，把<code>./views/posts.ejs</code>页面返回给用户。</li>
</ol>
<h2 id="新建并编写-routes-posts-js"><a href="#新建并编写-routes-posts-js" class="headerlink" title="新建并编写./routes/posts.js"></a>新建并编写./routes/posts.js</h2><blockquote>
<p> <code>./routes/posts.js</code>用来处理路由<code>/posts</code>的逻辑，在这里你可以决定路由<code>/posts</code>是返回数据还是页面。</p>
</blockquote>
<ol>
<li><h3 id="复制代码"><a href="#复制代码" class="headerlink" title="复制代码"></a>复制代码</h3><p>只需要把<code>./routes/index.js</code>中的代码copy到<code>./routes/posts.js</code>即可。</p>
</li>
<li><h3 id="修改注释"><a href="#修改注释" class="headerlink" title="修改注释"></a>修改注释</h3><p>注释中的<code>Get Home page</code>要修改为<code>Get posts page</code>。这样就保证注释的正确性。</p>
</li>
<li><h3 id="修改返回的页面"><a href="#修改返回的页面" class="headerlink" title="修改返回的页面"></a>修改返回的页面</h3><p>将<code>res.render()</code>函数的第一个参数<code>&#39;index&#39;</code>修改为<code>&#39;posts&#39;</code>，对应着<code>/views/posts.ejs</code>文件。</p>
</li>
</ol>
<p>代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">var</span> router = express.Router();</div><div class="line"></div><div class="line"><span class="comment">/* GET posts page. */</span></div><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.render(<span class="string">'posts'</span>, &#123; <span class="attr">title</span>: <span class="string">'posts page.'</span> &#125;);</div><div class="line">&#125;);</div><div class="line"><span class="built_in">module</span>.exports = router;</div></pre></td></tr></table></figure>
<h2 id="新建并编写-views-posts-ejs的页面代码"><a href="#新建并编写-views-posts-ejs的页面代码" class="headerlink" title="新建并编写./views/posts.ejs的页面代码"></a>新建并编写./views/posts.ejs的页面代码</h2><blockquote>
<p> <code>./views/posts.ejs</code>是用来构建用户看到的html页面。</p>
</blockquote>
<ol>
<li>把/views/index.ejs的代码copy到/views/posts.ejs文件。</li>
<li>这样重新运行项目，在浏览器输入localhost:3000/posts</li>
</ol>
<h2 id="关联路由’-posts’和’-routes-posts-js’"><a href="#关联路由’-posts’和’-routes-posts-js’" class="headerlink" title="关联路由’/posts’和’/routes/posts.js’"></a>关联路由’/posts’和’/routes/posts.js’</h2><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p>我们可以顺一下处理逻辑。</p>
<ul>
<li>当浏览器输入地址<code>localhost:3000/</code>，最终代码会执行到<code>routes/index.js</code>中。</li>
<li>在<code>routes/index.js</code>中，会把<code>views/index.ejs</code>生产的html页面返回给用户。</li>
</ul>
<p>以上操作会产生两个疑惑。</p>
<ol>
<li>程序处理’/‘时，是怎么找到<code>./routes/index.js</code>的？这两者的关联性在哪里？如果知道关联性就能知道如何关联<code>&#39;/posts&#39;</code></li>
<li><code>routes/index.js</code>中的<code>res.render()</code>函数，为什么会把第一个参数<code>index</code>认为是<code>views/index.ejs</code>？关联性在哪里？</li>
</ol>
<h3 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h3><p>在<code>app.js</code>中，引入<code>./routes/posts.js</code>文件，并赋值给变量posts。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var posts = require(&apos;./routes/posts&apos;);</div></pre></td></tr></table></figure>
<p>然后，将变量posts和路由’/posts’关联起来。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.use(&apos;/posts&apos;, posts);</div></pre></td></tr></table></figure>
<p><code>require()</code>是nodejs的一个全局函数，专门用于引用内部文件（模块）。</p>
<p>一个项目为了保证功能模块更清晰，会将不同的功能写在不同的文件里。</p>
<p>比如，./app.js控制路由，./routes/index.js处理某个路由逻辑，当./app.js要调用./routes/index.js时，就必须先将./routes/index.js引入进来。并用赋值给变量index。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> index = <span class="built_in">require</span>(<span class="string">'./routes/index'</span>);</div></pre></td></tr></table></figure>
<ul>
<li><code>require(&#39;./routes/posts.js&#39;)</code>和<code>require(&#39;./routes/posts&#39;)</code>是等价的。文件的后缀<code>.js</code>是可以不写的，写了也不会错。</li>
<li>将一个文件（模块）引入进来后就得使用，否则，引入一个文件（模块）就显得无意义。</li>
<li><code>app.use()</code>函数可以接受两个参数，第一个参数表示路由，第二个参数表示该路由对应的处理模块。</li>
</ul>
<p>通过app.use函数把路由/posts和逻辑处理./routes/posts.js文件关联起来了，整个代码就能走得通。</p>
<h2 id="如何让-routes-posts-js返回-views-posts-ejs这个页面"><a href="#如何让-routes-posts-js返回-views-posts-ejs这个页面" class="headerlink" title="如何让./routes/posts.js返回./views/posts.ejs这个页面"></a>如何让<code>./routes/posts.js</code>返回<code>./views/posts.ejs</code>这个页面</h2><p>在<code>./routes/posts.js</code>中，<code>res.render()</code>的第一个参数是<code>&#39;index&#39;</code>，如果把<code>&#39;index&#39;</code>直接改成<code>&#39;posts&#39;</code>是不是就可以了？答案是可以的。那为什么我输入<code>&#39;posts&#39;</code>就能关联到<code>&#39;./views/posts.ejs&#39;</code>这个文件呢？</p>
<p>奥秘是在于在./app.js里，项目已经实现把./views这个路径告诉了app。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.set(&apos;views&apos;, path.join(__dirname, &apos;views&apos;));</div></pre></td></tr></table></figure>
<p><code>app.set()</code>函数可以把一个值设置给app，这行代码的意思就是把./views这个路径设置给’views’这个字符串对应的值。那么，在代码执行时，app只要取出字符串’views’对应的路径即可。</p>
<p>所以，app是预先就知道了如果要找view相关的文件，就去./views的路径下找即可。现在，只需要把./routes/posts.js中的res.render()函数的第一个参数’index’改成’posts’即可。</p>
<h2 id="预览结果"><a href="#预览结果" class="headerlink" title="预览结果"></a>预览结果</h2><p>重新运行first-app，输入localhost:3000/posts，页面和localhost:3000/一样了就说明成功为first-app添加了一个新的访问路由/posts。</p>
<p>参考事例 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-3" target="_blank" rel="external">first-app-sample-3</a></p>
<h1 id="模板引擎"><a href="#模板引擎" class="headerlink" title="模板引擎"></a>模板引擎</h1><p>在express中，模板引擎也可以称为视图引擎。express引入模板引擎的目的是为了更好地构建html页面。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ express --view=ejs</div></pre></td></tr></table></figure>
<p>用express创建项目是，后面跟了一个–view参数，它的值是ejs。这个意图很明确：在创建express项目时使用ejs作为模板引擎。</p>
<p>项目创建成功后，在.app.js中可以看到以下代码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// view engine setup</span></div><div class="line">app.set(<span class="string">'views'</span>, path.join(__dirname, <span class="string">'views'</span>));</div><div class="line">app.set(<span class="string">'view engine'</span>, <span class="string">'ejs'</span>);</div></pre></td></tr></table></figure>
<p>express已经帮我们构建好了查找view的位置和解析view的引擎。当我们要返回页面时，只要告诉res.render函数返回的页面的名字即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">res.render(<span class="string">'index'</span>, &#123; <span class="attr">title</span>: <span class="string">'Express'</span> &#125;);</div></pre></td></tr></table></figure>
<p>事实上，express只是应我们的要求，集成了ejs模块并封装了对ejs的处理。</p>
<p>ejs本身是一个express之外的第三方库，ejs的目的就是利用ejs模板文件和数据来构建html文件。比如上面的res.render函数其实是调用了ejs引擎，利用index.ejs模板文件和{ title: ‘Express’}数据构建html文件，并返回给用户。</p>
<p>在使用模板引擎时，express封装了对ejs引擎的调用，在调用res.render函数返回页面是我们只关注两件事情。</p>
<ol>
<li>用哪个模板？</li>
<li>给什么数据？</li>
</ol>
<p>但，除了以上两件事情之外，在开发期间，我们还要来定制ejs模板。</p>
<h1 id="定制ejs模板"><a href="#定制ejs模板" class="headerlink" title="定制ejs模板"></a>定制ejs模板</h1><p>我们拿posts.ejs为例，如何在posts.ejs中构建一个列表结构的html呢？</p>
<p>比如，在<code>posts.js</code>中我们给定一个列表postsList</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.render(<span class="string">'posts'</span>, &#123; <span class="attr">title</span>: <span class="string">'posts'</span>, <span class="attr">postsList</span>: [<span class="string">'文章1'</span>, <span class="string">'文章2'</span>, <span class="string">'文章3'</span>] &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>在<code>posts.ejs</code>中，应该利用数据postsList来构建列表模板。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;</div><div class="line">    &lt;link rel=<span class="string">'stylesheet'</span> href=<span class="string">'/stylesheets/style.css'</span> /&gt;</div><div class="line">  &lt;<span class="regexp">/head&gt;</span></div><div class="line"><span class="regexp">  &lt;body&gt;</span></div><div class="line"><span class="regexp">    &lt;h1&gt;&lt;%= title %&gt;&lt;/</span>h1&gt;</div><div class="line">    &lt;p&gt;Welcome to &lt;%= title %&gt;&lt;/p&gt;</div><div class="line"></div><div class="line">    &lt;% <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; postsList.length; i++) &#123; %&gt;</div><div class="line">    &lt;p&gt;&lt;%= postsList[i] %&gt;&lt;/p&gt;</div><div class="line">    &lt;% &#125; %&gt;</div><div class="line">  &lt;<span class="regexp">/body&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>html&gt;</div></pre></td></tr></table></figure>
<p>ejs模板文件中可以嵌入代码，但代码一定是写在&lt;% %&gt;中：</p>
<ul>
<li>在正常的代码前后加上<code>&lt;% %&gt;</code>即可</li>
<li>使用某个变量的值要用<code>&lt;%= %&gt;</code></li>
<li>变量可以再计算<code>&lt;%= title + &#39; page&#39; %&gt;</code></li>
<li>执行某段代码用<code>&lt;% %&gt;</code></li>
</ul>
<p>参考事例 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-4" target="_blank" rel="external">first-app-sample-4</a></p>
<h1 id="延迟html渲染时机-客户端渲染数据"><a href="#延迟html渲染时机-客户端渲染数据" class="headerlink" title="延迟html渲染时机(客户端渲染数据)"></a>延迟html渲染时机(客户端渲染数据)</h1><h2 id="服务器构建技术"><a href="#服务器构建技术" class="headerlink" title="服务器构建技术"></a>服务器构建技术</h2><p><code>./routes/posts.js</code>里调用<code>res.render</code>函数处理用户的请求时，提供数据和ejs模板并最终交给了ejs引擎去构建html页面，然后再把页面返回给发出请求的用户。</p>
<p>这种在WebApp里依据数据构建好html的技术称为<strong>服务器构建技术</strong>，服务器会一起处理得妥妥的，浏览器获得html页面后只需要渲染html页面即可。</p>
<h2 id="客户端渲染数据"><a href="#客户端渲染数据" class="headerlink" title="客户端渲染数据"></a>客户端渲染数据</h2><p>除了服务器构建技术，还可以把依据数据构建html的过程延迟到浏览器去进行，大致处理步骤如下。</p>
<ol>
<li>通过/posts路由，获得对应的静态页面。</li>
<li>浏览器解析完页面后，通过axios向服务器发起http请求以获得文章数据。</li>
<li>拿到数据后通过vue来重新渲染页面。</li>
</ol>
<p>为了满足这个过程，必须创建一个获取文章列表的路由。</p>
<p>在<code>./routes/posts.js</code>中添加一个<code>/posts/list</code>的路由处理</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* GET 获取postsList数据 */</span></div><div class="line">router.get(<span class="string">'/list'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.json(&#123;<span class="attr">postsList</span>: [<span class="string">'文章1'</span>, <span class="string">'文章2'</span>, <span class="string">'文章3'</span>] &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>注意，这个路由通过<code>res.json()</code>函数返回一个对象数据。<code>res.json</code>可以将一个json对象返回给请求方。</p>
<p><code>./views/posts.ejs</code>引用vue和axios</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;</div><div class="line">  &lt;link rel=<span class="string">'stylesheet'</span> href=<span class="string">'/stylesheets/style.css'</span> /&gt;</div><div class="line">  &lt;script src=<span class="string">"https://cdn.bootcss.com/vue/2.4.4/vue.min.js"</span>&gt;&lt;/script&gt;</div><div class="line">  &lt;script src=<span class="string">"https://cdn.bootcss.com/axios/0.16.2/axios.min.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;<span class="regexp">/head&gt;</span></div></pre></td></tr></table></figure>
<p>在<code>./views/posts.ejs</code>中添加以下代码获得postsList并更新页面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">    el: <span class="string">'#app'</span>,</div><div class="line">    data: &#123;</div><div class="line">      postsList: []</div><div class="line">    &#125;,</div><div class="line">    methods: &#123;</div><div class="line">      fetchData () &#123;</div><div class="line">        axios.get(<span class="string">'/posts/list'</span>)</div><div class="line">          .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">            vm.postsList = response.data.postsList;</div><div class="line">          &#125;)</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  vm.fetchData();</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<p>这块代码会在浏览器加载完html后才会执行，所以获取postsList被延迟到浏览器才执行，然后再利用vue更新html的机制来刷新页面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">  &lt;div id=<span class="string">"app"</span>&gt;</div><div class="line">    &lt;h1&gt;&lt;%= title %&gt;&lt;/h1&gt;</div><div class="line">    &lt;p&gt;Welcome to &lt;%= title %&gt;&lt;/p&gt;</div><div class="line"></div><div class="line">    &lt;p v-<span class="keyword">for</span>=<span class="string">"item in postsList"</span>&gt;&#123;&#123; item &#125;&#125;&lt;<span class="regexp">/p&gt;</span></div><div class="line"><span class="regexp">  &lt;/</span>div&gt;</div><div class="line">&lt;<span class="regexp">/body&gt;</span></div></pre></td></tr></table></figure>
<p>延迟html渲染时机这种技术称为客户端渲染。</p>
<p>参考 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-5" target="_blank" rel="external">first-app-sample-5</a></p>
<h1 id="渲染时机"><a href="#渲染时机" class="headerlink" title="渲染时机"></a>渲染时机</h1><p>什么是渲染？想要理解渲染就要理解整个从html生成到html显示的过程。早些时候，当用户通过浏览器访问网站时，Web服务器生成html页面并返回给浏览器，浏览器拿到html页面后，把html渲染成可视化的网页。从这个角度理解，渲染只是浏览器做的事情。</p>
<p>但是从今天的WebApp的发展来看，渲染主要指根据数据来构建html文件，而忽略掉浏览器将html渲染成可视化页面。这一点认知很重要。</p>
<p>在处理WebApp时，HTML页面的构成的时机主要有两种。</p>
<ol>
<li>【服务器渲染】在服务器端用数据构建好页面后，再给客户端。</li>
<li>【客户端渲染】服务器先给一个基本页面模板，然后由浏览器发起数据请求，再获得数据后在浏览器重新依据获得的数据再渲染页面。</li>
</ol>
<p>这两种渲染时机存在本质的区别。</p>
<h2 id="服务器渲染"><a href="#服务器渲染" class="headerlink" title="服务器渲染"></a>服务器渲染</h2><p>服务器渲染技术意味着整个页面的构建都是在服务端完成。</p>
<p>当用户通过浏览器发起一个打开网页的请求，WebApp收到请求后，会先去数据库抓取页面要显示的数据，然后根据数据来构建html，然后再返回给用户。</p>
<p><a href="https://github.com/xugy0926/learn-webapp-guideline/blob/master/assets/render-1.png" target="_blank" rel="external"><img src="https://github.com/xugy0926/learn-webapp-guideline/raw/master/assets/render-1.png" alt="img"></a></p>
<p>这种处理的特点是，构建整个页面的所有处理时间都在服务端。这个时间包括从数据库抓取数据和由数据构建html页面。</p>
<p>假如数据量大，或者构建页面的处理逻辑复杂，势必就导致一个请求在服务器的处理时间变长。</p>
<p>把并发请求由1个变成100000个，那么 WebApp 的处理能力就很有压力，会导致宕机。</p>
<h2 id="客户端渲染"><a href="#客户端渲染" class="headerlink" title="客户端渲染"></a>客户端渲染</h2><p>还是同样的案例，当用户通过浏览器发起一个打开网页的请求，WebApp收到请求后，立即给出页面模板，浏览器收到页面后，再去发起数据请求，浏览器页面获得数据后，在浏览器根据数据来渲染页面。</p>
<p><a href="https://github.com/xugy0926/learn-webapp-guideline/blob/master/assets/render-2.png" target="_blank" rel="external"><img src="https://github.com/xugy0926/learn-webapp-guideline/raw/master/assets/render-2.png" alt="img"></a></p>
<h2 id="如何选择用客户端渲染还是服务器渲染技术"><a href="#如何选择用客户端渲染还是服务器渲染技术" class="headerlink" title="如何选择用客户端渲染还是服务器渲染技术"></a>如何选择用客户端渲染还是服务器渲染技术</h2><p>这并没有一个特别的标准，主要还是看需求以及技术选型。</p>
<h3 id="选择服务器渲染"><a href="#选择服务器渲染" class="headerlink" title="选择服务器渲染"></a>选择服务器渲染</h3><ol>
<li>如果想开发一个blog或者论坛，服务器渲染技术够用了，blog和论坛都是一些相对静止的数据。</li>
<li>如果想开发一个公司的主站，就必须用服务器渲染</li>
</ol>
<h3 id="选择客户端渲染"><a href="#选择客户端渲染" class="headerlink" title="选择客户端渲染"></a>选择客户端渲染</h3><ol>
<li>如果想开发一个展示丰富化数据的页面，用客户端渲染，这样可以在客户端做出很多动态的交互。</li>
<li>如果开发一个页面有很多权限控制的内容，比如，聊天页面有群主，群成员等等，用客户端渲染比较好。</li>
</ol>
<h3 id="客户端渲染和服务器渲染混合着用"><a href="#客户端渲染和服务器渲染混合着用" class="headerlink" title="客户端渲染和服务器渲染混合着用"></a>客户端渲染和服务器渲染混合着用</h3><p>总之，选技术要看业务和产品经验。甚至你也可以把客户端渲染和服务器渲染混合着用（一个页面部分内容由服务端渲染产生，部分内容由客户端渲染产生）。</p>
<h2 id="有必要考虑SEO"><a href="#有必要考虑SEO" class="headerlink" title="有必要考虑SEO"></a>有必要考虑SEO</h2><blockquote>
<p> SEO的全称是 Search Engine Optimization（搜索引擎优化）。</p>
</blockquote>
<p>当你开发的一个页面希望被搜索引擎（baidu，google）收录，似乎只能考虑服务器渲染技术。搜索引擎的爬虫系统在互联网上爬取页面数据就是往每个服务发请求，如果你的页面渲染技术是客户端渲染的，搜索引擎没办法解释你的页面并动态判断是否还存在部分内容要进一步的去服务端抓取数据。这势必就导致你的页面内容没办法被收录。</p>
<p>但是我们又不能为了被搜索引擎收录而全部采用服务端渲染，怎么办？这要从业务角度来做一些切分。</p>
<p>给你一个非常直观有效判断依据：公司的主页请采用服务器渲染技术。其他的页面，看业务定。</p>
<h1 id="路由归类"><a href="#路由归类" class="headerlink" title="路由归类"></a>路由归类</h1><p>WebApp不仅可以提供页面能力，还能提供数据。</p>
<ul>
<li>访问<code>localhost:3000/posts</code>可以打开页面</li>
<li>访问<code>localhost:3000/posts/list</code>可以获取文章数据。</li>
</ul>
<p>当处理的路由很多的情况下，管理路由就会成为灾难。</p>
<p>想一下，如果不断增加first-app的页面，在.app.js文中下面的代码将会不断的膨胀。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">app.use(&apos;/&apos;, index);</div><div class="line">app.use(&apos;/users&apos;, users);</div><div class="line">app.use(&apos;/posts&apos;, posts);</div></pre></td></tr></table></figure>
<p>在路由控制上应该加以区分才能保证first-app的结构更清晰更易维护。</p>
<p>在设计WebApp时把提供数据的路由称为接口，一般都带有api。</p>
<h2 id="页面路由"><a href="#页面路由" class="headerlink" title="页面路由"></a>页面路由</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">localhost:3000/      // 获取主页</div><div class="line">localhost:3000/users // 获取users页面</div><div class="line">localhost:3000/posts // 获取posts页面</div></pre></td></tr></table></figure>
<h2 id="数据路由"><a href="#数据路由" class="headerlink" title="数据路由"></a>数据路由</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">localhost:3000/api/posts  // 获取posts列表</div></pre></td></tr></table></figure>
<p>以上的分类会帮助我们更好的维护对路由的处理，然后只需要两个路由处理文件即可。</p>
<ol>
<li>新建<code>route.page.js</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">var</span> router = express.Router();</div><div class="line"></div><div class="line"><span class="comment">/* GET home page. */</span></div><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.render(<span class="string">'index'</span>, &#123; <span class="attr">title</span>: <span class="string">'Express'</span> &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/* GET posts page. */</span></div><div class="line">router.get(<span class="string">'/posts'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.render(<span class="string">'posts'</span>, &#123; <span class="attr">title</span>: <span class="string">'posts'</span>&#125; );</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = router;</div></pre></td></tr></table></figure>
<ol>
<li>新建<code>route.api.js</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">var</span> router = express.Router();</div><div class="line"></div><div class="line"><span class="comment">/* GET users lists. */</span></div><div class="line">router.get(<span class="string">'/users'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'respond with a resource'</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/* GET posts lists */</span></div><div class="line">router.get(<span class="string">'/posts'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.json(&#123;<span class="attr">postsList</span>: [<span class="string">'文章1'</span>, <span class="string">'文章2'</span>, <span class="string">'文章3'</span>]&#125;);</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = router;</div></pre></td></tr></table></figure>
<ol>
<li>修改<code>app.js</code>的路由和处理文件的对应关系</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> page = <span class="built_in">require</span>(<span class="string">'./route.page'</span>);</div><div class="line"><span class="keyword">var</span> api = <span class="built_in">require</span>(<span class="string">'./route.api'</span>);</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">app.use(<span class="string">'/'</span>, page);</div><div class="line">app.use(<span class="string">'/api'</span>, api);</div></pre></td></tr></table></figure>
<ol>
<li>修改<code>./views/posts.ejs</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">fetchData () &#123;</div><div class="line">  axios.get(<span class="string">'/api/posts'</span>)</div><div class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">      vm.postsList = response.data.postsList;</div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>通过以上的操作我们把路由重新归类整理了一番，以保证后续能更好的开发功能。</p>
<p>参考 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-6" target="_blank" rel="external">first-app-sample-6</a></p>
<h1 id="处理HTTP-POST请求"><a href="#处理HTTP-POST请求" class="headerlink" title="处理HTTP POST请求"></a>处理HTTP POST请求</h1><p>前面都是处理GET请求，通过GET请求获取页面和数据。处理POST请求也是WebApp的能力之一。通过页面输入数据并发送到WebApp的处理过程是怎么样的呢？大致过程分以下过程。</p>
<ol>
<li>设计一个路由对应一个编辑页面。</li>
<li>用户通过路由打开页面后，输入内容，并发送HTTP POST请求把数据给WebApp。</li>
<li>WebApp收到请求，依据路由分发到对应的处理模块。</li>
<li>处理模块获取用户的数据并进行相应处理。</li>
</ol>
<p>新建一个路由返回新建文章的页面</p>
<p>在<code>route.page.js</code>增加路由<code>&#39;/posts/create&#39;</code>的处理</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* GET posts edit page. */</span></div><div class="line">router.get(<span class="string">'/posts/create'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.render(<span class="string">'create'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>新建一个编辑页面create.ejs</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;link rel=<span class="string">'stylesheet'</span> href=<span class="string">'/stylesheets/style.css'</span> /&gt;</div><div class="line">    &lt;link href=<span class="string">"https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css"</span> rel=<span class="string">"stylesheet"</span>&gt;</div><div class="line">    &lt;script src=<span class="string">"https://cdn.bootcss.com/vue/2.4.4/vue.min.js"</span>&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=<span class="string">"https://cdn.bootcss.com/axios/0.16.2/axios.min.js"</span>&gt;&lt;/script&gt;</div><div class="line">  &lt;<span class="regexp">/head&gt;</span></div><div class="line"><span class="regexp">  &lt;body&gt;</span></div><div class="line"><span class="regexp">    &lt;div id="app"&gt;</span></div><div class="line"><span class="regexp">      &lt;h1&gt;新建文章&lt;/</span>h1&gt;</div><div class="line">      &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"form-group"</span>&gt;</div><div class="line">        &lt;input type=<span class="string">"text"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"form-control"</span> v-model=<span class="string">"title"</span> placeholder=<span class="string">"输入文字标题"</span>&gt;</div><div class="line">      &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">      &lt;div class="form-group"&gt;</span></div><div class="line"><span class="regexp">        &lt;textarea class="form-control" rows="3" v-model="content" placeholder="输入文章内容"&gt;&lt;/</span>textarea&gt;</div><div class="line">      &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">      &lt;div class="form-group"&gt;</span></div><div class="line"><span class="regexp">        &lt;button class="btn btn-default" v-on:click="submit"&gt;提交&lt;/</span>button&gt;</div><div class="line">      &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">    &lt;/</span>div&gt;</div><div class="line">  &lt;<span class="regexp">/body&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>html&gt;</div><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">'#app'</span>,</div><div class="line">  data: &#123;</div><div class="line">    title: <span class="string">''</span>,</div><div class="line">    content: <span class="string">''</span></div><div class="line">  &#125;,</div><div class="line">  methods: &#123;</div><div class="line">    submit () &#123;</div><div class="line">    axios.post(<span class="string">'/api/posts/create'</span>,</div><div class="line">      &#123;</div><div class="line">        title: vm.title,</div><div class="line">        content: vm.content</div><div class="line">      &#125;)</div><div class="line">      .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">        alert(<span class="built_in">JSON</span>.stringify(response.data));</div><div class="line">      &#125;)</div><div class="line">      .catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">        alert(err);</div><div class="line">      &#125;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<p>在这个编辑页面利用vue技术将<input>和<textarea>标签输入的内容和data中的title和content变量进行绑定，提交按钮事件绑定到methods的submit方法。</textarea></p>
<p>axios采用post方法来发送数据，路由地址是<code>&#39;/api/posts&#39;</code>。</p>
<p>在<code>route.api.js</code>中增加路由<code>&#39;api/posts&#39;</code>的post请求处理。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* POST posts */</span></div><div class="line">router.post(<span class="string">'/posts'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> title = req.body.title;</div><div class="line">  <span class="keyword">var</span> content = req.body.content;</div><div class="line">  res.send(&#123;title, content&#125;); <span class="comment">// 收到数据后，又把数据返回给了请求方</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>至此，我们完整构建好了从输入到接受数据的整个流程。</p>
<p>值得注意的一点。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* GET posts lists */</span></div><div class="line">router.get(<span class="string">'/posts'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">res.json(&#123;<span class="attr">postsList</span>: [<span class="string">'文章1'</span>, <span class="string">'文章2'</span>, <span class="string">'文章3'</span>]&#125;);</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">/* POST posts */</span></div><div class="line">router.post(<span class="string">'/posts/create'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> title = req.body.title;</div><div class="line">  <span class="keyword">var</span> content = req.body.content;</div><div class="line">  res.send(&#123;title, content&#125;); <span class="comment">// 收到数据后，又把数据返回给了请求方</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>以上两个路由地址都是<code>&#39;api/posts&#39;</code>，但HTTP的请求方法不同：</p>
<ul>
<li>GET请求的<code>&#39;api/posts&#39;</code>会分发给router.get</li>
<li>POST请求的<code>&#39;api/posts&#39;</code>会分发给router.post。</li>
</ul>
<p>事实上完全可以设计不同的路由地址加以区分，但没有用HTTP的请求方法区分方便。</p>
<p>参考 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-7" target="_blank" rel="external">first-app-sample-7</a></p>
<h1 id="持久化存储-mongodb"><a href="#持久化存储-mongodb" class="headerlink" title="持久化存储 - mongodb"></a>持久化存储 - mongodb</h1><p>要把数据持久化就要用到数据库，比如sqllit，mysql，mongodb。在开发小型项目时mongodb足够用了，nodejs必须引用node-mongodb-native这个库来操作mongodb数据库，庆幸的是还可以通过mongoose。</p>
<ul>
<li>mongoose是mongodb数据库的模型工具库，专门为node.js设计</li>
<li>mongoose基于node-mongodb-native并工作在异步环境下</li>
<li>可以直接认mongoose是node-mongodb-native的拓展库</li>
<li>相比操作node-mongodb-native，操作mongoose时可以简化不少代码</li>
</ul>
<p><a href="http://mongoosejs.com/" target="_blank" rel="external">mongoose官网</a></p>
<p>以下内容只作为对操作mongodb和mongoose的认识，不需要按照本篇文档操作项目。</p>
<p>在学习操作数据库技术一般先从以下步骤进行。</p>
<ol>
<li>安装mongodb数据库。</li>
<li>通过nodejs代码连接到数据库。</li>
<li>构建模型 - 表。</li>
<li>操作表 （增、删、改、查）</li>
</ol>
<h2 id="安装mongodb"><a href="#安装mongodb" class="headerlink" title="安装mongodb"></a>安装mongodb</h2><p>在本地安装mongodb可自行google。</p>
<p>在本地安装数据库时都会污染电脑的环境，避免这种情况发生可以采用docker容器的方式来安装mongodb。</p>
<h2 id="添加mongoose"><a href="#添加mongoose" class="headerlink" title="添加mongoose"></a>添加mongoose</h2><p>在项目中添加mongoose模块</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install --save mongoose</div></pre></td></tr></table></figure>
<h2 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h2><p>当本地运行mongodb数据后，nodejs代码要连上去非常容易。四行代码就能搞定。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var mongoose = require(<span class="string">'mongoose'</span>);</div><div class="line"></div><div class="line">mongoose.connect(<span class="string">'mongodb://localhost:27017/firstapp'</span>, &#123;</div><div class="line">  useMongoClient: <span class="literal">true</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>以上就是通过引入第三方模块mongoose来连接mongodb数据库。</li>
<li>数据库的端口号根据需求进行调整，一般直接安装mongodb并启动后，端口号默认是27017，如果通过docker安装，端口号会是其他的。</li>
<li>firstapp就是连接mongodb制定的数据库名，如果mongodb没有这个数据库就会新建一个。</li>
</ul>
<h2 id="定义模型-表"><a href="#定义模型-表" class="headerlink" title="定义模型 - 表"></a>定义模型 - 表</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</div><div class="line"><span class="keyword">var</span> Schema = mongoose.Schema,</div><div class="line"></div><div class="line"><span class="keyword">var</span> PostSchema = <span class="keyword">new</span> Schema(&#123;</div><div class="line">    title: <span class="built_in">String</span>,</div><div class="line">    content: <span class="built_in">String</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">const</span> PostModel = mongoose.model(<span class="string">'Post'</span>, PostSchema);</div></pre></td></tr></table></figure>
<ul>
<li>通过mongoose的Schema可以构建一个表模型，在上面构建了PostSchema模型，模型有两个字段title和content。</li>
<li>将PostSchema模型关联到’Post’这张表中，如果没有Post这张表就创建一个。这种关联很有意思，假如你想在PostSchema中增加一个字段，只需要加上并重新启动应用即可，mongoose会自动帮你在数据库表中增加一个字段。</li>
</ul>
<h2 id="操作表"><a href="#操作表" class="headerlink" title="操作表"></a>操作表</h2><p>利用PostModel来操作表（增、删、查、改）</p>
<h3 id="增"><a href="#增" class="headerlink" title="增"></a>增</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> post = <span class="keyword">new</span> PostModel();</div><div class="line"></div><div class="line">post.title = title;</div><div class="line">post.content = content;</div><div class="line"></div><div class="line">post.save(<span class="function"><span class="keyword">function</span> (<span class="params">err, doc</span>) </span>&#123;</div><div class="line">  res.send(doc);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="删"><a href="#删" class="headerlink" title="删"></a>删</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">PostModel.remove(&#123;<span class="attr">_id</span>: postId&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (err) handleError(err);</div><div class="line">  <span class="comment">//removed! success!</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>依据一个postId条件来删除对应的post。</p>
<h3 id="查"><a href="#查" class="headerlink" title="查"></a>查</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">PostModel.find(&#123;&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, docs</span>) </span>&#123;</div><div class="line">  res.json(&#123; <span class="attr">postsList</span>: docs &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>也可以只查制定的一个</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">PostModel.findOne(&#123;<span class="attr">_id</span>: postId&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, doc</span>) </span>&#123;</div><div class="line">  res.json(&#123; <span class="attr">postsList</span>: docs &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="改"><a href="#改" class="headerlink" title="改"></a>改</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">PostModel.findOne(&#123;<span class="attr">_id</span>: postId&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, doc</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (err) handleError(err);</div><div class="line">  doc.title = <span class="string">'修改标题'</span>;</div><div class="line">  doc.content = <span class="string">'修改内容'</span>;</div><div class="line">  doc.save();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">PostModel.update(&#123;<span class="attr">_id</span>: postId&#125;, &#123; <span class="attr">title</span>: <span class="string">'修改标题'</span>, <span class="attr">content</span>: <span class="string">'修改内容'</span>&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, doc</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (err) handleError(err);</div><div class="line">  <span class="comment">// updated! success!</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>在操作数据库时有几点要注意。</p>
<ol>
<li>新增内容，只需要把内容填入即可。</li>
<li>删、改、查这三个操作必须给定明确的条件，否则无法操作。</li>
</ol>
<h1 id="存储数据"><a href="#存储数据" class="headerlink" title="存储数据"></a>存储数据</h1><p>先确保first-app项目已经引入了mongoose</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> first-app</div><div class="line">$ npm install --save mongoose</div></pre></td></tr></table></figure>
<p>first-app在启动项目时要连接到mongodb数据库。</p>
<p>为了更好的管理模块，在first-app下新建<code>./models/init.js</code>文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</div><div class="line"></div><div class="line">mongoose.connect(<span class="string">'mongodb://localhost:32770/firstapp'</span>, &#123;</div><div class="line">  useMongoClient: <span class="literal">true</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>该文件用于存放数据库相关的操作文件。</p>
<p><code>init.js</code>就是数据库的初始化文件，可以在<code>./app.js</code>文件最开始引入<code>init.js</code>模板。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 在初始化app.js最开头就连接数据库</span></div><div class="line"><span class="built_in">require</span>(<span class="string">'./models/init'</span>);</div></pre></td></tr></table></figure>
<p>加载模块就会运行init.js，这样你引入的mongoose模块就连接上了数据库，后续只要操作mongoose即可。</p>
<p>新建Post模型，新建<code>./models/post.js</code>文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</div><div class="line"><span class="keyword">var</span> Schema = mongoose.Schema;</div><div class="line"></div><div class="line"><span class="keyword">var</span> PostSchema = <span class="keyword">new</span> Schema(&#123;</div><div class="line">    title: <span class="built_in">String</span>,</div><div class="line">    content: <span class="built_in">String</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">var</span> PostModel = mongoose.model(<span class="string">'Post'</span>, PostSchema);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = PostModel;</div></pre></td></tr></table></figure>
<p>在<code>route.api.js</code>中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 引入./models/post.js模块*/</span></div><div class="line"><span class="keyword">var</span> PostModel = <span class="built_in">require</span>(<span class="string">'./models/post'</span>);</div><div class="line"></div><div class="line"><span class="comment">/* POST create post 将数据保存到数据库的post表中 */</span></div><div class="line">router.post(<span class="string">'/posts/create'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> title = req.body.title;</div><div class="line">  <span class="keyword">var</span> content = req.body.content;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> post = <span class="keyword">new</span> PostModel();</div><div class="line">  post.title = title;</div><div class="line">  post.content = content;</div><div class="line">  post.save(<span class="function"><span class="keyword">function</span> (<span class="params">err, doc</span>) </span>&#123;</div><div class="line">    res.json(&#123;<span class="attr">success</span>: <span class="literal">true</span>&#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/* GET posts lists 获取所有文章列表是从数据库查数据 */</span></div><div class="line">router.get(<span class="string">'/posts'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  PostModel.find(&#123;&#125;, &#123;&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, posts</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) &#123;</div><div class="line">      res.json(&#123; <span class="attr">success</span>: <span class="literal">false</span> &#125;);</div><div class="line">      <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    res.json(&#123; <span class="attr">success</span>: <span class="literal">true</span>, <span class="attr">postsList</span>: posts &#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>文档中的样子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">var</span> router = express.Router();</div><div class="line"><span class="keyword">var</span> PostModel = <span class="built_in">require</span>(<span class="string">'./models/post'</span>);</div><div class="line"></div><div class="line"><span class="comment">/* GET users lists. */</span></div><div class="line">router.get(<span class="string">'/users'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req,res,next</span>)</span>&#123;</div><div class="line">  res.send(<span class="string">'respond with a resource'</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">/* GET posts lists 获取所有文章列表是从数据库查数据 */</span></div><div class="line">router.get(<span class="string">'/posts'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  PostModel.find(&#123;&#125;, &#123;&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, posts</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) &#123;</div><div class="line">      res.json(&#123; <span class="attr">success</span>: <span class="literal">false</span> &#125;);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      res.json(&#123; <span class="attr">success</span>: <span class="literal">true</span>, <span class="attr">postsList</span>: posts &#125;);</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/* POST posts */</span></div><div class="line">router.post(<span class="string">'/posts/create'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> title = req.body.title;</div><div class="line">  <span class="keyword">var</span> content = req.body.content;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> post = <span class="keyword">new</span> PostModel();</div><div class="line">  post.title = title;</div><div class="line">  post.content = content;</div><div class="line">  post.save(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) &#123;</div><div class="line">      res.json(&#123;<span class="attr">success</span>: <span class="literal">false</span>&#125;);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      res.json(&#123;<span class="attr">success</span>: <span class="literal">true</span>&#125;);</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = router;</div></pre></td></tr></table></figure>
<p>至此，从用户发送提交文章请求到保存到数据库的通路就完成了。而且api/posts路由会从数据库拉取文章列表并返回给用户。</p>
<p>因为postsList是从数据库拉取的对象数组，修改<code>./views/posts.ejs</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;p v-<span class="keyword">for</span>=<span class="string">"item in postsList"</span>&gt;&#123;&#123; item.title &#125;&#125;&lt;<span class="regexp">/p&gt;</span></div></pre></td></tr></table></figure>
<p>参考 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-8" target="_blank" rel="external">first-app-sample-8</a></p>
<h1 id="显示文章详情"><a href="#显示文章详情" class="headerlink" title="显示文章详情"></a>显示文章详情</h1><p>文章列表和编辑文章都已经构建好，在补充文章详情显示即可把整个操作环路打通。</p>
<ol>
<li>设计一个显示文章详情的页面路由。</li>
</ol>
<p>我们希望用户通过以下地址访问文章<code>localhost:3000/posts/show?id=123456</code></p>
<ul>
<li><code>/posts/show</code>是路由</li>
<li>query参数id是文章的id。</li>
</ul>
<p>在<code>./route.page.js</code>中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">router.get(<span class="string">'/posts/show'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> id = req.query.id;</div><div class="line"></div><div class="line">  PostModel.findOne(&#123;<span class="attr">_id</span>: id&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, post</span>) </span>&#123;</div><div class="line">    res.render(<span class="string">'show'</span>, &#123;post&#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>通过<code>req.query.id</code>可以读取url问号后面的id参数。</li>
<li>通过<code>PostModel.findOne</code>函数来查找_id等于req.query.id的post。</li>
</ul>
<ol>
<li>新建show.ejs页面</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;title&gt;&lt;%= post.title %&gt;&lt;/title&gt;</div><div class="line">    &lt;link rel=<span class="string">'stylesheet'</span> href=<span class="string">'/stylesheets/style.css'</span> /&gt;</div><div class="line">    &lt;script src=<span class="string">"https://cdn.bootcss.com/vue/2.4.4/vue.min.js"</span>&gt;&lt;/script&gt;</div><div class="line">  &lt;<span class="regexp">/head&gt;</span></div><div class="line"><span class="regexp">  &lt;body&gt;</span></div><div class="line"><span class="regexp">    &lt;div id="app"&gt;</span></div><div class="line"><span class="regexp">      &lt;h1&gt;&lt;%= post.title %&gt;&lt;/</span>h1&gt;</div><div class="line">      &lt;div&gt;&lt;%= post.content %&gt;&lt;/div&gt;</div><div class="line">    &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">  &lt;/</span>body&gt;</div><div class="line">&lt;<span class="regexp">/html&gt;</span></div></pre></td></tr></table></figure>
<p>文档中的内容：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;link rel=<span class="string">'stylesheet'</span> href=<span class="string">'/stylesheets/style.css'</span> /&gt;</div><div class="line">    &lt;link href=<span class="string">"https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css"</span> rel=<span class="string">"stylesheet"</span>&gt;</div><div class="line">  &lt;<span class="regexp">/head&gt;</span></div><div class="line"><span class="regexp">  &lt;body&gt;</span></div><div class="line"><span class="regexp">    &lt;div id="app"&gt;</span></div><div class="line"><span class="regexp">      &lt;h1&gt;&lt;%= post.title %&gt;&lt;/</span>h1&gt;</div><div class="line">      &lt;div&gt;&lt;%= post.content %&gt;&lt;/div&gt;</div><div class="line">    &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">  &lt;/</span>body&gt;</div><div class="line">&lt;<span class="regexp">/html&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>因为<code>res.render(&#39;show&#39;, {post})</code>传入的数据是一个post对象，因此在<code>show.ejs</code>中解析数据时要用<code>post.title</code>和<code>post.content</code>来填充内容。</li>
</ul>
<ol>
<li>从文章列表点击跳转到文章详情，只需要在<code>post.ejs</code>中把列表加上<a>跳转即可。</a></li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"item in postsList"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"item.url"</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在请求数据得到结果后，为每个item加上url字段</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></div><div class="line"><span class="javascript">    el: <span class="string">'#app'</span>,</span></div><div class="line"><span class="undefined">    data: &#123;</span></div><div class="line"><span class="undefined">      postsList: []</span></div><div class="line"><span class="undefined">    &#125;,</span></div><div class="line"><span class="undefined">    methods: &#123;</span></div><div class="line"><span class="undefined">      fetchData () &#123;</span></div><div class="line"><span class="javascript">        axios.get(<span class="string">'/api/posts'</span>)</span></div><div class="line"><span class="javascript">          .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span></div><div class="line"><span class="undefined">            vm.postsList = response.data.postsList;</span></div><div class="line"><span class="javascript">            vm.postsList.forEach(<span class="function">(<span class="params">element</span>) =&gt;</span> element.url = <span class="string">'/posts/show?id='</span> + element._id);</span></div><div class="line"><span class="undefined">          &#125;)</span></div><div class="line"><span class="undefined">      &#125;</span></div><div class="line"><span class="undefined">    &#125;</span></div><div class="line"><span class="undefined">  &#125;);</span></div><div class="line"><span class="undefined">  </span></div><div class="line"><span class="undefined">  vm.fetchData();</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>参考 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-9" target="_blank" rel="external">first-app-sample-9</a></p>
<h1 id="处理markdown"><a href="#处理markdown" class="headerlink" title="处理markdown"></a>处理markdown</h1><p>在nodejs中处理markdown格式非常简单，只需要一个第三方提供的翻译库即可。比如 <a href="https://github.com/chjj/marked" target="_blank" rel="external">marked</a> 或 <a href="https://github.com/markdown-it/markdown-it" target="_blank" rel="external">markdown-it</a>。</p>
<p>markdown 的简单原理：</p>
<ul>
<li>书写 markdown 文档很像在写 html，它们属于标记语言，但 markdown 的书写更简单。</li>
<li>markdown格式最终会通过翻译器翻译成html<ul>
<li><code># title</code>被翻译成<code>&lt;h1&gt;title&lt;h1&gt;</code></li>
<li><code>## subtitle</code>被翻译成<code>&lt;h2&gt;subtitle&lt;h2&gt;</code></li>
</ul>
</li>
<li><a href="http://www.appinn.com/markdown/basic.html" target="_blank" rel="external">详细的markdown语法</a></li>
</ul>
<p>下面就以第三方库marked为例说明：</p>
<h2 id="安装marked"><a href="#安装marked" class="headerlink" title="安装marked"></a>安装marked</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install marked --save</div></pre></td></tr></table></figure>
<h2 id="利用marked将md内容转化成html内容"><a href="#利用marked将md内容转化成html内容" class="headerlink" title="利用marked将md内容转化成html内容"></a>利用marked将md内容转化成html内容</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> marked = <span class="built_in">require</span>(<span class="string">'marked'</span>);</div><div class="line"><span class="keyword">var</span> mdContent = <span class="string">'# title'</span>;</div><div class="line"><span class="keyword">var</span> htmlContent = marked(mdContent);</div><div class="line"><span class="built_in">console</span>.log(htmlContent);</div><div class="line"></div><div class="line"><span class="comment">// output: &lt;h1&gt;title&lt;/h1&gt;</span></div></pre></td></tr></table></figure>
<p>以上是官方给出的例子。</p>
<h2 id="在first-app项目中引入marked模块"><a href="#在first-app项目中引入marked模块" class="headerlink" title="在first-app项目中引入marked模块"></a>在first-app项目中引入marked模块</h2><p><code>route.page.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> marked = <span class="built_in">require</span>(<span class="string">'marked'</span>);</div></pre></td></tr></table></figure>
<p>在res.render页面之前，先把post.content内容转化成html</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">router.get(<span class="string">'/posts/show'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> id = req.query.id;</div><div class="line"></div><div class="line">  PostModel.findOne(&#123; <span class="attr">_id</span>: id &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, post</span>) </span>&#123;</div><div class="line">    post.mkContent = marked(post.content);</div><div class="line">    res.render(<span class="string">'show'</span>, &#123;post&#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>在<code>show.ejs</code>中，post的content内容已经被转换成html了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;h1&gt;<span class="xml"><span class="tag">&lt;<span class="name">%=</span> <span class="attr">post.title</span> %&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></div><div class="line">  &lt;div&gt;<span class="xml"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">post.mkContent</span> %&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure>
<p><code>&lt;%- %&gt;</code>会把内容当成html来显示。</p>
<p>参考 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-10" target="_blank" rel="external">first-app-sample-10</a></p>
<hr>
<h1 id="设计页面跳转"><a href="#设计页面跳转" class="headerlink" title="设计页面跳转"></a>设计页面跳转</h1><p>通过前面的小节，first-webapp已 具备以下路由和功能。</p>
<h2 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h2><table>
<thead>
<tr>
<th>路由</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GET] /</td>
<td>主页面</td>
</tr>
<tr>
<td>[GET] /posts</td>
<td>文章列表页面</td>
</tr>
<tr>
<td>[GET] /posts/create</td>
<td>创建文章页面</td>
</tr>
<tr>
<td>[GET] /posts/show</td>
<td>显示文章页面</td>
</tr>
</tbody>
</table>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><table>
<thead>
<tr>
<th>路由</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GET] /api/users</td>
<td>创建项目时自带的功能（暂时留着）</td>
</tr>
<tr>
<td>[GET] /api/posts</td>
<td>获取文章列表</td>
</tr>
<tr>
<td>[POST] /api/posts/create</td>
<td>提交新文章</td>
</tr>
</tbody>
</table>
<p>本节将对页面的结构进行串联，以达到更好的用户体验。</p>
<p>当要设计一个类似博客的客户端时，进入主页后，可以设计一个个人宣传页面，从个人宣传页面点击后进入到文章列表页面。文章列表页面不仅展示文章的列表，还会提供发表文章。点击文章列表的某个文章标题，可以直接进入到文章详情。</p>
<p><a href="https://github.com/you7588/learn-webapp-guideline/blob/master/assets/pages-jump.png" target="_blank" rel="external"><img src="https://github.com/you7588/learn-webapp-guideline/raw/master/assets/pages-jump.png" alt="img"></a></p>
<p>通过以上的交互，可以保证整个交互是通顺的。</p>
<h2 id="跳转设计"><a href="#跳转设计" class="headerlink" title="跳转设计"></a>跳转设计</h2><h3 id="在views-index-ejs中，引入bootstrap的巨幕样式："><a href="#在views-index-ejs中，引入bootstrap的巨幕样式：" class="headerlink" title="在views/index.ejs中，引入bootstrap的巨幕样式："></a>在<code>views/index.ejs</code>中，引入bootstrap的<a href="http://v3.bootcss.com/components/#jumbotron" target="_blank" rel="external">巨幕</a>样式：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">title</span> %&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'stylesheet'</span> <span class="attr">href</span>=<span class="string">'/stylesheets/style.css'</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="在主页views-index-ejs增加巨幕样式："><a href="#在主页views-index-ejs增加巨幕样式：" class="headerlink" title="在主页views/index.ejs增加巨幕样式："></a>在主页<code>views/index.ejs</code>增加巨幕样式：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-8 col-md-offset-2"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"jumbotron"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是我记忆空间。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn btn-primary btn-lg"</span> <span class="attr">href</span>=<span class="string">"/posts"</span> <span class="attr">role</span>=<span class="string">"button"</span>&gt;</span>进入新世界<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="改全局-lt-body-gt-的背景"><a href="#改全局-lt-body-gt-的背景" class="headerlink" title="改全局 &lt;body&gt; 的背景"></a>改全局 <code>&lt;body&gt;</code> 的背景</h3><p>在全局 body 里添加background，给所有页面添加一个背景图片，以保证页面更好看一些。</p>
<p><code>public/stylesheets/style.css</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">50px</span>;</div><div class="line">  <span class="attribute">font</span>: <span class="number">14px</span> <span class="string">"Lucida Grande"</span>, Helvetica, Arial, sans-serif;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#E6CCA6</span> <span class="built_in">url</span>(../images/bg.png) repeat fixed;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="修改文章列表样式"><a href="#修改文章列表样式" class="headerlink" title="修改文章列表样式"></a>修改文章列表样式</h3><p><code>views/posts.ejs</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"list-group"</span> <span class="attr">v-for</span>=<span class="string">"item in postsList"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"list-group-item"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"item.url"</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>用 bootstrap中的 <a href="http://v3.bootcss.com/components/#list-group" target="_blank" rel="external">list-group</a> 组件来展示文章的列表</p>
<h3 id="在文章列表添加新建文章的按钮"><a href="#在文章列表添加新建文章的按钮" class="headerlink" title="在文章列表添加新建文章的按钮"></a>在文章列表添加新建文章的按钮</h3><p>案例使用的是<a href="http://v3.bootcss.com/components/#btn-groups" target="_blank" rel="external">分列式下拉菜单按钮</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- Split button --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"btn-group pull-right"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-default dropdown-toggle"</span> <span class="attr">data-toggle</span>=<span class="string">"dropdown"</span> <span class="attr">aria-haspopup</span>=<span class="string">"true"</span> <span class="attr">aria-expanded</span>=<span class="string">"false"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"caret"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sr-only"</span>&gt;</span>Toggle Dropdown<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"dropdown-menu"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/posts/create"</span>&gt;</span>新建<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>分列式菜单想正确显示，必须引入jquery.js 和 bootstrap.js</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="调整编辑页面布局"><a href="#调整编辑页面布局" class="headerlink" title="调整编辑页面布局"></a>调整编辑页面布局</h3><p><code>views/create.ejs</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-8 col-md-offset-2"</span>&gt;</span></div><div class="line">  ......</div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="调整文章显示页面布局"><a href="#调整文章显示页面布局" class="headerlink" title="调整文章显示页面布局"></a>调整文章显示页面布局</h3><p><code>views/show.ejs</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-8 col-md-offset-2"</span>&gt;</span></div><div class="line">  ......</div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>参考事例 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-11" target="_blank" rel="external">first-app-sample-11</a></p>
<h1 id="编辑文章"><a href="#编辑文章" class="headerlink" title="编辑文章"></a>编辑文章</h1><p>创建文章后，都会提供再编辑文章的功能。这个功能需要设计两个路由。一个用户访问编辑页面，另一个用于提交修改信息。</p>
<h2 id="页面-1"><a href="#页面-1" class="headerlink" title="页面"></a>页面</h2><table>
<thead>
<tr>
<th>路由</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GET] /posts/edit</td>
<td>编辑页面</td>
</tr>
</tbody>
</table>
<h2 id="API-1"><a href="#API-1" class="headerlink" title="API"></a>API</h2><table>
<thead>
<tr>
<th>路由</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>[POST] /api/posts/edit</td>
<td>提交文章修改内容</td>
</tr>
<tr>
<td>[GET] /api/posts/one</td>
<td>获取特定文章的内容</td>
</tr>
</tbody>
</table>
<h2 id="添加页面路由处理逻辑"><a href="#添加页面路由处理逻辑" class="headerlink" title="添加页面路由处理逻辑"></a>添加页面路由处理逻辑</h2><h3 id="添加编辑按钮"><a href="#添加编辑按钮" class="headerlink" title="添加编辑按钮"></a>添加编辑按钮</h3><p>在 <code>views/show.ejs</code> 中添加编辑按钮，用于触发打开编辑页面。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- Split button --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"btn-group pull-right"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-default dropdown-toggle"</span> <span class="attr">data-toggle</span>=<span class="string">"dropdown"</span> <span class="attr">aria-haspopup</span>=<span class="string">"true"</span> <span class="attr">aria-expanded</span>=<span class="string">"false"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"caret"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sr-only"</span>&gt;</span>Toggle Dropdown<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"dropdown-menu"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/posts/edit?id=&lt;%= post._id %&gt;"</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="增加访问编辑页面逻辑"><a href="#增加访问编辑页面逻辑" class="headerlink" title="增加访问编辑页面逻辑"></a>增加访问编辑页面逻辑</h3><p>在 <code>route.page.js</code> 中添加对 <code>/posts/edit</code>的处理。</p>
<p>访问编辑页面的路由需要带一个query参数id。<code>posts/edit?id=xxxx</code></p>
<p>因此需要通过req.query对象取出id。取出的id直接给到edit页面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* GET posts edit page. */</span></div><div class="line">router.get(<span class="string">'/posts/edit'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> id = req.query.id;</div><div class="line"></div><div class="line">  res.render(<span class="string">'edit'</span>, &#123; id &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="添加获取某个特定id的文章"><a href="#添加获取某个特定id的文章" class="headerlink" title="添加获取某个特定id的文章"></a>添加获取某个特定id的文章</h3><p>在<code>route.api.js</code> 中添加 <code>/posts/one</code>的路由处理。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* GET one post */</span></div><div class="line">router.get(<span class="string">'/posts/one'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> id = req.query.id;</div><div class="line"></div><div class="line">  PostModel.findOne(&#123;<span class="attr">_id</span>: id&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, post</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) &#123;</div><div class="line">      res.json(&#123; <span class="attr">success</span>: <span class="literal">false</span> &#125;);</div><div class="line">      <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    res.json(&#123; <span class="attr">success</span>: <span class="literal">true</span>, post &#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="添加编辑更新某个特定id的文章"><a href="#添加编辑更新某个特定id的文章" class="headerlink" title="添加编辑更新某个特定id的文章"></a>添加编辑更新某个特定id的文章</h3><p>使用findOneAndUpdate更新数据，第二个参数 title和content表示要更新的字段。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* PATCH edit post */</span></div><div class="line">router.post(<span class="string">'/posts/edit'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> id = req.body.id;</div><div class="line">  <span class="keyword">var</span> title = req.body.title;</div><div class="line">  <span class="keyword">var</span> content = req.body.content;</div><div class="line"></div><div class="line">  PostModel.findOneAndUpdate(&#123; <span class="attr">_id</span>: id &#125;, &#123; title, content &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) &#123;</div><div class="line">      res.json(&#123; <span class="attr">success</span>: <span class="literal">false</span> &#125;);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      res.json(&#123; <span class="attr">success</span>: <span class="literal">true</span> &#125;);</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="添加编辑页面"><a href="#添加编辑页面" class="headerlink" title="添加编辑页面"></a>添加编辑页面</h3><p>新建 <code>views/edit.ejs</code>, 内容可以从<code>views/create.ejs</code>中拷贝过来。但在 <code>&lt;script&gt;</code> 中要做一些调整。</p>
<p>获取文章id，id 是 在render页面时传给页面的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> postId = <span class="string">'&lt;%= id %&gt;'</span>;</div></pre></td></tr></table></figure>
<blockquote>
<p> 在<code>&lt;script&gt;</code>中要利用res.render传过来的变量，一样是使用&lt;%= %&gt;标签，在解释是会直接把id的值替换上去。</p>
</blockquote>
<p>Vue初始化是在created()回调中直接抓取文章数据，并把内容给到 Vue的data中的title和content。</p>
<p>修改submit方法，提交并存储更改后的内容，记得把文章id传递过去。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">created () &#123;</div><div class="line">  axios.get(<span class="string">'/api/posts/one?id='</span> + postId)</div><div class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">      vm.title = response.data.post.title;</div><div class="line">      vm.content = response.data.post.content;</div><div class="line">    &#125;)</div><div class="line">    .catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">      alert(err);</div><div class="line">    &#125;)</div><div class="line">&#125;,</div><div class="line">  methods: &#123;</div><div class="line">    submit () &#123;</div><div class="line">    axios.post(<span class="string">'/api/posts/edit'</span>,</div><div class="line">      &#123;</div><div class="line">        id: postId,</div><div class="line">        title: vm.title,</div><div class="line">        content: vm.content</div><div class="line">      &#125;)</div><div class="line">      .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">        alert(<span class="built_in">JSON</span>.stringify(response.data));</div><div class="line">      &#125;)</div><div class="line">      .catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">        alert(err);</div><div class="line">      &#125;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>这样就保证html加载时，回去根据id抓取文章内容。</p>
<p>参考事例 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-12" target="_blank" rel="external">first-app-sample-12</a></p>
<h1 id="页面模板"><a href="#页面模板" class="headerlink" title="页面模板"></a>页面模板</h1><p>以下是前面构建的所有页面。</p>
<table>
<thead>
<tr>
<th>页面</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>views/create.ejs</td>
<td>新建文章页面</td>
</tr>
<tr>
<td>views/edit.ejs</td>
<td>编辑文章页面</td>
</tr>
<tr>
<td>views/index.ejs</td>
<td>主页面</td>
</tr>
<tr>
<td>views/posts.ejs</td>
<td>文章列表页面</td>
</tr>
<tr>
<td>views/show.ejs</td>
<td>显示文章页面</td>
</tr>
</tbody>
</table>
<p>这些页面都是独立的html页面，随着业务的复杂，不断的添加页面，意味着要不断的新建页面。有没有发现一个问题，每个页面很多内容是重复的，比如<code>&lt;html&gt;&lt;head&gt;&lt;body&gt;</code>。</p>
<p>一定要想出一个办法构建一个公共的页面，公共页面包涵了html的主结构<code>&lt;html&gt;&lt;head&gt;&lt;body&gt;</code>。其他各个页面的主要内容嵌入到里面即可。</p>
<p>（TODO：这里要补一张图）</p>
<h2 id="引入express-ejs-layouts"><a href="#引入express-ejs-layouts" class="headerlink" title="引入express-ejs-layouts"></a>引入express-ejs-layouts</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install --save express-ejs-layouts</div></pre></td></tr></table></figure>
<h3 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h3><p>在app.js中引入express-ejs-layouts</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> expressLayouts = <span class="built_in">require</span>(<span class="string">'express-ejs-layouts'</span>);</div></pre></td></tr></table></figure>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>在 app.js 设置完view engine后，使用 expressLayouts</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// view engine setup</span></div><div class="line">app.set(<span class="string">'views'</span>, path.join(__dirname, <span class="string">'views'</span>));</div><div class="line">app.set(<span class="string">'view engine'</span>, <span class="string">'ejs'</span>);</div><div class="line">app.use(expressLayouts);</div></pre></td></tr></table></figure>
<h3 id="创建全局模板"><a href="#创建全局模板" class="headerlink" title="创建全局模板"></a>创建全局模板</h3><p>新建 views/layout.ejs。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">'/stylesheets/style.css'</span> /&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/vue/2.4.4/vue.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/axios/0.16.2/axios.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">%-</span> <span class="attr">body</span> %&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="修改其余页面"><a href="#修改其余页面" class="headerlink" title="修改其余页面"></a>修改其余页面</h3><p>比如在 views/index.ejs 中，可以去掉多余的标签，只关心这个页面核心内容。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-8 col-md-offset-2"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"jumbotron"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是我记忆空间。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn btn-primary btn-lg"</span> <span class="attr">href</span>=<span class="string">"/posts"</span> <span class="attr">role</span>=<span class="string">"button"</span>&gt;</span>进入新世界<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>其余页面的修改类似和 views/index.ejs 类似。</p>
<p>参考事例 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-13" target="_blank" rel="external">first-app-sample-13</a></p>
<h1 id="更好的API能力"><a href="#更好的API能力" class="headerlink" title="更好的API能力"></a>更好的API能力</h1><p>开发一个WebApp项目，项目能力全部体现路由上，路由可以称为WebApp提供给外界的API。</p>
<h2 id="API-2"><a href="#API-2" class="headerlink" title="API"></a>API</h2><table>
<thead>
<tr>
<th>路由</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>[GET] /api/users</td>
<td>创建项目时自带的功能（暂时留着）</td>
</tr>
<tr>
<td>[GET] /api/posts</td>
<td>获取文章列表</td>
</tr>
<tr>
<td>[POST] /api/posts/create</td>
<td>提交新文章</td>
</tr>
<tr>
<td>[POST] /api/posts/edit</td>
<td>提交文章修改内容</td>
</tr>
<tr>
<td>[GET] /api/posts/one</td>
<td>获取特定文章的内容</td>
</tr>
</tbody>
</table>
<h2 id="路由分类"><a href="#路由分类" class="headerlink" title="路由分类"></a>路由分类</h2><p>前面我们将获取页面的路由和获取数据的路由进行了分类，这是一个极好的习惯。这其实是业务上的分类，不仅是对功能切分，在分工上可以有不同的工程师来分别维护两者。</p>
<h2 id="API版本控制"><a href="#API版本控制" class="headerlink" title="API版本控制"></a>API版本控制</h2><p>有些时候我们还可以对api进行版本分类，以更好的升级api。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[GET] /api/v1/users</div><div class="line">[GET] /api/v1/posts</div><div class="line">[POST] /api/v1/posts/create</div><div class="line">[POST] /api/v1/posts/edit</div><div class="line">[GET] /api/v1/posts/one</div></pre></td></tr></table></figure>
<p>在未来，你可以针对某个路由进行升级。比如下面单独升级/api/v1/posts/one 为 v2。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[GET] /api/v1/users</div><div class="line">[GET] /api/v1/posts</div><div class="line">[POST] /api/v1/posts/create</div><div class="line">[POST] /api/v1/posts/edit</div><div class="line">[GET] /api/v2/posts/one</div></pre></td></tr></table></figure>
<h2 id="尽可能用http自身的方法来区分路由功能"><a href="#尽可能用http自身的方法来区分路由功能" class="headerlink" title="尽可能用http自身的方法来区分路由功能"></a>尽可能用http自身的方法来区分路由功能</h2><p>http提供了很多方法，和数据有关的有以下几类。</p>
<ul>
<li>GET（SELECT）：从服务器取出资源（一项或多项）。</li>
<li>POST（CREATE）：在服务器新建一个资源。</li>
<li>PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。</li>
<li>PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。</li>
<li>DELETE（DELETE）：从服务器删除资源。</li>
</ul>
<p>依据这个原则，我们把API调整如下。</p>
<ul>
<li>[GET] /api/v1/users</li>
<li>[GET] /api/v1/posts</li>
<li>[POST] /api/v1/posts/create</li>
<li>[PATCH] /api/v1/posts/edit</li>
<li>[GET] /api/v1/posts/one</li>
</ul>
<h2 id="避免使用动词来区分路由"><a href="#避免使用动词来区分路由" class="headerlink" title="避免使用动词来区分路由"></a>避免使用动词来区分路由</h2><p>在上面用了create，edit这样的字眼，路由尽量避免。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[GET] /api/v1/users</div><div class="line">[GET] /api/v1/posts  </div><div class="line">[POST] /api/v1/posts // 去掉动词</div><div class="line">[PATCH] /api/v1/posts  // 去掉动词</div><div class="line">[GET] /api/v1/posts/one</div></pre></td></tr></table></figure>
<p>对posts这个资源，通过http的GET，POST，PUT三个方法就能区分是做什么事情，不需要多余的动词加以区分。</p>
<h2 id="用资源ID而不是单词区分资源"><a href="#用资源ID而不是单词区分资源" class="headerlink" title="用资源ID而不是单词区分资源"></a>用资源ID而不是单词区分资源</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[GET] /api/v1/posts  // 获取文章列表</div><div class="line">[GET] /api/v1/posts/one // 获取某一个文章</div></pre></td></tr></table></figure>
<p>改成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[GET] /api/v1/posts  // 获取文章列表</div><div class="line">[GET] /api/v1/posts/:id // 获取某一个文章</div></pre></td></tr></table></figure>
<h2 id="最终的路由"><a href="#最终的路由" class="headerlink" title="最终的路由"></a>最终的路由</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[GET] /api/v1/users</div><div class="line">[GET] /api/v1/posts  </div><div class="line">[POST] /api/v1/posts</div><div class="line">[PATCH] /api/v1/posts/:id</div><div class="line">[GET] /api/v1/posts/:id</div></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>尽量用http的方法来区分功能。</li>
<li>避免在路由上用动词区分功能。</li>
<li>针对某个资源，用和该资源有关的id（或唯一值）</li>
</ol>
<p>以上我们整理和数据有关的API，数据API属于服务端范畴，页面只能用唯一的HTTP的GET方法，而且页面是属于客户端范畴。因此，页面的路由设计相对宽容一些。在教程中并不做专门的讲解。</p>
<p><a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html" target="_blank" rel="external">restfull api设计指南</a></p>
<p>参考事例 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-14" target="_blank" rel="external">first-app-sample-14</a></p>
<h1 id="更好的结果处理"><a href="#更好的结果处理" class="headerlink" title="更好的结果处理"></a>更好的结果处理</h1><p>在<code>route.api.js</code>中，我们利用 <code>res.json</code> 方法来响应请求并返回结果数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">res.json(&#123; success: false &#125;);</div><div class="line">res.json(&#123; success: true &#125;);</div><div class="line">res.json(&#123; success: true, postsList: posts &#125;);</div></pre></td></tr></table></figure>
<p>在处理结果时，我们将错误分为两类。</p>
<ol>
<li>webapp不提供的能力。</li>
<li>webapp自身的逻辑错误。</li>
</ol>
<h2 id="webapp不提供的能力"><a href="#webapp不提供的能力" class="headerlink" title="webapp不提供的能力"></a>webapp不提供的能力</h2><p>webapp提供的页面和数据能力是有限的。当客户端发起了一个不存在的路由访问，势必拿不到页面或者数据。</p>
<p>在前面的小节中，我们知道在 app.js中有统一的错误处理。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// catch 404 and forward to error handler</span></div><div class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> err = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Not Found'</span>);</div><div class="line">  err.status = <span class="number">404</span>;</div><div class="line">  next(err);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// error handler</span></div><div class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">err, req, res, next</span>) </span>&#123;</div><div class="line">  <span class="comment">// set locals, only providing error in development</span></div><div class="line">  res.locals.message = err.message;</div><div class="line">  res.locals.error = req.app.get(<span class="string">'env'</span>) === <span class="string">'development'</span> ? err : &#123;&#125;;</div><div class="line"></div><div class="line">  <span class="comment">// render the error page</span></div><div class="line">  res.status(err.status || <span class="number">500</span>);</div><div class="line">  res.render(<span class="string">'error'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="修改数据返回的错误"><a href="#修改数据返回的错误" class="headerlink" title="修改数据返回的错误"></a>修改数据返回的错误</h2><p>靠 {success: false} 或者 { success: true} 来区分是否存在错误逻辑似乎不是特别的好。</p>
<p>我们可以借助这个统一的错误中枢来统一处理所有的错误。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* GET posts lists */</span></div><div class="line">router.get(<span class="string">'/posts'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  PostModel.find(&#123;&#125;, &#123;&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, posts</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) &#123;</div><div class="line">      res.json(&#123; <span class="attr">success</span>: <span class="literal">false</span> &#125;);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      res.json(&#123; <span class="attr">success</span>: <span class="literal">true</span>, <span class="attr">postsList</span>: posts &#125;);</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>修改成</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* GET posts lists */</span></div><div class="line">router.get(<span class="string">'/posts'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  PostModel.find(&#123;&#125;, &#123;&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, posts</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) &#123;</div><div class="line">      err.status = <span class="number">500</span>;</div><div class="line">      next(err);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      res.json(&#123; <span class="attr">postsList</span>: posts &#125;);</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>我们在err对象中加入status = 500，并把错误送给错误中枢统一返回给用户。</p>
<p>其他路由修改参考上面的样子。</p>
<p>似乎每个错误都有下面相面的代码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (err) &#123;</div><div class="line">  err.status = <span class="number">500</span>;</div><div class="line">  next(err);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>为了更好的管理错误处理，我们可以把错误抽离出来，以供不同的路由逻辑来调用。</p>
<p>新建 common/errorHandle.js 文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> errorHandle = <span class="function"><span class="keyword">function</span> (<span class="params">err, next</span>) </span>&#123;</div><div class="line">  err.status = <span class="number">500</span>;</div><div class="line">  next(err);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = errorHandle;</div></pre></td></tr></table></figure>
<p>然后在 route.api.js中引用该文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> errorHandle = <span class="built_in">require</span>(<span class="string">'./common/errorHandle'</span>);</div><div class="line"></div><div class="line"><span class="comment">/* GET posts lists */</span></div><div class="line">router.get(<span class="string">'/posts'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  PostModel.find(&#123;&#125;, &#123;&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, posts</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) &#123;</div><div class="line">      errorHandle(err, next);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      res.json(&#123; <span class="attr">postsList</span>: posts &#125;);</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="修改客户端（接受结果）的处理"><a href="#修改客户端（接受结果）的处理" class="headerlink" title="修改客户端（接受结果）的处理"></a>修改客户端（接受结果）的处理</h2><p>在此前，posts.ejs中获取数据是如下处理</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">fetchData () &#123;</div><div class="line">  axios.get(<span class="string">'/api/v1/posts'</span>)</div><div class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">      vm.postsList = response.data.postsList;</div><div class="line">      vm.postsList.forEach(<span class="function">(<span class="params">element</span>) =&gt;</span> element.url = <span class="string">'/posts/show?id='</span> + element._id);</div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个处理并没有进行错误检查。上面我们知道，当服务端出现错误会返回状态码500。因此我们要接住这个错误才能保证逻辑正确处理。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">fetchData () &#123;</div><div class="line">  axios.get(<span class="string">'/api/v1/posts'</span>)</div><div class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (response.status !== <span class="number">200</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'error!'</span>);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="keyword">return</span> response.data;</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">      vm.postsList = data.postsList;</div><div class="line">      vm.postsList.forEach(<span class="function">(<span class="params">element</span>) =&gt;</span> element.url = <span class="string">'/posts/show?id='</span> + element._id);</div><div class="line">    &#125;)</div><div class="line">    .catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">      alert(err);</div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>第一个<code>then</code>函数会处理status不为200的场合并抛出一个异常（只要状态不是200就全认为是处理错误）。</li>
<li>如果状态是200，就把reponse中的data给第二个<code>then</code>函数。</li>
<li><code>then</code>函数是promise用法中的重要环节，简明说明请参考<a href="http://code.7xinsheng.com/post/59d3b0dbfbbefc4e650f4c0d" target="_blank" rel="external">点这里</a></li>
</ul>
<p>在views文件夹其他页面中获取数据的处理请参考上面的案例修改。</p>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><ol>
<li>尽量通过统一的错误处理逻辑。</li>
<li>尽量使用状态码，而不是自己设计一个错误值。例如：success：false/true。</li>
<li>客户端页面要对错误进行错误处理以保证健壮性。</li>
</ol>
<h2 id="特别提醒"><a href="#特别提醒" class="headerlink" title="特别提醒"></a>特别提醒</h2><p>在 <code>route.api.js</code>中创建post的路由处理中，可以把写入到数据库的数据重新返回给客户端。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* POST create post */</span></div><div class="line">router.post(<span class="string">'/posts'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> title = req.body.title;</div><div class="line">  <span class="keyword">var</span> content = req.body.content;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> post = <span class="keyword">new</span> PostModel();</div><div class="line">  post.title = title;</div><div class="line">  post.content = content;</div><div class="line">  post.save(<span class="function"><span class="keyword">function</span>(<span class="params">err, doc</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) &#123;</div><div class="line">      errorHandle(err, next);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      res.json(&#123;<span class="attr">post</span>: doc&#125;); <span class="comment">// 注意这里</span></div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>一般情况下，新创建的数据需要返回给客户端一份，为什么呢？因为写入到数据库后会给这条数据产生一个唯一的id，而客户端拿到这个id可以进行一些交互操作。</p>
<p>比如，在 <code>.views/create.js</code>中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">submit () &#123;</div><div class="line">  axios.post(<span class="string">'/api/v1/posts'</span>,</div><div class="line">    &#123;</div><div class="line">      title: vm.title,</div><div class="line">      content: vm.content</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (response.status !== <span class="number">200</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'error!'</span>);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="keyword">return</span> response.data;</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">      <span class="comment">// 注意这句</span></div><div class="line">      <span class="built_in">window</span>.location = <span class="string">'/posts/show?id='</span> + data.post._id;</div><div class="line">    &#125;)</div><div class="line">    .catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">      alert(err);</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可以通过服务端返回的post数据来打开刚刚创建的文章页面。</p>
<p>编辑文章时，服务端不需要返回完整的数据。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* PATCH edit post */</span></div><div class="line">router.patch(<span class="string">'/posts/:id'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> id = req.params.id;</div><div class="line">  <span class="keyword">var</span> title = req.body.title;</div><div class="line">  <span class="keyword">var</span> content = req.body.content;</div><div class="line"></div><div class="line">  PostModel.findOneAndUpdate(&#123; <span class="attr">_id</span>: id &#125;, &#123; title, content &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) &#123;</div><div class="line">      errorHandle(err, next);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      res.json(&#123;&#125;); <span class="comment">// 不需要返回文章数据</span></div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>因为编辑是对一个已经在数据库中的数据进行编辑，客户端自身有这条数据的id。 所以，在 <code>./views/edit.ejs</code>中，只需要用本地已经有的id来进行页面跳转。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">submit () &#123;</div><div class="line">  axios.patch(<span class="string">'/api/v1/posts/'</span> + postId,</div><div class="line">    &#123;</div><div class="line">      title: vm.title,</div><div class="line">      content: vm.content</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (response.status !== <span class="number">200</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'error!'</span>);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="keyword">return</span> response.data;</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">      <span class="comment">// 注意这里，用的是既有的postId来跳转到文章页面</span></div><div class="line">      <span class="built_in">window</span>.location = <span class="string">'/posts/show?id='</span> + postId</div><div class="line">    &#125;)</div><div class="line">    .catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">      alert(err);</div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这也说明了http的post和patch的使用区别，post可能需要服务端返回数据，patch不需要服务端返回数据。</p>
<p>参考事例 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-15" target="_blank" rel="external">first-app-sample-15</a></p>
<h1 id="停下来想一想"><a href="#停下来想一想" class="headerlink" title="停下来想一想"></a>停下来想一想</h1><p>通过22个小节，我们做出了一个简单的内容发布WebApp。在通过进一步之前，我建议你停下来并认真复习和思考一下。</p>
<ol>
<li>开发一个WebApp为什么需要Express，Express能带给你什么好处？</li>
<li>WebApp中的package.json在整个工程起到了什么作用？</li>
<li>在Express中Router的价值。</li>
<li>为什么要对router进行分类管理，分成route.api.js和route.page.js的好处是什么？</li>
<li>在整个数据流中，为什么要传递req和res这两个对象。</li>
<li>视图引擎是否可以定位到任意路径的文件夹。</li>
<li>app.js中的两个错误处理函数的（错误中枢）的工作原理，理解逻辑处理中的错误处理统一到错误中枢的价值。</li>
<li>ejs中 &lt;%- %&gt; 和 &lt;%= %&gt; 的差异是什么？</li>
<li>mongodb中的scheme是什么意思？</li>
</ol>
<h1 id="添加导航条"><a href="#添加导航条" class="headerlink" title="添加导航条"></a>添加导航条</h1><p>导航条是一个页面最重要的模块，bootstrap3.0 提供了很方便的导航条解决方案。</p>
<p><a href="http://v3.bootcss.com/components/#navbar" target="_blank" rel="external">http://v3.bootcss.com/components/#navbar</a></p>
<p>首先在views里新建一个_nav.ejs</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"navbar navbar-default"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container-fluid"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- Brand and toggle get grouped for better mobile display --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navbar-header"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"navbar-toggle collapsed"</span> <span class="attr">data-toggle</span>=<span class="string">"collapse"</span> <span class="attr">data-target</span>=<span class="string">"#bs-example-navbar-collapse-1"</span> <span class="attr">aria-expanded</span>=<span class="string">"false"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sr-only"</span>&gt;</span>Toggle navigation<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"icon-bar"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"icon-bar"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"icon-bar"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>我的世界<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- Collect the nav links, forms, and other content for toggling --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapse navbar-collapse"</span> <span class="attr">id</span>=<span class="string">"bs-example-navbar-collapse-1"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav navbar-nav"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/posts"</span>&gt;</span>文章<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></div></pre></td></tr></table></figure>
<p>然后在<code>views/layout.ejs</code> 中加入对 _nav.ejs 的引入</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">%</span> <span class="attr">include</span> <span class="attr">.</span>/<span class="attr">_nav</span> %&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">%-</span> <span class="attr">body</span> %&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这里有3个注意点：</p>
<ol>
<li>将导航条的html放入在 _nav.ejs 是为了更好的页面模块分类。</li>
<li>命名用下划线_ 开始，我是想强调这个ejs是供其他页面引用，而不是一个独立页面，这样可以将内部模块（组件）和独立页面分开。</li>
<li>在页面中引入其他的模块用 <code>&lt;% include file_path %&gt;</code>，include关键字和c语言中引入库的关键字一样。</li>
</ol>
<p>参考 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-16" target="_blank" rel="external">first-app-sample-16</a></p>
<h1 id="添加账号系统"><a href="#添加账号系统" class="headerlink" title="添加账号系统"></a>添加账号系统</h1><p>在 webapp 中，账号信息可以记录在浏览器里的 cookie 模块，浏览器会根据不同的域名来分配一块 cookie 空间。</p>
<p>当用户在页面输入账号和密码后，webapp 验证登录信息是正确的，这时服务会把账户信息塞到请求的 cookie 中并返回给客户端，客户端拿到信息后，把账户信息存在浏览器的 cookie 中。</p>
<p>下一次客户端向服务发起请求时，浏览器会帮我们自动把 cookie 附加到请求里，以供服务来判断这是一个已经登录的用户。当服务收到请求后，第一件事情应该是分析 cookie 里的信息并判断这个用户是不是一个真实的用户。</p>
<h2 id="一次登录过程"><a href="#一次登录过程" class="headerlink" title="一次登录过程"></a>一次登录过程</h2><p><a href="https://github.com/xugy0926/learn-webapp-guideline/blob/master/assets/login.png" target="_blank" rel="external"><img src="https://github.com/xugy0926/learn-webapp-guideline/raw/master/assets/login.png" alt="img"></a></p>
<p>在登录时，服务判断账户和密码准确后，会把相关用户信息放在� response 里 cookie 体内。</p>
<p>当服务响应登录请求后，客户端会收到 response 里的 cookie 信息并存在浏览器的 cookie 模块里。</p>
<h2 id="一次请求过程"><a href="#一次请求过程" class="headerlink" title="一次请求过程"></a>一次请求过程</h2><p><a href="https://github.com/xugy0926/learn-webapp-guideline/blob/master/assets/request-cookie.png" target="_blank" rel="external"><img src="https://github.com/xugy0926/learn-webapp-guideline/raw/master/assets/request-cookie.png" alt="img"></a></p>
<p>每次往服务发 http 请求时，浏览器里的 cookie 都会被默认带上，服务器收到请求第一件事就是分析 cookie 信息并判断该用户是否存在，如果存在就认为该用户是登录的。</p>
<p>虽然 cookie 最终存在浏览器里，但 cookie 信息不能人为串改的。写入到浏览器的 cookie 信息和分析 cookie 都是由服务来进行。</p>
<h2 id="添加存储用户信息的表"><a href="#添加存储用户信息的表" class="headerlink" title="添加存储用户信息的表"></a>添加存储用户信息的表</h2><p>新建用户信息表</p>
<p>// filepath: models/user.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var mongoose = require(&apos;mongoose&apos;);</div><div class="line">var Schema = mongoose.Schema;</div><div class="line"></div><div class="line">var UserSchema = new Schema(&#123;</div><div class="line">    name: String,</div><div class="line">    pass: String</div><div class="line">&#125;);</div><div class="line"></div><div class="line">const UserModel = mongoose.model(&apos;User&apos;, UserSchema);</div><div class="line"></div><div class="line">module.exports = UserModel;</div></pre></td></tr></table></figure>
<p>上面只存了两个字段：名字和密码。</p>
<h2 id="定义一个全局的配置文件"><a href="#定义一个全局的配置文件" class="headerlink" title="定义一个全局的配置文件"></a>定义一个全局的配置文件</h2><p>新建配置文件。</p>
<p>// filepath: config.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;</div><div class="line">  cookieName: &apos;your_cookie_name&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>存在 cookie 里的信息一定需要一个名字。</p>
<p>为了更好的管理，设计一个 config.js 来管理 webapp 中更多的静态信息。比如：后面可以把数据库的 url 在这里定义。</p>
<h2 id="增加登录和注册页面"><a href="#增加登录和注册页面" class="headerlink" title="增加登录和注册页面"></a>增加登录和注册页面</h2><h3 id="添加新的页面路由处理"><a href="#添加新的页面路由处理" class="headerlink" title="添加新的页面路由处理"></a>添加新的页面路由处理</h3><p>// filepath: route.page.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">/* GET signup page. */</div><div class="line">router.get(&apos;/signup&apos;, function(req, res, next) &#123;</div><div class="line">  res.render(&apos;signup&apos;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">/* GET signin page. */</div><div class="line">router.get(&apos;/signin&apos;, function (req, res, next) &#123;</div><div class="line">  res.render(&apos;signin&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="新建登录页面"><a href="#新建登录页面" class="headerlink" title="新建登录页面"></a>新建登录页面</h3><p>// filepath: views/signin.ejs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;col-md-4 col-md-offset-4&quot;&gt;</div><div class="line">  &lt;h1&gt;登录&lt;/h1&gt;</div><div class="line">  &lt;div class=&quot;form-group&quot;&gt;</div><div class="line">    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; v-model=&quot;name&quot; placeholder=&quot;账号&quot;&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;div class=&quot;form-group&quot;&gt;</div><div class="line">    &lt;input type=&quot;password&quot; class=&quot;form-control&quot; v-model=&quot;pass&quot; placeholder=&quot;密码&quot;&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;div class=&quot;form-group&quot;&gt;</div><div class="line">    &lt;button class=&quot;btn btn-default&quot; v-on:click=&quot;submit&quot;&gt;提交&lt;/button&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line"></div><div class="line">var vm = new Vue(&#123;</div><div class="line">  el: &apos;#app&apos;,</div><div class="line">  data: &#123;</div><div class="line">    name: &apos;&apos;,</div><div class="line">    pass: &apos;&apos;</div><div class="line">  &#125;,</div><div class="line">  methods: &#123;</div><div class="line">    submit () &#123;</div><div class="line">      axios.post(&apos;/api/v1/signin&apos;,</div><div class="line">        &#123;</div><div class="line">          name: vm.name,</div><div class="line">          pass: vm.pass</div><div class="line">        &#125;)</div><div class="line">        .then(function(response) &#123;</div><div class="line">          if (response.status !== 200) &#123;</div><div class="line">            throw new Error(&apos;error!&apos;);</div><div class="line">          &#125;</div><div class="line"></div><div class="line">          return response.data;</div><div class="line">        &#125;)</div><div class="line">        .then(function(data) &#123;</div><div class="line">          window.location = &apos;/&apos;;</div><div class="line">        &#125;)</div><div class="line">        .catch(function(err) &#123;</div><div class="line">          alert(err);</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="新建注册页面"><a href="#新建注册页面" class="headerlink" title="新建注册页面"></a>新建注册页面</h3><p>注册页面会比登录页面多一个重复密码的输入，这是为了保证用户在输入新密码时不出错。</p>
<p>// filepath: views/signup.ejs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;col-md-4 col-md-offset-4&quot;&gt;</div><div class="line">  &lt;h1&gt;登录&lt;/h1&gt;</div><div class="line">  &lt;div class=&quot;form-group&quot;&gt;</div><div class="line">    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; v-model=&quot;name&quot; placeholder=&quot;账号&quot;&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;div class=&quot;form-group&quot;&gt;</div><div class="line">    &lt;input type=&quot;password&quot; class=&quot;form-control&quot; v-model=&quot;pass&quot; placeholder=&quot;密码&quot;&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;div class=&quot;form-group&quot;&gt;</div><div class="line">    &lt;input type=&quot;password&quot; class=&quot;form-control&quot; v-model=&quot;rePass&quot; placeholder=&quot;密码&quot;&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;div class=&quot;form-group&quot;&gt;</div><div class="line">    &lt;button class=&quot;btn btn-default&quot; v-on:click=&quot;submit&quot;&gt;提交&lt;/button&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line"></div><div class="line">var vm = new Vue(&#123;</div><div class="line">  el: &apos;#app&apos;,</div><div class="line">  data: &#123;</div><div class="line">    name: &apos;&apos;,</div><div class="line">    pass: &apos;&apos;,</div><div class="line">    rePass: &apos;&apos;</div><div class="line">  &#125;,</div><div class="line">  methods: &#123;</div><div class="line">    submit () &#123;</div><div class="line">      axios.post(&apos;/api/v1/signup&apos;,</div><div class="line">        &#123;</div><div class="line">          name: vm.name,</div><div class="line">          pass: vm.pass,</div><div class="line">          rePass: vm.rePass</div><div class="line">        &#125;)</div><div class="line">        .then(function(response) &#123;</div><div class="line">          if (response.status !== 200) &#123;</div><div class="line">            throw new Error(&apos;error!&apos;);</div><div class="line">          &#125;</div><div class="line"></div><div class="line">          return response.data;</div><div class="line">        &#125;)</div><div class="line">        .then(function(data) &#123;</div><div class="line">          window.location = &apos;/&apos;;</div><div class="line">        &#125;)</div><div class="line">        .catch(function(err) &#123;</div><div class="line">          alert(err);</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="添加登录和注册的http请求处理"><a href="#添加登录和注册的http请求处理" class="headerlink" title="添加登录和注册的http请求处理"></a>添加登录和注册的http请求处理</h2><h3 id="引入模块"><a href="#引入模块" class="headerlink" title="引入模块"></a>引入模块</h3><p>// filepath: route.api.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var bcrypt = require(&apos;bcrypt&apos;);</div><div class="line">var UserModel = require(&apos;./models/user&apos;);</div><div class="line">var config = require(&apos;./config&apos;);</div></pre></td></tr></table></figure>
<p>一般存在数据库里的密码不能是明文的，bcrypt 这个库用来对密码做hash求值，将密码的hash值存在数据库中。</p>
<h3 id="处理-api-v1-signup-请求"><a href="#处理-api-v1-signup-请求" class="headerlink" title="处理 api/v1/signup 请求"></a>处理 api/v1/signup 请求</h3><p>// filepath: route.api.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">/* POST signup user */</div><div class="line">router.post(&apos;/signup&apos;, function(req, res, next) &#123;</div><div class="line">  var name = req.body.name;</div><div class="line">  var pass = req.body.pass;</div><div class="line">  var rePass = req.body.rePass;</div><div class="line"></div><div class="line">  if (pass !== rePass) &#123;</div><div class="line">    return errorHandle(new Error(&apos;两次密码不对&apos;), next);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  var user = new UserModel();</div><div class="line">  user.name = name;</div><div class="line">  user.pass = bcrypt.hashSync(pass, 10);</div><div class="line">  user.save(function(err) &#123;</div><div class="line">    if (err) &#123;</div><div class="line">      errorHandle(err, next);</div><div class="line">    &#125; else &#123;</div><div class="line">      res.end();</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>处理注册请求时，要先对传入的两次密码进行对比，如果不一致就返回错误的响应。</p>
<p>在把注册信息保存到数据时，要将密码进行hash求值，数据库一定不能存密码明文。这不仅为了安全考虑，也是对用户的一个尊重。</p>
<h3 id="处理-api-v1-signin-请求"><a href="#处理-api-v1-signin-请求" class="headerlink" title="处理 api/v1/signin 请求"></a>处理 api/v1/signin 请求</h3><p>// filepath: route.api.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">/* POST signin user */</div><div class="line">router.post(&apos;/signin&apos;, function(req, res, next) &#123;</div><div class="line">  var name = req.body.name || &apos;&apos;;</div><div class="line">  var pass = req.body.pass || &apos;&apos;;</div><div class="line"></div><div class="line">  UserModel.findOne(&#123; name &#125;, function(err, user) &#123;</div><div class="line">    if (err || !user) &#123;</div><div class="line">      return errorHandle(new Error(&apos;找不到用户&apos;), next);</div><div class="line">    &#125; else &#123;</div><div class="line">      var isOk = bcrypt.compareSync(pass, user.pass);</div><div class="line">      if (!isOk) &#123;</div><div class="line">        return errorHandle(new Error(&apos;密码不对&apos;), next);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      var authToken = user._id;</div><div class="line">      var opts = &#123;</div><div class="line">        path: &apos;/&apos;,</div><div class="line">        maxAge: 1000 * 60 * 60 * 24 * 30, // cookie 有效期30天</div><div class="line">        signed: true,</div><div class="line">        httpOnly: true</div><div class="line">      &#125;;</div><div class="line"></div><div class="line">      res.cookie(config.cookieName, authToken, opts);</div><div class="line">      res.end();</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">module.exports = router;</div></pre></td></tr></table></figure>
<p>验证登录信息，要把用户输入的账号和密码与数据库里的账号和密码进行比较，如果一致，表明是一个已经注册过的用户。</p>
<p>上面把 user._id 当做 token 存在了 res.cookie 里。这里的核心是 res.cookie() 这个函数，它可以往 reponse 响应体内存入 cookie 信息以便浏览器能获得里面的信息。</p>
<p>opts 这个对象里记录了一些 cookie 的配置信息，这里最重要的是 maxAge 这个属性，它告诉浏览器，这个 cookie 只能有效多长时间。</p>
<h2 id="判断每一个http请求的cookie信息"><a href="#判断每一个http请求的cookie信息" class="headerlink" title="判断每一个http请求的cookie信息"></a>判断每一个http请求的cookie信息</h2><p>每一次 http 请求，服务都需要判断 cookie 中的信息，以确保当前发起请求的用户是否是登录状态。</p>
<h3 id="新建一个检查登录状态的中间件"><a href="#新建一个检查登录状态的中间件" class="headerlink" title="新建一个检查登录状态的中间件"></a>新建一个检查登录状态的中间件</h3><p>// filepath: ./middlewares/auth.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">var config = require(&apos;../config&apos;);</div><div class="line">var UserModel = require(&apos;../models/user&apos;);</div><div class="line"></div><div class="line">function authUser(req, res, next) &#123;</div><div class="line">  const authToken = req.signedCookies[config.cookieName] || &apos;&apos;;</div><div class="line">  res.locals.currentUser = null;</div><div class="line"></div><div class="line">  if (authToken) &#123;</div><div class="line">    UserModel.findOne(&#123; _id: authToken &#125;, function(err, user) &#123;</div><div class="line">      if (err) &#123;</div><div class="line">        next();</div><div class="line">      &#125; else &#123;</div><div class="line">        res.locals.currentUser = user;</div><div class="line">        next();</div><div class="line">      &#125;</div><div class="line">    &#125;);</div><div class="line">  &#125; else &#123;</div><div class="line">    next();</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">module.exports = &#123; authUser &#125;;</div></pre></td></tr></table></figure>
<p>authUser 函数会把每一个请求的 cookie 数据读出来，因为服务指导 cookie 里存了什么，所以，在这里把读出来的值直接取数据库查用户信息即可。</p>
<p>查到的用户信息存在 res.locals.currentUser中。为什么存在这里？为了在视图引擎在处理 ejs 时能读到登录的用户信息。</p>
<h3 id="植入验证用户信息的中间件"><a href="#植入验证用户信息的中间件" class="headerlink" title="植入验证用户信息的中间件"></a>植入验证用户信息的中间件</h3><p>// filepath: app.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var auth = require(&apos;./middlewares/auth&apos;);</div><div class="line"></div><div class="line">app.use(auth.authUser);</div><div class="line">app.use(&apos;/&apos;, page);</div><div class="line">app.use(&apos;/api/v1&apos;, api);</div></pre></td></tr></table></figure>
<h2 id="根据用户信息弹性的构建导航条"><a href="#根据用户信息弹性的构建导航条" class="headerlink" title="根据用户信息弹性的构建导航条"></a>根据用户信息弹性的构建导航条</h2><p>前面我们获取到了登录用户的信息并存在了 res.locals.currentUser 中。</p>
<p>可以利用 currentUser 这个对象来弹性的构建导航条信息。</p>
<p>// filepath: ./views/_nav.ejs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">&lt;nav class=&quot;navbar navbar-default&quot;&gt;</div><div class="line">  &lt;div class=&quot;container-fluid&quot;&gt;</div><div class="line">    &lt;!-- Brand and toggle get grouped for better mobile display --&gt;</div><div class="line">    &lt;div class=&quot;navbar-header&quot;&gt;</div><div class="line">      &lt;button type=&quot;button&quot; class=&quot;navbar-toggle collapsed&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#bs-example-navbar-collapse-1&quot; aria-expanded=&quot;false&quot;&gt;</div><div class="line">        &lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;</div><div class="line">        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;</div><div class="line">        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;</div><div class="line">        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;</div><div class="line">      &lt;/button&gt;</div><div class="line">      &lt;a class=&quot;navbar-brand&quot; href=&quot;/&quot;&gt;我的世界&lt;/a&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line"></div><div class="line">    &lt;!-- Collect the nav links, forms, and other content for toggling --&gt;</div><div class="line">    &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;bs-example-navbar-collapse-1&quot;&gt;</div><div class="line">      &lt;ul class=&quot;nav navbar-nav&quot;&gt;</div><div class="line">        &lt;li&gt;&lt;a href=&quot;/posts&quot;&gt;文章&lt;/a&gt;&lt;/li&gt;</div><div class="line">      &lt;/ul&gt;</div><div class="line">      &lt;ul class=&quot;nav navbar-nav navbar-right&quot;&gt;</div><div class="line">        &lt;% if(currentUser) &#123;%&gt;</div><div class="line">        &lt;li class=&quot;dropdown&quot;&gt;</div><div class="line">          &lt;a href=&quot;#&quot; class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; role=&quot;button&quot; aria-haspopup=&quot;true&quot; aria-expanded=&quot;false&quot;&gt;&lt;%= currentUser.name %&gt; &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;&lt;/a&gt;</div><div class="line">          &lt;ul class=&quot;dropdown-menu&quot;&gt;</div><div class="line">            &lt;li&gt;&lt;a href=&quot;/signout&quot;&gt;退出&lt;/a&gt;&lt;/li&gt;</div><div class="line">          &lt;/ul&gt;</div><div class="line">        &lt;/li&gt;</div><div class="line">        &lt;% &#125; else &#123; %&gt;</div><div class="line">          &lt;li&gt;&lt;a href=&quot;/signin&quot;&gt;登录&lt;/a&gt;&lt;/li&gt;</div><div class="line">          &lt;li&gt;&lt;a href=&quot;/signup&quot;&gt;注册&lt;/a&gt;&lt;/li&gt;</div><div class="line">        &lt;% &#125; %&gt;</div><div class="line">      &lt;/ul&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/nav&gt;</div></pre></td></tr></table></figure>
<p>参考 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-17" target="_blank" rel="external">first-app-sample-17</a></p>
<h1 id="访问权限"><a href="#访问权限" class="headerlink" title="访问权限"></a>访问权限</h1><p>当有了账户功能后，可以用是否是登录状态来设置一些功能。</p>
<h2 id="给-post-添加作者-id"><a href="#给-post-添加作者-id" class="headerlink" title="给 post 添加作者 id"></a>给 post 添加作者 id</h2><p>数据库中只存储 post 的 title 和 content 两个字段，有了账户信息后，可以存储作者的 id。</p>
<p>// filepath: models/post.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var mongoose = require(&apos;mongoose&apos;);</div><div class="line">var Schema = mongoose.Schema;</div><div class="line"></div><div class="line">var ObjectId = Schema.ObjectId;</div><div class="line"></div><div class="line">var PostSchema = new Schema(&#123;</div><div class="line">    title: String,</div><div class="line">    content: String,</div><div class="line">    authorId: ObjectId, // 添加作者 ID。</div><div class="line">&#125;);</div><div class="line"></div><div class="line">const PostModel = mongoose.model(&apos;Post&apos;, PostSchema);</div><div class="line"></div><div class="line">module.exports = PostModel;</div></pre></td></tr></table></figure>
<p>在处理 post 请求时，将 res.locals.currentUser._id 的值存到 post 的 authorId ，这样就会把作者的 id 写入到数据库中。</p>
<p>// filepath: route.api.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">/* POST create post */</div><div class="line">router.post(&apos;/posts&apos;, function (req, res, next) &#123;</div><div class="line">  var title = req.body.title;</div><div class="line">  var content = req.body.content;</div><div class="line">  </div><div class="line">  var post = new PostModel();</div><div class="line">  post.title = title;</div><div class="line">  post.content = content;</div><div class="line">  post.authorId = res.locals.currentUser._id;</div><div class="line">  post.save(function(err, doc) &#123;</div><div class="line">    if (err) &#123;</div><div class="line">      errorHandle(err, next);</div><div class="line">    &#125; else &#123;</div><div class="line">      res.json(&#123; post: doc &#125;);</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="限制新建-post-的处理"><a href="#限制新建-post-的处理" class="headerlink" title="限制新建 post 的处理"></a>限制新建 post 的处理</h2><p>在 views/posts.ejs 中有一个新建文章的菜单，这里应该限制登录的用户才能创建文章。</p>
<p>判断 currentUser 变量是否存在，如果存在说明用户是登录状态，才显示创建菜单</p>
<p>// filepath: views/posts.ejs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;% if(currentUser) &#123; %&gt;</div><div class="line">&lt;!-- Split button --&gt;</div><div class="line">&lt;div class=&quot;btn-group pull-right&quot;&gt;</div><div class="line">  &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot;&gt;操作&lt;/button&gt;</div><div class="line">  &lt;button type=&quot;button&quot; class=&quot;btn btn-default dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; aria-haspopup=&quot;true&quot; aria-expanded=&quot;false&quot;&gt;</div><div class="line">    &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;</div><div class="line">    &lt;span class=&quot;sr-only&quot;&gt;Toggle Dropdown&lt;/span&gt;</div><div class="line">  &lt;/button&gt;</div><div class="line">  &lt;ul class=&quot;dropdown-menu&quot;&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;/posts/create&quot;&gt;新建&lt;/a&gt;&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>
<h2 id="显示编辑-post-的处理"><a href="#显示编辑-post-的处理" class="headerlink" title="显示编辑 post 的处理"></a>显示编辑 post 的处理</h2><p>一般情况下只能登录用户是文章作者才能编辑文章，所以要对编辑菜单进行判断。</p>
<p>判断 currentUser 存在并且 currentUser 的 id 值和 post 的作者一致才显示编辑菜单。</p>
<p>// filepath: views/show.ejs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;% if(currentUser &amp;&amp; currentUser._id.toString() === post.authorId.toString() ) &#123; %&gt;</div><div class="line">&lt;!-- Split button --&gt;</div><div class="line">&lt;div class=&quot;btn-group pull-right&quot;&gt;</div><div class="line">  &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot;&gt;操作&lt;/button&gt;</div><div class="line">  &lt;button type=&quot;button&quot; class=&quot;btn btn-default dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; aria-haspopup=&quot;true&quot; aria-expanded=&quot;false&quot;&gt;</div><div class="line">    &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;</div><div class="line">    &lt;span class=&quot;sr-only&quot;&gt;Toggle Dropdown&lt;/span&gt;</div><div class="line">  &lt;/button&gt;</div><div class="line">  &lt;ul class=&quot;dropdown-menu&quot;&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;/posts/edit?id=&lt;%= post._id %&gt;&quot;&gt;编辑&lt;/a&gt;&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>
<h2 id="整理配置信息（改善）"><a href="#整理配置信息（改善）" class="headerlink" title="整理配置信息（改善）"></a>整理配置信息（改善）</h2><p>将链接 mongodb 的 url 写入到 config.js 中，这样可以更方便管理 webapp 的各种配置信息。</p>
<p>// filepath: config.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;</div><div class="line">  cookieName: &apos;your_cookie_name&apos;,</div><div class="line">  mongodbUrl: &apos;mongodb://localhost:32768/firstapp&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>链接数据时只需要使用 config 的 mongodbUrl 即可</p>
<p>// filepath: models/init.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var mongoose = require(&apos;mongoose&apos;);</div><div class="line">var config = require(&apos;../config&apos;);</div><div class="line"></div><div class="line">mongoose.connect(config.mongodbUrl, &#123;</div><div class="line">  useMongoClient: true</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>参考 <a href="https://github.com/xugy0926/learn-webapp-sample/tree/master/first-app-sample-18" target="_blank" rel="external">first-app-sample-18</a></p>
<h1 id="Kitematic"><a href="#Kitematic" class="headerlink" title="Kitematic"></a>Kitematic</h1><p>Docker是一个应用容器引擎，开发者可以打包他们的应用及依赖包到一个可移植的容器中，也可以实现虚拟化，容器使用沙箱机制，因此不会污染电脑环境。</p>
<p>(<a href="https://baike.baidu.com/item/Docker/13344470?fr=aladdin" target="_blank" rel="external">https://baike.baidu.com/item/Docker/13344470?fr=aladdin),更准确的定义参见[docker官网](https://www.docker.com/#/production</a>,%E6%9B%B4%E5%87%86%E7%A1%AE%E7%9A%84%E5%AE%9A%E4%B9%89%E5%8F%82%E8%A7%81%5Bdocker%E5%AE%98%E7%BD%91%5D(<a href="https://www.docker.com/#/production" target="_blank" rel="external">https://www.docker.com/#/production</a>))</p>
<p>为了更方便的安装和使用Docker，推荐使用Kitematic客户端。</p>
<p>Kitematic 作用是方便你在Mac或Windows上使用Docker，是与Docker Toolbox捆绑在一起的传统解决方案</p>
<ul>
<li>可以自动安装设置Docker</li>
<li>提供直观的图形用户界面</li>
<li>Kitematic与Docker Machine集成 提供VirtualBox VM，在本地安装Docker引擎</li>
</ul>
<h2 id="下载Kitematic"><a href="#下载Kitematic" class="headerlink" title="下载Kitematic"></a>下载Kitematic</h2><p>进入官方<a href="https://www.docker.com/products/docker-toolbox" target="_blank" rel="external">下载链接</a>页面，根据您的系统，选择Mac或Windows版本的进行下载</p>
<p><a href="https://github.com/you7588/learn-webapp-guideline/blob/master/assets/install-mongodb-1.png" target="_blank" rel="external"><img src="https://github.com/you7588/learn-webapp-guideline/raw/master/assets/install-mongodb-1.png" alt="img"></a></p>
<p>因为下载比较慢，我存了一份mac版的放在了百度云，有需要的可以<a href="http://pan.baidu.com/s/1dFtms0L" target="_blank" rel="external">点击链接</a>下载 密码:<code>umxh</code></p>
<h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h2><p>下载完成打开一路继续就安装好了。</p>
<p><a href="https://github.com/you7588/learn-webapp-guideline/blob/master/assets/install-mongodb-2.png" target="_blank" rel="external"><img src="https://github.com/you7588/learn-webapp-guideline/raw/master/assets/install-mongodb-2.png" alt="img"></a></p>
<p>安装完毕有显示，左边图标表示 在终端快速启动Docker 右边图标表示 Kitematic Docker的管理工具</p>
<p>之后你可以在你的应用里找到这两个应用。</p>
<h2 id="安装mongodb-1"><a href="#安装mongodb-1" class="headerlink" title="安装mongodb"></a>安装mongodb</h2><p>在Kitematic界面搜索mongo</p>
<p><a href="https://github.com/you7588/learn-webapp-guideline/blob/master/assets/install-mongodb-4.png" target="_blank" rel="external"><img src="https://github.com/you7588/learn-webapp-guideline/raw/master/assets/install-mongodb-4.png" alt="img"></a></p>
<p>点击“create”按钮就可以下载并安装mongodb的镜像，完成后会自动启动mongodb。</p>
<p><a href="https://github.com/you7588/learn-webapp-guideline/blob/master/assets/install-mongodb-5.png" target="_blank" rel="external"><img src="https://github.com/you7588/learn-webapp-guideline/raw/master/assets/install-mongodb-5.png" alt="img"></a></p>
<p>右边出现的端口就是你在程序中要用的，每个人端口可能不一样。</p>
<h1 id="关于作者"><a href="#关于作者" class="headerlink" title="关于作者"></a>关于作者</h1><ul>
<li>name: xugaoyang</li>
<li>email: <a href="mailto:i@xugaoyang.com" target="_blank" rel="external">i@xugaoyang.com</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/03/HTML/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Katherine Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时间的朋友">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/03/HTML/" itemprop="url">HTML</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-03T09:42:58+08:00">
                2017-11-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/03/HTML/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/03/HTML/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="网页的真实面目"><a href="#网页的真实面目" class="headerlink" title="网页的真实面目"></a>网页的真实面目</h1><p>浏览器上显示出来的各种内容及效果都是通过代码实现的，代码才是网页的本质，一个网页一般会由下面这几种代码组成。</p>
<ul>
<li><p>HTML超文本标记语言</p>
<p>构成网页的整理结构、组成网页中基本元素（文字、图片、表单等）</p>
</li>
<li><p>CSS层叠样式表</p>
<p>对网页的内容及外观进行修饰</p>
</li>
<li><p>Javascript</p>
<p>实现网页上的交互特效及动画</p>
</li>
<li><p>PHP、ASP、JSP</p>
<p>网站后台程序，管理网站数据和用户数据的更新、修改</p>
</li>
</ul>
<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><ul>
<li><p>HTML 指的是超文本标记语言 (Hyper Text Markup Language)</p>
</li>
<li><p>HTML 不是一种编程语言，而是一种标记语言 (markup language)</p>
</li>
<li><p>标记语言是一套标记标签 (markup tag)</p>
</li>
<li><p>HTML 使用标记标签来描述网页</p>
</li>
<li><p>HTML 文档也被称为网页。HTML 文档包含 HTML 标签和纯文本</p>
</li>
<li><p><em>HyperText</em> is text displayed on a computer or device that provides access to other text through links, also known as “hyperlinks.” In fact, you probably clicked on many, many hyperlinks on your path to this Codecademy course!</p>
</li>
<li><p>所谓的超文本就是指页面内可以包含图片、链接、甚至音乐，等非文字元素??!</p>
</li>
<li><p>HTML没有任何逻辑，它通过标记符号来标记要显示的网页元素，可以告诉浏览器如何显示其中的内容，它是一种由浏览器解释执行的语言。</p>
</li>
<li><p>Web 浏览器的作用是读取 HTML 文档，并以网页的形式显示出它们。浏览器不会显示 HTML标签（相当于是隐藏的格式描述），而是使用标签来解释页面的内容</p>
</li>
<li><p>和普通文本不同，html被称为<code>超文本</code>(hypertext),之所以被称为超文本，是因为其中的<code>超链接</code>（也就是我们平常说的链接）能够指向其他资源。</p>
<p>​</p>
<p>​</p>
</li>
</ul>
<h2 id="HTML特性"><a href="#HTML特性" class="headerlink" title="HTML特性"></a>HTML特性</h2><ul>
<li>可以使用<code>.html</code>、<code>.htm</code>作为HTML文件的扩展名</li>
<li>可以使用任意文本编辑器创建HTML文件</li>
<li>HTML 标签对大小写不敏感，W3School 使用的是小写标签，因为万维网联盟（W3C）在 HTML 4 中推荐使用小写，而在未来 (X)HTML 版本中强制使用小写。所以在之后的标签，还有属性的书写中我们一律采取小写。</li>
</ul>
<h2 id="HTML文件结构"><a href="#HTML文件结构" class="headerlink" title="HTML文件结构"></a>HTML文件结构</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>I'm Learning To Code!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Student<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Get Started<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="DOCTYPE"><a href="#DOCTYPE" class="headerlink" title="!DOCTYPE"></a>!DOCTYPE</h3><p><code>&lt;!DOCTYPE html&gt;</code> It tells the browser what type of document to expect, along with what version of HTML is being used in the document.</p>
<p><code>&lt;!DOCTYPE html&gt;</code> <em>must</em> be the first line of code in all of your HTML documents. If you don’t use the declaration, your HTML code will likely still work, however, it’s risky. For now, the browser will correctly assume that the <code>html</code> in <code>&lt;!DOCTYPE html&gt;</code> is referring to HTML5, as it is the current standard.</p>
<p>In the future, however, a new standard will override HTML5. Future browsers may assume you’re using a different, newer standard, in which case your document will be interpreted incorrectly. To make sure your document is forever interpreted correctly, always include <code>&lt;!DOCTYPE html&gt;</code> at the very beginning of your HTML documents.</p>
<h3 id="Preparing-for-HTML"><a href="#Preparing-for-HTML" class="headerlink" title="Preparing for HTML"></a>Preparing for HTML</h3><blockquote>
<p><code>&lt;html&gt;&lt;/html&gt;</code> To create HTML structure and content</p>
<p>&lt; html&gt; 与 &lt; /html&gt; 之间的文本描述网页</p>
</blockquote>
<p><code>&lt;!DOCTYPE html&gt;</code> It indicates to the browser that you will use HTML in the document, but it doesn’t actually add any HTML structure or content.</p>
<h3 id="The-Head"><a href="#The-Head" class="headerlink" title="The Head"></a>The Head</h3><p>The <code>&lt;head&gt;</code> element contains the <em>metadata</em> for a web page. Metadata is information about the page that isn’t displayed directly on the web page.</p>
<h3 id="Page-Titles"><a href="#Page-Titles" class="headerlink" title="Page Titles"></a>Page Titles</h3><p>What kind of metadata about the web page can the <code>&lt;head&gt;</code> element contain?</p>
<p>The browser displays the title of the page because the title can be specified directly inside of the <code>&lt;head&gt;</code> element, by using a <code>&lt;title&gt;</code> tag.</p>
<p>If the browser within the environment had a title bar (or tab’s title), you’d see the title of the web page you added where it appears in the image to the right.</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fl4nz2jtz6j30ms08tdg3.jpg" alt=""></p>
<h3 id="The-Body"><a href="#The-Body" class="headerlink" title="The Body"></a>The Body</h3><blockquote>
<p>Only content inside the opening and closing body tags can be displayed to the screen.</p>
<p>&lt; body&gt; 与 &lt; /body&gt; 之间的文本是可见的页面内容</p>
</blockquote>
<h3 id="HTML-Structure"><a href="#HTML-Structure" class="headerlink" title="HTML Structure"></a>HTML Structure</h3><p>In this example, the <code>&lt;body&gt;</code> element is the parent of the <code>&lt;div&gt;</code> element. Both the <code>&lt;h1&gt;</code> and <code>&lt;p&gt;</code> elements are children of the <code>&lt;div&gt;</code> element. Because the <code>&lt;h1&gt;</code> and <code>&lt;p&gt;</code> elements are in the same level, they are considered siblings, and are both grandchildren of the <code>&lt;body&gt;</code> element.</p>
<p>Understanding this hierarchy is important, because child elements can inherit attributes from their parent element.</p>
<h3 id="Whitespace"><a href="#Whitespace" class="headerlink" title="Whitespace"></a>Whitespace</h3><p>whitespace空格</p>
<p>indentation缩进 <code>tab</code>键</p>
<h1 id="HTML标签"><a href="#HTML标签" class="headerlink" title="HTML标签"></a>HTML标签</h1><h2 id="什么是标签"><a href="#什么是标签" class="headerlink" title="什么是标签"></a>什么是标签</h2><p>标签就是上面这些&lt; head&gt;、&lt; body&gt;、&lt; table&gt; 等被尖括号”&lt;”和”&gt;”包起来的对象，绝大部分的标签都是成对出现的，如&lt; table&gt;&lt; /talbe&gt;、&lt; form&gt;&lt; /form&gt;。标签对中的第一个标签是开始标签，第二个标签是结束标签，开始和结束标签也被称为开放标签和闭合标签;当然还有少部分不是成对出现的，如&lt; br&gt;、&lt; hr&gt;等。标签就是用来标记HTML元素的。位于起始标签和结束标签之间的文本就是HTML元素的内容。</p>
<h2 id="常用的标签"><a href="#常用的标签" class="headerlink" title="常用的标签"></a>常用的标签</h2><p>网页能实现各种各样的定制，实现各种各样的功能，反过来可以说明我们的标签种类是很多的，这样才能实现各种各样的功能及定义。</p>
<h3 id="HTML标题"><a href="#HTML标题" class="headerlink" title="HTML标题"></a>HTML标题</h3><blockquote>
<p>Heading 是通过 &lt; h1&gt; - &lt; h6&gt; 等标签进行定义的。对文章的一些标题进行突出，这个搜索引擎很关注，不要滥用。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is first heading<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>This is second heading<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>This is third heading<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="HTML段落"><a href="#HTML段落" class="headerlink" title="HTML段落"></a>HTML段落</h3><blockquote>
<p>paragraph 是通过 &lt; p&gt; 标签进行定义的。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is another paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">...</div><div class="line">...</div></pre></td></tr></table></figure>
<h3 id="HTML链接"><a href="#HTML链接" class="headerlink" title="HTML链接"></a>HTML链接</h3><blockquote>
<p>链接 是通过 &lt; a&gt; 标签进行定义的。</p>
</blockquote>
<p><code>&lt;a href=&quot;链接地址&quot; target=&quot;目标值&quot; title=&quot;提示文字&quot;&gt; 百度一下&lt;/a&gt;</code></p>
<h4 id="给文字及图片添加超链接"><a href="#给文字及图片添加超链接" class="headerlink" title="给文字及图片添加超链接"></a>给文字及图片添加超链接</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>let's have an example<span class="tag">&lt; /<span class="attr">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://baidu.com"</span>&gt;</span>This is a link<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.html"</span>&gt;</span>another HTML<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://baidu.com"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"photo01.png"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="超链接的打开方式"><a href="#超链接的打开方式" class="headerlink" title="超链接的打开方式"></a>超链接的打开方式</h4><blockquote>
<p>超级链接标签提供了target属性进行设置。</p>
</blockquote>
<ul>
<li><code>_self</code> —- 在当前窗口打开（默认）</li>
<li><code>_blank</code> —- 在新窗口中打开</li>
<li><code>_parent</code> —- 在父窗口中打开</li>
<li><code>_top</code> —- 在当前浏览器中打开，而框架会消失</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://baidu.com"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>This is a link<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="超链接添加提示文字"><a href="#超链接添加提示文字" class="headerlink" title="超链接添加提示文字"></a>超链接添加提示文字</h4><blockquote>
<p>当光标停留在超链接上时，提示语言就会显。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://baidu.com"</span> <span class="attr">title</span>=<span class="string">"Link to the web of baidu"</span>&gt;</span>This is a link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="超链接实现书签—-锚记链接"><a href="#超链接实现书签—-锚记链接" class="headerlink" title="超链接实现书签—-锚记链接"></a>超链接实现书签—-锚记链接</h4><blockquote>
<p>锚（anchor）是引自于船只上的锚，锚被抛下后，船只就不容易飘走、迷路。</p>
<p>实际上锚就是用于在单个页面内不同位置的跳转，有的地方叫做书签。</p>
<p>超级链接&lt; a&gt;标签的name属性用于定义锚的名称，一个页面可以定义多个锚，通过超级链接的href属性可以根据name跳转到对应的锚。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#跳转目的地名称"</span>&gt;</span>跳转起始字符<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"跳转目的地名称"</span>&gt;</span>跳转目的地字符<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#c1"</span>&gt;</span>HTML chushi<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#c2"</span>&gt;</span>HTML wenben <span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#c3"</span>&gt;</span>HTML chaowenben 1 <span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>chapter 1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>lalalaalalal<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"c2"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>chapter 2<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>lalalaalalal<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"c3"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>chapter 3<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>lalalaalalal<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="空连接（相当于返回顶端）"><a href="#空连接（相当于返回顶端）" class="headerlink" title="空连接（相当于返回顶端）"></a>空连接（相当于返回顶端）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Images图像"><a href="#Images图像" class="headerlink" title="Images图像"></a>Images图像</h3><blockquote>
<p>image是通过 &lt; img&gt; 标签进行定义的。</p>
</blockquote>
<p><code>&lt;img src=&quot;图片路径&quot; alt=&quot;图片替代文本&quot; title=&quot;提示文字&quot; width=&quot;宽度&quot; height=&quot;高度&quot; /&gt;</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">background</span>=<span class="string">"./ph01.gif"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/img2.jpg"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> align top<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"./julizi.png"</span> <span class="attr">align</span>=<span class="string">"top"</span> &gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p><code>align</code>: bottom middle top right left</p>
<h4 id="路径"><a href="#路径" class="headerlink" title="路径"></a>路径</h4><h5 id="绝对路径"><a href="#绝对路径" class="headerlink" title="绝对路径"></a>绝对路径</h5><blockquote>
<p>是指文件在硬盘上真正存在的路径，从该盘符开始的路径</p>
</blockquote>
<p>E:\HTML\images\photo.jpg 该路径表示在E盘HTML文件夹下images文件夹下的photo.jpg图像</p>
<h5 id="相对路径"><a href="#相对路径" class="headerlink" title="相对路径"></a>相对路径</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//同属于一层路径下，直接写文件名称</div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></div><div class="line"></div><div class="line">//访问该路径下面的文件夹：文件夹名称/文件名</div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/img1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></div><div class="line"></div><div class="line">//访问该路径上一层文件夹下的内容：.. /文件名</div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"../img1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></div><div class="line"></div><div class="line">//退出多层：../../文件名</div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"../../img1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></div></pre></td></tr></table></figure>
<h4 id="创建图像映射（热点地图）"><a href="#创建图像映射（热点地图）" class="headerlink" title="创建图像映射（热点地图）"></a>创建图像映射（热点地图）</h4><blockquote>
<p>点击图片的不同地方跳转到不同的地方。一张图片我们可以创建带有可供点击区域的图像地图，其中每个区域就是一个超链接。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"xx.jpg"</span> <span class="attr">usemap</span>=<span class="string">"#mp"</span>/&gt;</span>  </div><div class="line"><span class="tag">&lt;<span class="name">map</span> <span class="attr">name</span>=<span class="string">"mp"</span> <span class="attr">id</span>=<span class="string">"mp"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">area</span>&gt;</span></div><div class="line">    ...</div><div class="line">    ...</div><div class="line">    ...</div><div class="line">    <span class="tag">&lt;/<span class="name">area</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">"rect"</span> <span class="attr">coords</span>=<span class="string">"50,10,100,60"</span> <span class="attr">href</span>=<span class="string">"img.html"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">map</span>&gt;</span></div></pre></td></tr></table></figure>
<p>&lt; map&gt; —- 用来指定图片</p>
<p>&lt; area&gt; —- 用来指定超链接区域：</p>
<p><code>shape</code> —- 超链接区域形状：rect(矩形)、circle(圆形)、poly(多边形)和default(整个图像区域)。</p>
<p><code>coords</code> —- 超链接区域坐标。</p>
<p><code>href</code> —- 规定打开的链接地址。</p>
<p><code>&lt;img&gt;</code>中的<code>usemap</code>属性引用<code>&lt;map&gt;</code>中的<code>&lt;name&gt;</code>属性。</p>
<p><code>area</code>元素永远嵌套在<code>map</code>元素内部。</p>
<p><code>rect(x1,y1,x2,y2)</code> (左上角x坐标、左上角y坐标、右下角x坐标和右下角y坐标)</p>
<p><code>circle(x,y,radius)</code></p>
<p><code>poly(x1,y1,x2,y2,...,xn,yn)</code></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fl4yroe7zbj311v0h6adm.jpg" alt=""></p>
<h3 id="单标签"><a href="#单标签" class="headerlink" title="单标签"></a>单标签</h3><table>
<thead>
<tr>
<th>标签</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;hr/&gt;</code></td>
<td>水平线</td>
</tr>
<tr>
<td><code>&lt;br/&gt;</code></td>
<td>换行符</td>
</tr>
<tr>
<td><code>&lt;pre&gt;&lt;/pre&gt;</code></td>
<td>格式化</td>
</tr>
</tbody>
</table>
<h1 id="HTML文本"><a href="#HTML文本" class="headerlink" title="HTML文本"></a>HTML文本</h1><h2 id="HTML元素"><a href="#HTML元素" class="headerlink" title="HTML元素"></a>HTML元素</h2><h3 id="什么是元素"><a href="#什么是元素" class="headerlink" title="什么是元素"></a>什么是元素</h3><blockquote>
<p>HTML 元素指的是从开始标签（start tag）到结束标签（end tag）的所有代码。</p>
</blockquote>
<p>HTML网页实际上就是由许许多多各种各样的HTML元素构成的文本文件，并且任何网页浏览器都可以直接运行HTML文件。所以可以这样说，HTML元素就是构成HTML文件的基本对象，HTML元素可以说是一个统称而已。HTML元素就是通过使用HTML标签进行定义的。</p>
<p>&lt;开始标签&gt; <strong>元 素 内 容</strong> &lt;结束标签&gt;</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p><code>&lt; p&gt;</code> —- 是一个标签</p>
<p><code>&lt;p&gt;Hello World!&lt;/p&gt;</code> —- 是一个元素</p>
<p><strong>NOTE:</strong> <code>&lt; br/&gt;</code>本身既是开始标签也是结束标签，但不包含任何内容，所以这只是个标签。</p>
<h3 id="元素语法"><a href="#元素语法" class="headerlink" title="元素语法"></a>元素语法</h3><ul>
<li>HTML 元素以开始标签起始</li>
<li>HTML 元素以结束标签终止</li>
<li>元素的内容是开始标签与结束标签之间的内容</li>
<li>某些 HTML 元素具有空内容（empty content）</li>
<li>空元素在开始标签中进行关闭（以开始标签的结束而结束）</li>
<li>大多数 HTML 元素可拥有属性</li>
</ul>
<h3 id="元素嵌套示例"><a href="#元素嵌套示例" class="headerlink" title="元素嵌套示例"></a>元素嵌套示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">    &lt;body&gt;</div><div class="line">        &lt;p&gt;let&apos;s go to shiyanlou&lt;/p&gt;</div><div class="line">    &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>这里有三个元素： <code>&lt;html&gt;&lt;body&gt;&lt;p&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</code></p>
<h3 id="空元素"><a href="#空元素" class="headerlink" title="空元素"></a>空元素</h3><blockquote>
<p>HTML元素的内容是开始标签与结束标签之间的内容，而某些 HTML 元素具有空内容（empty content），这种元素被叫做空元素。比如说换行符<code>&lt;br&gt;</code>。</p>
</blockquote>
<p><strong>换行请用<code>&lt;br/&gt;</code></strong></p>
<p><code>&lt;br&gt;</code>是不规范的写法，早先发布的HTML规范中<code>&lt;br&gt;</code>、<code>&lt;hr&gt;</code>、<code>&lt;img&gt;</code>等标记元素是无需”封闭自身”的，这就造成了html规范本身的不严谨，所以后来参考了更规范的XML语言的语法推出了xhtml。在xhtml中所有类似<code>&lt;br&gt;</code>这样的孤立标签都需要自行封闭，具体的做法就是在标签名字的后面跟个”/“，例如<code>&lt;br/&gt;</code>。从逻辑上讲<code>&lt;br /&gt;=&lt;br&gt;...&lt;/br&gt;</code>，这样做的目的是为了尽量减少网页的代码量，同时保持逻辑严谨。</p>
<p><strong><code>&lt; p&gt;</code>标签和<code>&lt; br/&gt;</code>标签有什么异同呢？</strong></p>
<ul>
<li><p>相同之处：</p>
<ul>
<li><code>&lt;br&gt;</code>和<code>&lt;p&gt;</code>都是有换行的属性及作用</li>
</ul>
</li>
<li><p>不同之处：</p>
<ul>
<li><code>&lt;br/&gt;</code>是只需一个单独使用，<code>&lt;p&gt;...&lt; /p&gt;</code>是一对使用</li>
<li><code>&lt;br/&gt;</code>标签是小换行提行（相当于我们平时文本中输入一个回车）; <code>&lt;p&gt;</code>标签是大换行（分段，相当与两个回车）,各行作用。</li>
</ul>
</li>
</ul>
<h2 id="HTML属性"><a href="#HTML属性" class="headerlink" title="HTML属性"></a>HTML属性</h2><p>某些标签要想按照作者的意愿来实现在网页上，就得需要一定信息的补充，这信息就叫属性，HTML标签可以加上属性的描述。属性提供了有关 HTML 元素的更多的信息。</p>
<p>关于属性有以下语法规则：</p>
<ul>
<li>是在 HTML 元素的开始标签中定义。</li>
<li>总是以名称和值对应的形式出现，比如：name=”value”。</li>
<li>属性值应该始终被包括在引号内。双引号是最常用的，不过使用单引号也没有问题。</li>
<li>不是所有属性对所有标签都有效果的</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">bgcolor</span>=<span class="string">"#000000"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:123@123.com"</span>&gt;</span>mail to 123<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span>Halo!~<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<ol>
<li><code>href=&quot;http://www.shiyanlou.com&quot;</code> —-&lt; a&gt;标签的属性，是对&lt; a&gt;标签的补充说明，既指向的网页。</li>
<li>当你点击以后，你就可以登录你自己的邮箱，给指定的地址编写邮件来发送。</li>
</ol>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fl4rk5cme0j30xp092aan.jpg" alt=""></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fl4wol4pyxj310y0joaea.jpg" alt=""></p>
<h2 id="Text-Style-Tags（文本格式化）"><a href="#Text-Style-Tags（文本格式化）" class="headerlink" title="Text Style Tags（文本格式化）"></a>Text Style Tags（文本格式化）</h2><p>一般我们在网页中能看见有各种各样的字体、文本样式，这就是文本格式化标签的功劳。</p>
<table>
<thead>
<tr>
<th>标签</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt; b&gt;</td>
<td>（bold）粗体</td>
</tr>
<tr>
<td>&lt; big&gt;</td>
<td>（big）大字体</td>
</tr>
<tr>
<td>&lt; em&gt;</td>
<td>（emphasized）强调文本，generally render as <em>italic</em> emphasis.</td>
</tr>
<tr>
<td>&lt; i&gt;</td>
<td>（italic）斜体字</td>
</tr>
<tr>
<td>&lt; small&gt;</td>
<td>（small）小字体</td>
</tr>
<tr>
<td>&lt; strong&gt;</td>
<td>(strong) 加重语气，强调文本，enerally render as <strong>bold</strong> emphasis.</td>
</tr>
<tr>
<td>&lt; del&gt;</td>
<td>被删除文本</td>
</tr>
</tbody>
</table>
<p>b/i/em/strong等标签，会增加SEO权重，可以用来包含关键词</p>
<h2 id="预格式文本"><a href="#预格式文本" class="headerlink" title="预格式文本"></a>预格式文本</h2><blockquote>
<p>所谓预格式文本就是指代码叶和网页展示是一样的格式，不用额外添加换行符标签就能换行</p>
</blockquote>
<p><code>&lt; pre&gt;....&lt; /pre&gt;</code></p>
<h2 id="HTML样式"><a href="#HTML样式" class="headerlink" title="HTML样式"></a>HTML样式</h2><blockquote>
<p>style 提供了一种改变所有 HTML 元素的样式的通用方法。这里可以将，背景颜色，字体样式，字体尺寸，字体颜色，对齐方式一并定义好。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">"background-color:green"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="HTML字符实体"><a href="#HTML字符实体" class="headerlink" title="HTML字符实体"></a>HTML字符实体</h2><table>
<thead>
<tr>
<th>显示结果</th>
<th>描述</th>
<th>实体名称</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>空格</td>
<td>``</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于号</td>
<td>⁢<code>&lt;</code></td>
</tr>
<tr>
<td>&gt;</td>
<td>大于号</td>
<td><code>&gt;</code></td>
</tr>
<tr>
<td>&amp;</td>
<td>和号</td>
<td><code>&amp;</code></td>
</tr>
<tr>
<td>“</td>
<td>引号</td>
<td><code>&quot;</code></td>
</tr>
<tr>
<td>§</td>
<td>小节</td>
<td><code>§</code></td>
</tr>
<tr>
<td>©</td>
<td>版权</td>
<td><code>©</code></td>
</tr>
<tr>
<td>®</td>
<td>注册商标</td>
<td><code>®</code></td>
</tr>
<tr>
<td>x</td>
<td>乘号</td>
<td><code>×</code></td>
</tr>
<tr>
<td>÷</td>
<td>除号</td>
<td><code>÷</code></td>
</tr>
</tbody>
</table>
<h2 id="HTML注释"><a href="#HTML注释" class="headerlink" title="HTML注释"></a>HTML注释</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;!--要注释的内容--&gt;</div></pre></td></tr></table></figure>
<p>HTML注释不能嵌套注释</p>
<hr>
<h1 id="Tables（表格）"><a href="#Tables（表格）" class="headerlink" title="Tables（表格）"></a>Tables（表格）</h1><p>表格的用法包含了幾個重要的标签，分別是 table、tr 與 td 這幾個重點，組合起來才是個完整的表格。</p>
<p><code>&lt; table&gt;</code> —- 表格</p>
<p><code>&lt; tr&gt;</code> —- 每个表格均有若干行</p>
<p><code>&lt; td&gt;</code> —- 表格数据（table data），即数据单元格的内容。每行被分割为若干单元格。可以包含文本、图片、列表、段落、表单、水平线、表格等等。</p>
<ul>
<li>标签：&lt; th&gt;表头&lt; /th&gt;：设置表头</li>
<li>标签：&lt; caption&gt;标题&lt; /caption&gt;：设置表的标题</li>
<li>属性：cellspacing=”…”设置单元格之间的距离</li>
<li>属性：cellpadding=”…”设置单元格边沿与其内容之间的空白</li>
<li><del>属性：bgcolor=”…”设置表格背景颜色</del></li>
<li><del>属性：align=”center”相对周围元素的对齐方式</del></li>
<li>属性：width=”…”表格宽度</li>
<li>属性：border=”…”围绕表格的边框宽度</li>
<li>属性：background=”…” 以某张图片作为表格背景</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--细线表格边框的做法--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span> <span class="attr">width</span>=<span class="string">"50%"</span> <span class="attr">cellspacing</span>=<span class="string">"0"</span> <span class="attr">cellpadding</span>=<span class="string">"10"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>first row and first column<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>first row and second column<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>first row and third column<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>second row and first column<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>second row and second column<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>second row and third column<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">table&gt;tr*2&gt;td*3</div></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fl4y9sve6lj313u0kk44h.jpg" alt=""></p>
<h2 id="Table-Headings"><a href="#Table-Headings" class="headerlink" title="Table Headings"></a>Table Headings</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;table&gt;</div><div class="line">  &lt;tr&gt;</div><div class="line">    &lt;th&gt;&lt;/th&gt;</div><div class="line">    &lt;th scope=&quot;col&quot;&gt;Saturday&lt;/th&gt;</div><div class="line">    &lt;th scope=&quot;col&quot;&gt;Sunday&lt;/th&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">  &lt;tr&gt;</div><div class="line">    &lt;th scope=&quot;row&quot;&gt;Temperature&lt;/th&gt;</div><div class="line">    &lt;td&gt;73&lt;/td&gt;</div><div class="line">    &lt;td&gt;81&lt;/td&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure>
<p>First, a new row was added to hold the three headings: a blank heading, a <code>Saturday</code> heading, and a <code>Sunday</code>heading.</p>
<p>The blank heading creates the extra table cell necessary to align the table headings correctly over the data they correspond to.</p>
<p>In the second row, one table heading was added as a row title: <code>Temperature</code>.</p>
<h2 id="Table-Borders"><a href="#Table-Borders" class="headerlink" title="Table Borders"></a>Table Borders</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"># 旧版本</div><div class="line">&lt;table border=&quot;1&quot;&gt;</div><div class="line">  &lt;tr&gt;</div><div class="line">    &lt;td&gt;73&lt;/td&gt;</div><div class="line">    &lt;td&gt;81&lt;/td&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure>
<p>运用css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">table, td &#123;</div><div class="line">  border: 1px solid black;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Spanning-Columns"><a href="#Spanning-Columns" class="headerlink" title="Spanning Columns"></a>Spanning Columns</h2><blockquote>
<p><code>colspan</code> spans across 单元格可横跨的列数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;table&gt;</div><div class="line">  &lt;tr&gt;</div><div class="line">    &lt;th&gt;Monday&lt;/th&gt;</div><div class="line">    &lt;th&gt;Tuesday&lt;/th&gt;</div><div class="line">    &lt;th&gt;Wednesday&lt;/th&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">  &lt;tr&gt;</div><div class="line">    &lt;td colspan=&quot;2&quot;&gt;Out of Town&lt;/td&gt;</div><div class="line">    &lt;td&gt;Back in Town&lt;/td&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fl4ri5xq63j30bq0d5mxd.jpg" alt=""></p>
<h2 id="Spanning-Rows"><a href="#Spanning-Rows" class="headerlink" title="Spanning Rows"></a>Spanning Rows</h2><blockquote>
<p><code>rowspan</code> 单元格可横跨的行数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;table&gt;</div><div class="line">  &lt;tr&gt; &lt;!-- Row 1 --&gt;</div><div class="line">    &lt;th&gt;&lt;/th&gt;</div><div class="line">    &lt;th&gt;Saturday&lt;/th&gt;</div><div class="line">    &lt;th&gt;Sunday&lt;/th&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">  &lt;tr&gt; &lt;!-- Row 2 --&gt;</div><div class="line">    &lt;th&gt;Morning&lt;/th&gt;</div><div class="line">    &lt;td rowspan=&quot;2&quot;&gt;Work&lt;/td&gt;</div><div class="line">    &lt;td rowspan=&quot;3&quot;&gt;Relax&lt;/td&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">  &lt;tr&gt; &lt;!-- Row 3 --&gt;</div><div class="line">    &lt;th&gt;Afternoon&lt;/th&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">  &lt;tr&gt; &lt;!-- Row 4 --&gt;</div><div class="line">    &lt;th&gt;Evening&lt;/th&gt;</div><div class="line">    &lt;td&gt;Dinner&lt;/td&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fl4rhrba65j30bu0d574k.jpg" alt=""></p>
<h2 id="Table-Body"><a href="#Table-Body" class="headerlink" title="Table Body"></a>Table Body</h2><blockquote>
<p>表格的主体内容</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;table&gt;</div><div class="line">  &lt;tbody&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;&lt;/th&gt;</div><div class="line">      &lt;th&gt;Saturday&lt;/th&gt;</div><div class="line">      &lt;th&gt;Sunday&lt;/th&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;Morning&lt;/th&gt;</div><div class="line">      &lt;td rowspan=&quot;2&quot;&gt;Work&lt;/td&gt;</div><div class="line">      &lt;td rowspan=&quot;3&quot;&gt;Relax&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">     &lt;th&gt;Afternoon&lt;/th&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;Evening&lt;/th&gt;</div><div class="line">      &lt;td&gt;Dinner&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">  &lt;/tbody&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure>
<h2 id="Table-Head"><a href="#Table-Head" class="headerlink" title="Table Head"></a>Table Head</h2><blockquote>
<p>表格的表头内容</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;table&gt;</div><div class="line">  &lt;thead&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;&lt;/th&gt;</div><div class="line">      &lt;th&gt;Saturday&lt;/th&gt;</div><div class="line">      &lt;th&gt;Sunday&lt;/th&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">  &lt;/thead&gt;</div><div class="line">  &lt;tbody&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;Morning&lt;/th&gt;</div><div class="line">      &lt;td rowspan=&quot;2&quot;&gt;Work&lt;/td&gt;</div><div class="line">      &lt;td rowspan=&quot;3&quot;&gt;Relax&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">     &lt;th&gt;Afternoon&lt;/th&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;Evening&lt;/th&gt;</div><div class="line">      &lt;td&gt;Dinner&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">  &lt;/tbody&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fl4rirciqsj30c10ddaac.jpg" alt=""></p>
<h2 id="Table-Footer"><a href="#Table-Footer" class="headerlink" title="Table Footer"></a>Table Footer</h2><blockquote>
<p>表格的页脚内容</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">&lt;table&gt;</div><div class="line">  &lt;thead&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;Quarter&lt;/th&gt;</div><div class="line">      &lt;th&gt;Revenue&lt;/th&gt;</div><div class="line">      &lt;th&gt;Costs&lt;/th&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">  &lt;/thead&gt;</div><div class="line">  &lt;tbody&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;Q1&lt;/th&gt;</div><div class="line">      &lt;td&gt;$10M&lt;/td&gt;</div><div class="line">      &lt;td&gt;$7.5M&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;Q2&lt;/th&gt;</div><div class="line">      &lt;td&gt;$12M&lt;/td&gt;</div><div class="line">      &lt;td&gt;$5M&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">  &lt;/tbody&gt;</div><div class="line">  &lt;tfoot&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;th&gt;Total&lt;/th&gt;</div><div class="line">      &lt;td&gt;$22M&lt;/td&gt;</div><div class="line">      &lt;td&gt;$12.5M&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">  &lt;/tfoot&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fl4rj27y31j30bz0d7aad.jpg" alt=""></p>
<h2 id="Styling-with-CSS"><a href="#Styling-with-CSS" class="headerlink" title="Styling with CSS"></a>Styling with CSS</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">table, th, td &#123;</div><div class="line">  border: 1px solid black;</div><div class="line">  font-family: Arial, sans-serif;</div><div class="line">  text-align: center;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="HTML-Tables"><a href="#HTML-Tables" class="headerlink" title="HTML Tables"></a>HTML Tables</h2><p>Great job! In this lesson, you learned how to create a table, add data to it, and section the table into smaller parts that make it easier to read.</p>
<p>Let’s review what you’ve learned so far:</p>
<ol>
<li>The <code>&lt;table&gt;</code> element creates a table.</li>
<li>The <code>&lt;tr&gt;</code> element adds rows to a table.</li>
<li>To add data to a row, you can use the <code>&lt;td&gt;</code>element.</li>
<li>Table headings clarify the meaning of data. Headings are added with the <code>&lt;th&gt;</code> element.</li>
<li>Table data can span columns using the <code>colspan</code>attribute.</li>
<li>Table data can span rows using the <code>rowspan</code>attribute.</li>
<li>Tables can be split into three main sections: a head, a body, and a footer.</li>
<li>A table’s head is created with the <code>&lt;thead&gt;</code>element.</li>
<li>A table’s body is created with the <code>&lt;tbody&gt;</code>element.</li>
<li>A table’s footer is created with the <code>&lt;tfoot&gt;</code>element.</li>
<li>All the CSS properties you learned about in this course can be applied to tables and their data.</li>
</ol>
<h1 id="HTML列表"><a href="#HTML列表" class="headerlink" title="HTML列表"></a>HTML列表</h1><h2 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h2><blockquote>
<p>有序列表始于 &lt; ol&gt; 标签。每个列表项始于 &lt; li&gt; 标签。列表项内部可以使用段落、换行符、图片、链接以及其他列表等等。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表信息<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">start</span>=<span class="string">"2"</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">li</span>&gt;</span>hadoop<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">li</span>&gt;</span>linux<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">li</span>&gt;</span>c <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span>=<span class="string">"a"</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">li</span>&gt;</span>hadoop<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">li</span>&gt;</span>linux<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">li</span>&gt;</span>c <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></div></pre></td></tr></table></figure>
<p>type属性：</p>
<ul>
<li>“a”表示以小写字母来排序;</li>
<li>“A”就是使用大写字母来排序;</li>
<li>“i”就是以小写罗马数字来排序;</li>
<li>“I”就是以大写罗马数字来排序。</li>
<li>这里还可以添加start属性，决定起始地。</li>
</ul>
<h2 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h2><blockquote>
<p>无序列表始于 &lt; ul&gt; 标签。每个列表项始于 &lt; li&gt;（有序无序是一样的）。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表信息<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表信息<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">type</span>=<span class="string">"disc"</span>&gt;</span>实心圆点（默认）<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">type</span>=<span class="string">"circle"</span>&gt;</span>空心圆点<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">type</span>=<span class="string">"square"</span>&gt;</span>实心方块<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="自定义列表"><a href="#自定义列表" class="headerlink" title="自定义列表"></a>自定义列表</h2><blockquote>
<p>定义列表通常用于术语的定义和解释。定义列表由&lt; dl&gt;开始，术语由&lt; dt&gt;开始，解释说明由&lt; dd&gt;开始，&lt; dd&gt;….&lt; /dd&gt;里的文字缩进显示。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 列表块 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 列表中的上层项目 --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 列表中的最下层项目 --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></div></pre></td></tr></table></figure>
<h1 id="HTML块"><a href="#HTML块" class="headerlink" title="HTML块"></a>HTML块</h1><p>HTML元素被定义为块级元素或内联元素。</p>
<p>块级元素(block)特性：</p>
<p>总是独占一行，表现为另起一行开始，而且其后的元素也必须另起一行显示;</p>
<p>宽度(width)、高度(height)、内边距(padding)和外边距(margin)都可控制;就像以前用到的 &lt; h1&gt;, &lt; p&gt;, &lt; ul&gt;, &lt; table&gt;标签。</p>
<p>内联元素(inline)特性：</p>
<p>和相邻的内联元素在同一行;宽度(width)、高度(height)、内边距的top/bottom(padding-top/padding-bottom)和外边距的top/bottom(margin-top/margin-bottom)都不可改变，就是里面文字或图片的大小;以前用到的&lt; b&gt;, &lt; td&gt;, &lt; a&gt;, &lt; img&gt;标签。</p>
<p>在这里我们先介绍两个标签&lt; div&gt;标签和&lt; span&gt;标签。</p>
<p>&lt; div&gt;用来定义文档中的分区或节（division/section），没有特定的含义。它是可用于组合其他 HTML 元素的容器</p>
<p>&lt; span&gt;用来组合文档中的行内元素，也没有特定的含义</p>
<h1 id="HTML布局"><a href="#HTML布局" class="headerlink" title="HTML布局"></a>HTML布局</h1><p>网页布局可以通过&lt; table&gt;元素，或者&lt; div&gt;元素实现。</p>
<p>先来个简单的&lt; table&gt;布局网页</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">&lt;body bgcolor=&quot;gray&quot;&gt;</div><div class="line"></div><div class="line">&lt;table width=&quot;1000&quot;&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">        &lt;td colspan=&quot;2&quot; style=&quot;background-color: royalblue&quot;&gt;</div><div class="line">            &lt;h1 align=&quot;center&quot;&gt;shiyanlou book store&lt;/h1&gt;</div><div class="line">        &lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line"></div><div class="line">    &lt;tr valign=&quot;top&quot;&gt;</div><div class="line">        &lt;td style=&quot;background-color: darkorange;width:300px&quot;&gt;</div><div class="line">          &lt;dl&gt;</div><div class="line">              &lt;dt&gt;list of book&lt;/dt&gt;</div><div class="line">              &lt;dd&gt;</div><div class="line">                  &lt;ol&gt;</div><div class="line">                      &lt;li&gt;hadoop&lt;/li&gt;</div><div class="line">                      &lt;li&gt;linux&lt;/li&gt;</div><div class="line">                      &lt;li&gt;c&lt;/li&gt;</div><div class="line">                  &lt;/ol&gt;</div><div class="line">              &lt;/dd&gt;</div><div class="line">          &lt;/dl&gt;</div><div class="line">        &lt;/td&gt;</div><div class="line">        &lt;td style=&quot;background-color: forestgreen;height:500px;width:700px;&quot;&gt;</div><div class="line">            &lt;h1 style=&quot;font-size: 20px;text-align: center&quot;&gt;the summary of the book&lt;/h1&gt;</div><div class="line">        i will lead you to travel in the season of linux</div><div class="line">        &lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line"></div><div class="line">    &lt;tr&gt;</div><div class="line">        &lt;td colspan=&quot;2&quot; style=&quot;background-color: powderblue;text-align:center;height: 100px&quot;&gt;</div><div class="line">            good good study day day up&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line"></div><div class="line">&lt;/table&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><img src="https://dn-anything-about-doc.qbox.me/userid20407labid119time1423563987938" alt="图片描述信息"></p>
<p>一般的div元素结构就如下图（思路也是用table的思路）：</p>
<p><img src="https://dn-anything-about-doc.qbox.me/userid20407labid120time1423624811796" alt="图片描述信息"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;style&gt;</div><div class="line">        div#container&#123;width:1000px&#125;</div><div class="line">        div#header &#123;background-color: royalblue ;height: 100px;text-align:center;font-size: 20px&#125;</div><div class="line">        div#sidebar&#123;background-color: darkorange;height:400px;width:300px;float:left;&#125;</div><div class="line">        div#mainbody &#123;background-color: forestgreen;height:400px;width:700px;float:left;&#125;</div><div class="line">        div#footer &#123;background-color: powderblue;height: 100px;clear:both;text-align:center;&#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;div id=&quot;container&quot;&gt;</div><div class="line">    &lt;div id=&quot;header&quot;&gt;</div><div class="line">        &lt;h1&gt;shiyanlou book store&lt;/h1&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;div id=&quot;sidebar&quot;&gt;</div><div class="line">       &lt;dl&gt;</div><div class="line">           &lt;dt&gt;list of book&lt;/dt&gt;</div><div class="line">            &lt;dd&gt;</div><div class="line">                &lt;ol&gt;</div><div class="line">                    &lt;li&gt;hadoop&lt;/li&gt;</div><div class="line">                    &lt;li&gt;linux&lt;/li&gt;</div><div class="line">                    &lt;li&gt;c&lt;/li&gt;</div><div class="line">                &lt;/ol&gt;</div><div class="line">            &lt;/dd&gt;</div><div class="line">       &lt;/dl&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;div id=&quot;mainbody&quot;&gt;</div><div class="line">        &lt;h1&gt;the summary of the book&lt;/h1&gt;</div><div class="line">        &lt;p&gt;i will lead you to travel in the season of linux&lt;/p&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;div id=&quot;footer&quot;&gt;good good study day day up&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><img src="https://dn-anything-about-doc.qbox.me/userid20407labid120time1423630644273" alt="图片描述信息"></p>
<h1 id="HTML表单"><a href="#HTML表单" class="headerlink" title="HTML表单"></a>HTML表单</h1><p>表单标签就是用于网页中的数据提交，比如我们注册网页，在留言板中留言、评论等可以填写数据，提交处理地方都需要表单标签，form表单标签内有输入框input、单选、多选、select下拉列表菜单与跳转菜单、提交按钮等标签内容。</p>
<p>文本和密码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;form&gt;</div><div class="line">username：</div><div class="line">&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;</div><div class="line">&lt;br /&gt;</div><div class="line">password：</div><div class="line">&lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<p>单选框：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;form&gt;</div><div class="line">&lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;male&quot; /&gt; Male</div><div class="line">&lt;br/&gt;</div><div class="line">&lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;female&quot; /&gt; Female</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<p>多选框：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;form&gt;</div><div class="line">&lt;input type=&quot;checkbox&quot; name=&quot;married&quot; /&gt;</div><div class="line">married</div><div class="line">&lt;br/&gt;</div><div class="line">&lt;input type=&quot;checkbox&quot; name=&quot;have a job&quot; /&gt;</div><div class="line">have a job</div><div class="line">&lt;br/&gt;</div><div class="line">&lt;input type=&quot;checkbox&quot; name=&quot;chinese&quot; /&gt;</div><div class="line">chinese</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="form标签的属性"><a href="#form标签的属性" class="headerlink" title="form标签的属性"></a>form标签的属性</h2><p><code>&lt;input type=&quot;类型&quot; name=&quot;名称&quot;/&gt;</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"get"</span> <span class="attr">name</span>=<span class="string">"iform"</span>&gt;</span></div><div class="line">		用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line">		密码： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pwd"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line">		性别： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">checked</span>=<span class="string">"checked"</span>/&gt;</span>男 </div><div class="line">			  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span>/&gt;</span>女 </div><div class="line">		      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span>/&gt;</span>保密 <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">		爱好： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"like"</span>&gt;</span>看电影</div><div class="line">			  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"like"</span>&gt;</span>看电视</div><div class="line">			  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"like"</span>&gt;</span>游泳</div><div class="line">			  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"like"</span>&gt;</span>旅游</div><div class="line">			  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"like"</span>&gt;</span>完 <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">		头像： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"touxiang"</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">"2016-10-01"</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"确认"</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span> <span class="attr">name</span>=<span class="string">""</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">"haha "</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"image"</span> <span class="attr">src</span>=<span class="string">"1.png"</span> <span class="attr">name</span>=<span class="string">""</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fl4yskaif5j30vo0giadp.jpg" alt=""></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fl4yx4k0itj30ku0i0djl.jpg" alt=""></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fl4yxe0jjcj30k70bi40s.jpg" alt=""></p>
<h2 id="下拉框标签的写法"><a href="#下拉框标签的写法" class="headerlink" title="下拉框标签的写法"></a>下拉框标签的写法</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"名称"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"值1"</span>&gt;</span>文字信息<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"值2"</span>&gt;</span>文字信息<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></div></pre></td></tr></table></figure>
<p><code>&lt;select&gt;</code>标签属性：</p>
<ul>
<li><code>name</code> —— 规定下拉列表的名称</li>
<li><code>size</code> —— 规定下拉列表中可见选项的数目</li>
<li><code>multiple</code> —— 规定可选择多个选项</li>
</ul>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fl4z16c13qj30x60ijtdf.jpg" alt=""></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">acriont</span>=<span class="string">""</span> &gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">disabled</span>=<span class="string">"disabled"</span> <span class="attr">value</span>=<span class="string">"hahahah"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"edu"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">optgroup</span> <span class="attr">label</span>=<span class="string">"低学历"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"d"</span>&gt;</span>小学<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"d"</span>&gt;</span>初中<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"gaozhong"</span>&gt;</span>高中<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">optgroup</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">optgroup</span> <span class="attr">label</span>=<span class="string">"高学历"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"dazhuan"</span>&gt;</span>大专<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"c"</span>&gt;</span>本科<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"d"</span>&gt;</span>硕士<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">optgroup</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="文本域标签"><a href="#文本域标签" class="headerlink" title="文本域标签"></a>文本域标签</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"con"</span> <span class="attr">cols</span>=<span class="string">"50"</span> <span class="attr">rows</span>=<span class="string">"5"</span> <span class="attr">style</span>=<span class="string">"resize:none"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></div></pre></td></tr></table></figure>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fl4z1fjtdwj30nr0ghtbx.jpg" alt=""></p>
<h2 id="label标签的用法"><a href="#label标签的用法" class="headerlink" title="label标签的用法"></a>label标签的用法</h2><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fl4z1lwluxj313v0kn0x7.jpg" alt=""></p>
<h2 id="frameset标签"><a href="#frameset标签" class="headerlink" title="frameset标签"></a>frameset标签</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/01/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Katherine Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时间的朋友">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/01/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-01T10:52:09+08:00">
                2017-11-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/01/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/01/hello-world/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
<h2 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h2><h3 id="Create-a-new-page"><a href="#Create-a-new-page" class="headerlink" title="Create a new page"></a>Create a new page</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new page XXXX</div></pre></td></tr></table></figure>
<p>More info: <a href="https://github.com/iissnan/hexo-theme-next/wiki" target="_blank" rel="external">Hexo-theme-next/wiki</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/24/react/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Katherine Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时间的朋友">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/24/react/" itemprop="url">react</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-24T20:41:08+08:00">
                2017-10-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/24/react/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/24/react/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h1><p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fktkzrl145j30rc0gqn3t.jpg" alt=""></p>
<ul>
<li>ES6/NPM课前准备<ul>
<li>React新版本变化</li>
<li>ES6基础语法</li>
<li>使用Codepen免配置在线开发React</li>
<li>Npm的安装配置说明（换源及cnpm）</li>
<li>使用create-react-app本地开发React</li>
</ul>
</li>
<li>React组件开发<ul>
<li>JSX入门</li>
<li>组件类型</li>
<li>组件数据props&amp;state</li>
<li>组件生命周期</li>
<li>表单及事件处理</li>
</ul>
</li>
<li>Redux数据处理<ul>
<li>理解状态管理</li>
<li>Actions/actionCreator</li>
<li>Reducers</li>
<li>Store</li>
<li>Middleware</li>
<li>React-redux</li>
</ul>
</li>
<li>React-router路由配置<ul>
<li>前端路由</li>
<li>React-router新版本介绍（dom/native/common)</li>
<li>Router/Route</li>
<li>Link/NavLink</li>
<li>match/withRouter</li>
</ul>
</li>
<li>在JS中编写CSS样式<ul>
<li>什么是CSS in JS</li>
<li>为什么要使用CSS in JS</li>
<li>Webpack的使用及配置</li>
<li>CSS Modules</li>
<li>Sass</li>
<li>PostCSS</li>
<li>Radium</li>
</ul>
</li>
<li>TodoList项目实战<ul>
<li>React应用设计思路</li>
<li>组建开发（react）</li>
<li>数据流处理（redux）</li>
<li>路由开发(react-router)</li>
<li>样式编写</li>
<li>实战项目总结</li>
</ul>
</li>
<li>React的优势<ul>
<li>相较于其他框架生态圈最完整成熟</li>
<li>适用于开发大中型应用，便于团队协作</li>
<li>很多知名大厂都在使用</li>
<li>发展前景广阔，Web/原生App/VR/物联网</li>
</ul>
</li>
<li>前置知识<ul>
<li>JavaScript基础（变量/对象/函数）</li>
<li>ES6基础</li>
<li>熟悉HTML</li>
<li>基本掌握CSS</li>
</ul>
</li>
</ul>
<h2 id="常见ES6语法"><a href="#常见ES6语法" class="headerlink" title="常见ES6语法"></a>常见ES6语法</h2><h3 id="引入import"><a href="#引入import" class="headerlink" title="引入import"></a>引入<code>import</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//旧</span></div><div class="line"> <span class="keyword">var</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</div><div class="line"> <span class="keyword">var</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</div><div class="line"></div><div class="line"><span class="comment">//新</span></div><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</div><div class="line"><span class="keyword">import</span> hello, &#123; hi &#125; <span class="keyword">from</span> <span class="string">'./modules'</span>;</div></pre></td></tr></table></figure>
<h3 id="导出export"><a href="#导出export" class="headerlink" title="导出export"></a>导出<code>export</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> hi = <span class="string">"hi"</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">'hello'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="JSX声明-const"><a href="#JSX声明-const" class="headerlink" title="JSX声明 const"></a>JSX声明 <code>const</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//旧</span></div><div class="line"><span class="keyword">var</span> myDivElment = <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"foo"</span> /&gt;</span>;</span></div><div class="line"><span class="xml">//新</span></div><div class="line"><span class="xml">const element = <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>;</span></div></pre></td></tr></table></figure>
<h3 id="声明组件-class"><a href="#声明组件-class" class="headerlink" title="声明组件 class"></a>声明组件 <code>class</code></h3><p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fktl0zmnppj30vw0ecn53.jpg" alt=""></p>
<h3 id="class构造函数super关键字"><a href="#class构造函数super关键字" class="headerlink" title="class构造函数super关键字"></a><code>class</code>构造函数<code>super</code>关键字</h3><p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fktl1mdrptj30hr0dpjvq.jpg" alt=""></p>
<h3 id="this绑定-arrow-functions"><a href="#this绑定-arrow-functions" class="headerlink" title="this绑定 arrow functions"></a><code>this</code>绑定 <code>arrow functions</code></h3><p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fktmab4fwbj30my0dvwjt.jpg" alt=""></p>
<h2 id="npm的安装配置说明"><a href="#npm的安装配置说明" class="headerlink" title="npm的安装配置说明"></a>npm的安装配置说明</h2><ul>
<li>Node.js的安装</li>
<li><del>npm更换国内原</del></li>
<li><del>cnpm安装</del></li>
<li>使用npm安装react</li>
<li><del>yarn</del></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ npm --version</div><div class="line">$ npm i -g npm</div><div class="line">$ mkdir learn_react</div><div class="line">$ <span class="built_in">cd</span> learn_react</div><div class="line">$ npm init -y                           <span class="comment"># 初始化npm</span></div><div class="line">$ npm install react react-dom --save    <span class="comment"># 使用npm安装react</span></div></pre></td></tr></table></figure>
<h2 id="React开发环境配置"><a href="#React开发环境配置" class="headerlink" title="React开发环境配置"></a>React开发环境配置</h2><ul>
<li><del>使用Codepen线上开发设置</del></li>
<li><del>直接使用CDN</del></li>
<li>安装使用create-react-app命令行工具</li>
</ul>
<h3 id="Create-a-New-App"><a href="#Create-a-New-App" class="headerlink" title="Create a New App"></a><a href="https://reactjs.org/docs/installation.html#creating-a-new-application" target="_blank" rel="external">Create a New App</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 使用npm进行包安装</span></div><div class="line">npm install -g create-react-app</div><div class="line"></div><div class="line"><span class="comment"># 通过命令行工具新建项目</span></div><div class="line">create-react-app my-app</div><div class="line"></div><div class="line"><span class="comment"># 切入项目工作目录</span></div><div class="line"><span class="built_in">cd</span> my-app</div><div class="line"></div><div class="line"><span class="comment"># 测试运行</span></div><div class="line">npm start</div></pre></td></tr></table></figure>
<h1 id="React组件开发解析"><a href="#React组件开发解析" class="headerlink" title="React组件开发解析"></a>React组件开发解析</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/20/detail/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Katherine Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时间的朋友">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/20/detail/" itemprop="url">JavaScript编程技巧与实战</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-20T10:28:33+08:00">
                2017-10-20
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/20/detail/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/20/detail/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="JavaScript-编程技巧与实战概要"><a href="#JavaScript-编程技巧与实战概要" class="headerlink" title="JavaScript 编程技巧与实战概要"></a>JavaScript 编程技巧与实战概要</h1><ul>
<li>正则表达式RegExp对象</li>
<li>作用域与闭包</li>
<li>this的使用</li>
<li>值传递和引用传递</li>
<li>H5的标准属性</li>
<li>H5的事件属性</li>
<li>Web Worker</li>
<li>jQuery</li>
<li>Ajax/Http知识</li>
<li>Commen JS规范</li>
<li>Seajs</li>
<li>RequireJs</li>
</ul>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fknlgwv01kj31kw0w0jye.jpg" alt=""><br><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fknlgw04h8j31kw0w00zl.jpg" alt=""><br><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fknlgvb00xj31kw0w0gsy.jpg" alt=""><br><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fknlguiiocj31kw0w0qjw.jpg" alt=""><br><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fknlgsqhmrj31kw0w0aic.jpg" alt=""></p>
<h1 id="JavaScript高级编程技巧"><a href="#JavaScript高级编程技巧" class="headerlink" title="JavaScript高级编程技巧"></a>JavaScript高级编程技巧</h1><h2 id="正则表达式RegExp对象"><a href="#正则表达式RegExp对象" class="headerlink" title="正则表达式RegExp对象"></a>正则表达式RegExp对象</h2><h3 id="创建RegExp对象："><a href="#创建RegExp对象：" class="headerlink" title="创建RegExp对象："></a>创建RegExp对象：</h3><ul>
<li><code>var test = new RegExp(&quot;jikexueyuan&quot;)</code></li>
<li><code>var test = /jikexueyuan/</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"abc123"</span></div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/[a-z]+/</span></div><div class="line"><span class="built_in">console</span>.log(regExp.exec(str))</div><div class="line">[<span class="string">"abc"</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">input</span>: <span class="string">"abc123"</span>]</div></pre></td></tr></table></figure>
<h3 id="RegExp对象方法"><a href="#RegExp对象方法" class="headerlink" title="RegExp对象方法:"></a>RegExp对象方法:</h3><ul>
<li>exec —— 检索字符串中指定的值。返回找到的值，并确定其位置</li>
<li>compile —— 编译正则表达式，把正则表达式编译为内部格式</li>
<li>test —— 检索字符串是否存在模式，返回true或false</li>
</ul>
<h4 id="exec"><a href="#exec" class="headerlink" title="exec"></a>exec</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"abc123"</span>   </div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/[0-9]+/</span></div><div class="line"><span class="built_in">console</span>.log(regExp.exec(str))</div><div class="line">[<span class="string">"123"</span>, <span class="attr">index</span>: <span class="number">3</span>, <span class="attr">input</span>: <span class="string">"abc123"</span>]</div></pre></td></tr></table></figure>
<h4 id="compile"><a href="#compile" class="headerlink" title="compile"></a>compile</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"abc123"</span>      </div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/[a-z]+/</span></div><div class="line">regExp.compile(<span class="string">"[0-9]+"</span>)</div><div class="line">regExp</div><div class="line">/[<span class="number">0</span><span class="number">-9</span>]+<span class="regexp">/</span></div><div class="line"><span class="regexp">console.log(regExp.exec(str))</span></div><div class="line"><span class="regexp">["123", index: 3, input: "abc123"]</span></div></pre></td></tr></table></figure>
<h4 id="test"><a href="#test" class="headerlink" title="test"></a>test</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"abc123"</span></div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/[a-z]+/</span>   </div><div class="line">regExp.test(str)</div><div class="line"><span class="literal">true</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> str = <span class="string">"你好极客学院"</span></div><div class="line">regExp.test(str)</div><div class="line"><span class="literal">false</span></div></pre></td></tr></table></figure>
<h3 id="RegExp修饰符"><a href="#RegExp修饰符" class="headerlink" title="RegExp修饰符"></a>RegExp修饰符</h3><ul>
<li><code>i</code> —— 设置匹配对大小写不敏感</li>
<li><code>g</code> —— 设置匹配为全局，类似于查找所有，持续到结束</li>
<li><code>m</code> —— 设置匹配为多行</li>
</ul>
<h4 id="i"><a href="#i" class="headerlink" title="i"></a>i</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"ABCabc"</span></div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/[a-z]/</span></div><div class="line">regExp.exec(str)</div><div class="line">[<span class="string">"a"</span>, <span class="attr">index</span>: <span class="number">3</span>, <span class="attr">input</span>: <span class="string">"ABCabc"</span>]</div><div class="line"></div><div class="line">regExp=<span class="regexp">/[a-z]/i</span></div><div class="line">regExp.exec(str)</div><div class="line">[<span class="string">"A"</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">input</span>: <span class="string">"ABCabc"</span>]</div><div class="line"></div><div class="line">regExp=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"[a-z]"</span>,<span class="string">"i"</span>)</div><div class="line">/[a-z]/i</div></pre></td></tr></table></figure>
<h4 id="g"><a href="#g" class="headerlink" title="g"></a>g</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"ABCabc"</span></div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/[a-z]/g</span></div><div class="line">str.replace(regExp,<span class="string">"HI"</span>)</div><div class="line"><span class="string">"ABCHIHIHI"</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/[a-z]/</span></div><div class="line">str.replace(regExp,<span class="string">"HI"</span>)</div><div class="line"><span class="string">"ABCHIbc"</span></div></pre></td></tr></table></figure>
<h4 id="特殊符号-和"><a href="#特殊符号-和" class="headerlink" title="特殊符号^和$"></a>特殊符号^和$</h4><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fknmzq9lf3j30sj0dvtb6.jpg" alt=""></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"hello jikexueyuan"</span></div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/^jike/</span></div><div class="line">regExp.test(str)</div><div class="line"><span class="literal">false</span></div><div class="line"></div><div class="line">str=<span class="string">"jikexueyuan hello"</span></div><div class="line">regExp.test(str)</div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/xueyuan$/</span></div><div class="line">regExp.test(str)</div><div class="line"><span class="literal">false</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> str = <span class="string">"hello jikexueyuan"</span></div><div class="line">regExp.test(str)</div><div class="line"><span class="literal">true</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/^hello xueyuan$/</span></div><div class="line">regExp.test(str)</div><div class="line"><span class="literal">false</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/^hello jikexueyuan$/</span></div><div class="line">regExp.test(str)</div><div class="line"><span class="literal">true</span></div></pre></td></tr></table></figure>
<h4 id="m"><a href="#m" class="headerlink" title="m"></a>m</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str=<span class="string">"jike123\njike456"</span></div><div class="line">regExp=<span class="regexp">/^jike/</span></div><div class="line">str.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"123</span></div><div class="line"><span class="string">jike456"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/^jike/mg</span></div><div class="line">str.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"123</span></div><div class="line"><span class="string">456"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/^jike/g</span></div><div class="line">/^jike/g</div><div class="line">str.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"123</span></div><div class="line"><span class="string">jike456"</span></div></pre></td></tr></table></figure>
<h4 id="方括号"><a href="#方括号" class="headerlink" title="方括号[]"></a>方括号<code>[]</code></h4><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fknnj7uvacj30ou0fewgo.jpg" alt=""></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str=<span class="string">"abcdabcdabcd"</span></div><div class="line">regExp=<span class="regexp">/[^a-c]/</span></div><div class="line">/[^a-c]/</div><div class="line">str.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abcabcdabcd"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/[^a-c]/g</span></div><div class="line">/[^a-c]/g</div><div class="line">str.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abcabcabc"</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> str=<span class="string">"abcd123abcd123abcd123"</span></div><div class="line">regExp=<span class="regexp">/[a-c0-3]/g</span></div><div class="line">/[a-c0<span class="number">-3</span>]/g</div><div class="line">str.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"ddd"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/[a-c0-3]/</span></div><div class="line">/[a-c0<span class="number">-3</span>]/</div><div class="line">str.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"bcd123abcd123abcd123"</span></div><div class="line">regExp=<span class="regexp">/[^a-c0-3]/</span></div><div class="line">/[^a-c0<span class="number">-3</span>]/</div><div class="line">str.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abc123abcd123abcd123"</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span></span></div><div class="line"><span class="tag"><span class="attr">onkeyup</span>=<span class="string">"regExp=/[^a-z]/g;this.value=this.value.replace(regExp,'')"</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span></span></div><div class="line"><span class="tag"><span class="attr">onkeyup</span>=<span class="string">"regExp=/[^0-9]/g;this.value=this.value.replace(regExp,'')"</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span></span></div><div class="line"><span class="tag"><span class="attr">onkeyup</span>=<span class="string">"regExp=/[^a-zA-Z0-9]/g;this.value=this.value.replace(regExp,'')"</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="预定义类"><a href="#预定义类" class="headerlink" title="预定义类"></a>预定义类</h4><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fknoirvyfdj30ul0d6grn.jpg" alt=""></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> d = <span class="string">"abc123ABZ_."</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> regExp=<span class="regexp">/\w/g</span></div><div class="line">d.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"."</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/\W/g</span></div><div class="line">d.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abc123ABZ_"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/\d/g</span></div><div class="line">d.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abcABZ_."</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/\D/g</span></div><div class="line">d.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"123"</span></div></pre></td></tr></table></figure>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fknoq4klfgj30rk0h27bc.jpg" alt=""></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s=<span class="string">"abc456 bc"</span></div><div class="line">regExp=<span class="regexp">/b\b/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abc456 bc"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/bc\b/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abc456 "</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/bbc\b/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abc456 bc"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/\bbc\b/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abc456 "</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/\bbc/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abc456 "</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/\babc/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"456 bc"</span></div></pre></td></tr></table></figure>
<p><a href="http://tool.chinaz.com/Tools/Unicode.aspx" target="_blank" rel="external">unicode编码转换器</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s=<span class="string">"极客学院"</span></div><div class="line">regExp=<span class="regexp">/\u6781\u5ba2/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"学院"</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> s=<span class="string">"abc123._;'p,.123你好 sad\n123\rcsa"</span></div><div class="line">s</div><div class="line"><span class="string">"abc123._;'p,.123你好 sad</span></div><div class="line"><span class="string">123</span></div><div class="line"><span class="string">csa"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/./g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">"</span></div></pre></td></tr></table></figure>
<h4 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h4><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fknp3twngtj30t809wtc0.jpg" alt=""></p>
<figure class="highlight javascript"><figcaption><span>bash</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s=<span class="string">"abc123._;'p,.123你好 sad\n123\rcsa"</span></div><div class="line">regExp=<span class="regexp">/.+/</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"</span></div><div class="line"><span class="string">123</span></div><div class="line"><span class="string">csa"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/.+/m</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"</span></div><div class="line"><span class="string">123</span></div><div class="line"><span class="string">csa"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/.?/</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"bc123._;'p,.123你好 sad</span></div><div class="line"><span class="string">123</span></div><div class="line"><span class="string">csa"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/.&#123;4,10&#125;/</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"p,.123你好 sad</span></div><div class="line"><span class="string">123</span></div><div class="line"><span class="string">csa"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/.&#123;4&#125;/</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"23._;'p,.123你好 sad</span></div><div class="line"><span class="string">123</span></div><div class="line"><span class="string">csa"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/.&#123;4,&#125;/</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"</span></div></pre></td></tr></table></figure>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fknpcbgygqj30xx0d1dmr.jpg" alt=""></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s=<span class="string">"abc123"</span></div><div class="line">regExp=<span class="regexp">/bc(?=1)/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"a123"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/bc(?!1)/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"abc123"</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/bc(?!2)/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"a123"</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> s=<span class="string">"jike xueyuan nihao"</span></div><div class="line">regExp=<span class="regexp">/jike|nihao/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">" xueyuan "</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> s=<span class="string">"abcac"</span></div><div class="line">regExp=<span class="regexp">/ab(.*)c/</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">""</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/ab(.*?)c/</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"ac"</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ignoreCase</span></div><div class="line"><span class="keyword">var</span> s=<span class="string">"abcac"</span></div><div class="line">regExp=<span class="regexp">/ab(.*?)c/</span></div><div class="line">regExp.ignoreCase</div><div class="line"><span class="literal">false</span></div><div class="line"></div><div class="line">regExp</div><div class="line">/ab(.*?)c/</div><div class="line"></div><div class="line">regExp=<span class="regexp">/xx/i</span></div><div class="line">regExp.ignoreCase</div><div class="line"><span class="literal">true</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/xx/ig</span></div><div class="line">regExp.global</div><div class="line"><span class="literal">true</span></div><div class="line"></div><div class="line">regExp.multiline</div><div class="line"><span class="literal">false</span></div><div class="line"></div><div class="line"><span class="comment">//lastIndex</span></div><div class="line"><span class="keyword">var</span> s = <span class="string">"hello world,hello jike"</span>;</div><div class="line"><span class="keyword">var</span> regExp = <span class="regexp">/hello/g</span></div><div class="line"><span class="keyword">var</span> result;</div><div class="line"></div><div class="line"><span class="keyword">while</span> ((result = regExp.exec(s)) != <span class="literal">null</span>)&#123;</div><div class="line">   <span class="built_in">console</span>.log(result);</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">""</span>);</div><div class="line">   <span class="built_in">console</span>.log(regExp.lastIndex);</div><div class="line">&#125;</div><div class="line"></div><div class="line">[<span class="string">"hello"</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">input</span>: <span class="string">"hello world,hello jike"</span>]</div><div class="line"><span class="number">5</span></div><div class="line">[<span class="string">"hello"</span>, <span class="attr">index</span>: <span class="number">12</span>, <span class="attr">input</span>: <span class="string">"hello world,hello jike"</span>]</div><div class="line"><span class="number">17</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//search</span></div><div class="line">s=<span class="string">"hello jike"</span></div><div class="line">regExp=<span class="regexp">/jike/</span></div><div class="line">s.search(regExp)</div><div class="line"><span class="number">6</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/xjike/</span></div><div class="line">s.search(regExp)</div><div class="line"><span class="number">-1</span></div><div class="line"></div><div class="line"><span class="comment">//split</span></div><div class="line">s=<span class="string">"abc 123"</span></div><div class="line">s.split(<span class="string">""</span>)</div><div class="line">[<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">" "</span>, <span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>]</div><div class="line"></div><div class="line">s.split(<span class="string">""</span>,<span class="number">4</span>)</div><div class="line">[<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">" "</span>]</div><div class="line"></div><div class="line">s.split(<span class="string">"b"</span>)</div><div class="line">[<span class="string">"a"</span>, <span class="string">"c 123"</span>]</div><div class="line"></div><div class="line"></div><div class="line">s=<span class="string">"abc 1b23"</span></div><div class="line">s.split(<span class="string">"b"</span>)</div><div class="line">[<span class="string">"a"</span>, <span class="string">"c 1"</span>, <span class="string">"23"</span>]</div><div class="line">regExp=<span class="regexp">/[a-z]/</span></div><div class="line">s.split(regExp)</div><div class="line">[<span class="string">""</span>, <span class="string">""</span>, <span class="string">""</span>, <span class="string">" 1"</span>, <span class="string">"23"</span>]</div><div class="line"></div><div class="line"></div><div class="line">s=<span class="string">"abc 123"</span></div><div class="line">regExp=<span class="regexp">/[a-z]/</span></div><div class="line">s.match(regExp)</div><div class="line">[<span class="string">"a"</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">input</span>: <span class="string">"abc 123"</span>]</div><div class="line"></div><div class="line">regExp=<span class="regexp">/[a-z]/g</span></div><div class="line">s.match(regExp)</div><div class="line">[<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>]</div><div class="line"></div><div class="line">s = <span class="string">"abc213ab"</span></div><div class="line">regExp=<span class="regexp">/(bc)(.*)(ab)/g</span></div><div class="line">s.replace(regExp,<span class="string">""</span>)</div><div class="line"><span class="string">"a"</span></div><div class="line">s.replace(regExp,<span class="string">"__$1__$2__$3"</span>)</div><div class="line"><span class="string">"a__bc__213__ab"</span></div></pre></td></tr></table></figure>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><p>验证手机号码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s=<span class="number">13300001111</span></div><div class="line"></div><div class="line">regExp=<span class="regexp">/^133[0-9]&#123;8&#125;$/</span></div><div class="line">regExp.test(s)</div><div class="line"><span class="literal">true</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> patt = <span class="keyword">new</span> <span class="built_in">RegExp</span>(pattern,modifiers);</div><div class="line">  <span class="keyword">var</span> patt = <span class="regexp">/pattern/m</span>odifiers;</div><div class="line"></div><div class="line">  <span class="comment">//eg</span></div><div class="line">  <span class="keyword">var</span> patt = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\w+"</span>,<span class="string">"i"</span>);</div><div class="line">  <span class="keyword">var</span> patt = <span class="regexp">/\w+i/</span></div><div class="line"></div><div class="line">  <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"hello"</span>,<span class="string">"gi"</span>);</div><div class="line">  <span class="keyword">var</span> str = <span class="string">"Hi, hello wakakawakaka, hello world!"</span></div><div class="line">  <span class="built_in">document</span>.write(reg.test(str))                    <span class="comment">// ==&gt; true</span></div><div class="line"></div><div class="line">  <span class="keyword">var</span> reg = <span class="regexp">/hello/</span></div><div class="line">  <span class="keyword">var</span> str = <span class="string">"Hi, hello wakakawakaka, hello world!"</span></div><div class="line">  <span class="built_in">document</span>.write(reg.test(str))                    <span class="comment">// ==&gt; true</span></div><div class="line"></div><div class="line"></div><div class="line">  <span class="keyword">var</span> reg = <span class="regexp">/Hello/i</span>;								<span class="comment">// 不区分大小写</span></div><div class="line">  <span class="keyword">var</span> str = <span class="string">"Hi, hello wakakawakaka, hello world!"</span></div><div class="line">  <span class="built_in">document</span>.write(reg.test(str))                    <span class="comment">// ==&gt; true</span></div><div class="line"></div><div class="line">  <span class="keyword">var</span> reg = <span class="regexp">/Hello/gi</span>;							<span class="comment">// 不区分大小写,全局查找</span></div><div class="line">  <span class="keyword">var</span> str = <span class="string">"Hi, hello wakakawakaka, hello world!"</span></div><div class="line">  <span class="built_in">document</span>.write(reg.test(str))                    <span class="comment">// ==&gt; true</span></div><div class="line"></div><div class="line">  <span class="keyword">var</span> reg = <span class="regexp">/Hello/gi</span>;							<span class="comment">// 不区分大小写,全局查找</span></div><div class="line">  <span class="keyword">var</span> str = <span class="string">"Hi, hello wakakawakaka, hello world!"</span></div><div class="line">  <span class="built_in">document</span>.write(reg.exec(str))                    <span class="comment">// ==&gt; hello</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> username = <span class="string">"2123"</span>;</div><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/^[A-Za-z0-9_]&#123;4,20&#125;$/</span></div><div class="line"><span class="comment">// or</span></div><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/^\w&#123;4,20&#125;$/</span></div><div class="line"><span class="keyword">var</span> regex = <span class="regexp">/^\d&#123;4,20&#125;$/</span></div><div class="line"></div><div class="line"><span class="keyword">if</span>(regex.test(username))&#123;</div><div class="line">	alert(<span class="string">"您的用户名可用"</span>);</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">	alert(<span class="string">"您的用户名不不不可用"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//xxx@qq.com  xxxx@163.com</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> email = <span class="string">"jacke@126.com"</span></div><div class="line"><span class="keyword">var</span> regex2 = <span class="regexp">/^\w+@\w+\.\w+$/</span></div><div class="line"></div><div class="line"><span class="keyword">if</span>(regex2.test(email))&#123;</div><div class="line">	alert(<span class="string">"您的邮箱可用"</span>);</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">	alert(<span class="string">"您的邮箱不不不可用"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="作用域（scope）"><a href="#作用域（scope）" class="headerlink" title="作用域（scope）"></a>作用域（scope）</h2><ul>
<li>作用域就是变量和函数的可访问范围</li>
<li>影响变量和函数的可见性与生命周期</li>
<li>JavaScript包括全局作用域和局部作用域</li>
<li>JavaScript没有块级作用域</li>
<li>JavaScript会预编译变量和函数</li>
</ul>
<h3 id="作用域的描述"><a href="#作用域的描述" class="headerlink" title="作用域的描述"></a>作用域的描述</h3><h4 id="全局作用域："><a href="#全局作用域：" class="headerlink" title="全局作用域："></a>全局作用域：</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">    <span class="keyword">var</span> a=<span class="string">"123"</span>;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="string">"test内调用外部变量a:"</span>+a);  <span class="comment">//可以作用到任何地方</span></div><div class="line">    &#125;</div><div class="line">    test();</div><div class="line"><span class="comment">// ==&gt;  test内调用外部变量a:123</span></div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var s = &quot;123&quot;;</div><div class="line">window.s</div><div class="line">// ==&gt; &quot;123&quot;</div></pre></td></tr></table></figure>
<h4 id="局部作用域："><a href="#局部作用域：" class="headerlink" title="局部作用域："></a>局部作用域：</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"inner"</span>);</div><div class="line">      &#125;</div><div class="line">      inner();</div><div class="line">    &#125;</div><div class="line">    test();</div><div class="line">    inner();</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; inner</span></div><div class="line"><span class="comment">// ==&gt; Uncaught ReferenceError: inner is not defined</span></div></pre></td></tr></table></figure>
<h4 id="函数内变量作用域："><a href="#函数内变量作用域：" class="headerlink" title="函数内变量作用域："></a>函数内变量作用域：</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">var</span> b =<span class="string">"123"</span>;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"test内部变量b："</span>+b);</div><div class="line">    &#125;</div><div class="line">    test();</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"test内部变量b："</span>+b);</div><div class="line"><span class="comment">// ==&gt;  test外部变量b：123</span></div><div class="line"><span class="comment">// ==&gt;  Uncaught ReferenceError: b is not defined</span></div></pre></td></tr></table></figure>
<h4 id="函数内变量作用域（特殊情况）："><a href="#函数内变量作用域（特殊情况）：" class="headerlink" title="函数内变量作用域（特殊情况）："></a>函数内变量作用域（特殊情况）：</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      b =<span class="string">"123"</span>;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"test内部变量b："</span>+b);</div><div class="line">    &#125;</div><div class="line">    test();</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"test外部变量b："</span>+b);</div><div class="line">    <span class="built_in">window</span>.b;</div><div class="line"></div><div class="line"><span class="comment">// ==&gt;  test内部变量b：123</span></div><div class="line"><span class="comment">// ==&gt;  test外部变量b：123</span></div><div class="line"><span class="comment">// ==&gt; "123"</span></div></pre></td></tr></table></figure>
<h4 id="块语句（块等级代码）"><a href="#块语句（块等级代码）" class="headerlink" title="块语句（块等级代码）"></a>块语句（块等级代码）</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>()&#123;&#125;;</div><div class="line"></div><div class="line"><span class="keyword">for</span>()&#123;&#125;;</div><div class="line"></div><div class="line"><span class="keyword">switch</span>()&#123;&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> b=<span class="number">1</span>; b&lt;<span class="number">5</span>;b++)&#123;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(b);</div><div class="line"><span class="comment">// ==&gt; 5</span></div></pre></td></tr></table></figure>
<h4 id="预编译变量与函数"><a href="#预编译变量与函数" class="headerlink" title="预编译变量与函数"></a>预编译变量与函数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> c = <span class="string">"123"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(c);</div><div class="line">  <span class="keyword">var</span> c = <span class="string">"456"</span>;</div><div class="line">  <span class="built_in">console</span>.log(c);</div><div class="line">&#125;</div><div class="line">test();</div><div class="line"><span class="comment">// ==&gt; undefined</span></div><div class="line"><span class="comment">// ==&gt; 456</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> c = <span class="string">"123"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(d);</div><div class="line">  <span class="built_in">console</span>.log(c);</div><div class="line">  <span class="keyword">var</span> c = <span class="string">"456"</span>;</div><div class="line">  <span class="built_in">console</span>.log(c);</div><div class="line">&#125;</div><div class="line">test();</div><div class="line"><span class="comment">// ==&gt; ReferenceError: d is not defined</span></div></pre></td></tr></table></figure>
<h3 id="执行上下文（execution-context）"><a href="#执行上下文（execution-context）" class="headerlink" title="执行上下文（execution context）"></a>执行上下文（execution context）</h3><ul>
<li>全局执行上下文为window</li>
<li>每个函数都有自己的执行上下文</li>
<li>全局的执行上下文在当前窗口关闭后被销毁</li>
<li>执行上下文有一个与之相对应的变量对象</li>
</ul>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fkntqa64a6j30ui0kkq7o.jpg" alt=""></p>
<h4 id="执行上下文建立阶段"><a href="#执行上下文建立阶段" class="headerlink" title="执行上下文建立阶段"></a>执行上下文建立阶段</h4><ul>
<li>建立变量，函数，arguments对象，参数variable object</li>
<li>建立作用域链</li>
<li>确定this的值</li>
</ul>
<h4 id="执行上下文代码执行阶段"><a href="#执行上下文代码执行阶段" class="headerlink" title="执行上下文代码执行阶段"></a>执行上下文代码执行阶段</h4><ul>
<li>变量赋值</li>
<li>函数引用</li>
<li>执行其他代码</li>
</ul>
<p>Variable Object变量对象 ==&gt; Active Object活动对象</p>
   <figure class="highlight javascript"><figcaption><span>bash</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">i</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> a = <span class="string">'hello'</span>;</div><div class="line">  <span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span> <span class="title">privateB</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">  &#125;;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">foo(<span class="number">22</span>);</div><div class="line"></div><div class="line"><span class="comment">//建立阶段</span></div><div class="line">fooExecutionContext = &#123;</div><div class="line">  variableObject:&#123;</div><div class="line">    <span class="built_in">arguments</span>:&#123;</div><div class="line">      <span class="number">0</span>:<span class="number">22</span>,</div><div class="line">      length:<span class="number">1</span></div><div class="line">    &#125;,</div><div class="line">    i:<span class="number">22</span>,</div><div class="line">    c:pointer to <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span></div><div class="line"><span class="function">    <span class="title">a</span>:<span class="title">undefined</span>,</span></div><div class="line"><span class="function">    <span class="title">b</span>:<span class="title">undefined</span></span></div><div class="line"><span class="function">  &#125;,</span></div><div class="line"><span class="function">    <span class="title">scopeChain</span>:</span>&#123;...&#125;,</div><div class="line">    <span class="keyword">this</span>:&#123;...&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">//代码执行阶段</span></div><div class="line">fooExecutionContext = &#123;</div><div class="line">  variableObject:&#123;</div><div class="line">    <span class="built_in">arguments</span>:&#123;</div><div class="line">      <span class="number">0</span>:<span class="number">22</span>,</div><div class="line">      length:<span class="number">1</span></div><div class="line">    &#125;,</div><div class="line">    i:<span class="number">22</span>,</div><div class="line">    c:pointer to <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span></div><div class="line"><span class="function">    <span class="title">a</span>:'<span class="title">hello</span>',</span></div><div class="line"><span class="function">    <span class="title">b</span>:<span class="title">pointer</span> <span class="title">to</span> <span class="title">function</span> <span class="title">privateB</span>(<span class="params"></span>)</span></div><div class="line"><span class="function">  &#125;，</span></div><div class="line"><span class="function">    <span class="title">scopeChain</span>:</span>&#123;...&#125;,</div><div class="line">    <span class="keyword">this</span>:&#123;...&#125;</div><div class="line"></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<hr>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>指有权限访问另一个函数作用域的变量的函数<br>创建闭包的常见方式就是在一个函数内部创建另一个函数</p>
<h3 id="闭包的转换"><a href="#闭包的转换" class="headerlink" title="闭包的转换"></a>闭包的转换</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> elements=<span class="built_in">document</span>.getElementsByTagName(<span class="string">"span"</span>);</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;elements.length;i++)&#123;</div><div class="line">  elements[i].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">    <span class="built_in">console</span>.log(i);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// ==&gt;</span></div><div class="line">ƒ ()&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">    <span class="built_in">console</span>.log(i);</div><div class="line">  &#125;</div><div class="line"></div><div class="line"><span class="comment">// 按下1，2，3</span></div><div class="line"><span class="comment">// ==&gt; 3</span></div><div class="line"><span class="comment">// ==&gt; 3</span></div><div class="line"><span class="comment">// ==&gt; 3</span></div></pre></td></tr></table></figure>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> elements=<span class="built_in">document</span>.getElementsByTagName(<span class="string">"span"</span>);</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;elements.length;i++)&#123;</div><div class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params">m</span>)</span>&#123;</div><div class="line">    elements[i].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(m);</div><div class="line">    &#125;</div><div class="line">&#125;)(i);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; undefined</span></div><div class="line"><span class="comment">// 按下1，2，3</span></div><div class="line"><span class="comment">// ==&gt; 0</span></div><div class="line"><span class="comment">// ==&gt; 1</span></div><div class="line"><span class="comment">// ==&gt; 2</span></div></pre></td></tr></table></figure>
<h4 id="创建闭包的实例"><a href="#创建闭包的实例" class="headerlink" title="创建闭包的实例"></a>创建闭包的实例</h4>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Outter</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> InnerVar=<span class="number">0</span>;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> s=<span class="function"><span class="keyword">function</span> <span class="title">Inner</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    InnerVar++;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"InnerVar:"</span>+InnerVar);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> s;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> test = Outter();</div><div class="line">test();</div><div class="line"><span class="comment">// 输出会叠加，不会被销毁</span></div><div class="line"><span class="comment">// ==&gt; InnerVar:1</span></div><div class="line"><span class="comment">// ==&gt; InnerVar:2</span></div><div class="line"><span class="comment">// ==&gt; InnerVar:3</span></div></pre></td></tr></table></figure>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">searchTxT</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> alreadyState = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line">  <span class="keyword">var</span> txtResult = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line">  <span class="keyword">var</span> getResult = <span class="function"><span class="keyword">function</span>(<span class="params">txt</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(alreadyState[txt]==<span class="number">1</span>)&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="string">"已经有结果了，正在返回"</span>);</div><div class="line">      <span class="keyword">return</span> txtResult[txt];</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="string">"正在为您搜索"</span>+txt+<span class="string">"的结果"</span>);</div><div class="line">      alreadyState[txt]=<span class="number">1</span>;</div><div class="line">      txtResult[txt]=<span class="string">"这是"</span>+txt+<span class="string">"的搜索结果！"</span>;</div><div class="line">      <span class="keyword">return</span> txtResult[txt];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> getResult;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> mySearch=searchTxT();</div><div class="line">mySearch(<span class="string">"JavaScript"</span>);</div><div class="line">mySearch(<span class="string">"JavaScript"</span>);</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; 正在为您搜索JavaSacript的结果</span></div><div class="line"><span class="comment">// ==&gt; 已经有结果了，正在返回</span></div></pre></td></tr></table></figure>
<h2 id="this的使用"><a href="#this的使用" class="headerlink" title="this的使用"></a>this的使用</h2><ul>
<li>函数运行时动态生成的对象</li>
<li>只能在函数内部使用</li>
<li>指的是调用函数的那个对象</li>
<li>闭包的this指向window（不是绝对的）</li>
<li>DOM元素执行绑定事件时，事件内部this为该DOM元素</li>
</ul>
<h3 id="全局中this为window对象"><a href="#全局中this为window对象" class="headerlink" title="全局中this为window对象"></a>全局中this为window对象</h3>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">console.log(this)</div><div class="line">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</div></pre></td></tr></table></figure>
<h3 id="函数中this也为window对象"><a href="#函数中this也为window对象" class="headerlink" title="函数中this也为window对象"></a>函数中this也为window对象</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">&#125;</div><div class="line">test();</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</span></div><div class="line"><span class="comment">// ==&gt; 1</span></div></pre></td></tr></table></figure>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">  <span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">changeX</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.x=<span class="number">5</span>;</div><div class="line">  &#125;</div><div class="line">  changeX();</div><div class="line">  test();</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</span></div><div class="line"><span class="comment">// ==&gt; 5</span></div></pre></td></tr></table></figure>
<p>   注：说明两个<code>this</code>指向的是同一个东西</p>
<h3 id="函数内部函数N次嵌套this还是指向window"><a href="#函数内部函数N次嵌套this还是指向window" class="headerlink" title="函数内部函数N次嵌套this还是指向window"></a>函数内部函数N次嵌套this还是指向window</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> s = <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">  inner();</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">    innerInner();</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">innerInner</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">s();</div><div class="line"><span class="comment">// ==&gt; 1  </span></div><div class="line"><span class="comment">// ==&gt; 1  </span></div><div class="line"><span class="comment">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</span></div><div class="line"><span class="comment">// ==&gt; 1</span></div></pre></td></tr></table></figure>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> s = <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> x = <span class="number">3</span>;</div><div class="line">  <span class="built_in">console</span>.log(x);</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">&#125;</div><div class="line">s();</div><div class="line"><span class="comment">// ==&gt; 3</span></div><div class="line"><span class="comment">// ==&gt; 1</span></div></pre></td></tr></table></figure>
<h3 id="构造函数中的this指向对象本身"><a href="#构造函数中的this指向对象本身" class="headerlink" title="构造函数中的this指向对象本身"></a>构造函数中的<code>this</code>指向对象本身</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  <span class="keyword">this</span>.x = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> test();</div><div class="line"><span class="built_in">console</span>.log(o.x);</div><div class="line"><span class="built_in">console</span>.log(x);</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; 2</span></div><div class="line"><span class="comment">// ==&gt; 1</span></div></pre></td></tr></table></figure>
<h3 id="闭包-1"><a href="#闭包-1" class="headerlink" title="闭包"></a>闭包</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  <span class="keyword">this</span>.x = <span class="number">2</span>;</div><div class="line">  <span class="keyword">var</span> m=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.x=<span class="number">4</span>;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"m"</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> m;</div><div class="line">&#125;</div><div class="line">test();</div><div class="line"><span class="comment">// ==&gt; 1</span></div><div class="line"><span class="comment">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</span></div><div class="line"><span class="comment">// ==&gt;</span></div><div class="line">ƒ ()&#123;</div><div class="line">    <span class="keyword">this</span>.x=<span class="number">4</span>;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"m"</span>);</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  <span class="keyword">this</span>.x = <span class="number">2</span>;</div><div class="line">  <span class="keyword">var</span> m=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.x=<span class="number">4</span>;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"m"</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> m;</div><div class="line">&#125;</div><div class="line">test();</div><div class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> test();</div><div class="line"><span class="built_in">console</span>.log(o.x);</div><div class="line">o();</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"x:"</span>+x);</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; 1</span></div><div class="line"><span class="comment">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</span></div><div class="line"><span class="comment">// ==&gt; test &#123;&#125;</span></div><div class="line"><span class="comment">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</span></div><div class="line"><span class="comment">// ==&gt; 4</span></div><div class="line"><span class="comment">// ==&gt; m</span></div><div class="line"><span class="comment">// ==&gt; x:4</span></div></pre></td></tr></table></figure>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  <span class="keyword">this</span>.x = <span class="number">2</span>;</div><div class="line">  <span class="keyword">var</span> m=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.x=<span class="number">4</span>;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"m"</span>);</div><div class="line">    <span class="keyword">var</span> t=&#123;<span class="attr">x</span>:<span class="keyword">this</span>.x&#125;;</div><div class="line">    <span class="keyword">return</span> t;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> m;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> test();</div><div class="line"><span class="built_in">console</span>.log(o.x);</div><div class="line">o();</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"x:"</span>+x);</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; test &#123;&#125;</span></div><div class="line"><span class="comment">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</span></div><div class="line"><span class="comment">// ==&gt; 4</span></div><div class="line"><span class="comment">// ==&gt; m</span></div><div class="line"><span class="comment">// ==&gt; x:4</span></div></pre></td></tr></table></figure>
<h3 id="对象中的this，this不变化后的值变化"><a href="#对象中的this，this不变化后的值变化" class="headerlink" title="对象中的this，this不变化后的值变化"></a>对象中的this，this不变化后的值变化</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">&#125;</div><div class="line">test();</div><div class="line"><span class="keyword">var</span> o = &#123;&#125;;</div><div class="line">o.x = <span class="number">1</span>;</div><div class="line">o.m = test;</div><div class="line">o.m();</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</span></div><div class="line"><span class="comment">// ==&gt; undefined</span></div><div class="line"><span class="comment">// ==&gt; &#123;x: 1, m: ƒ&#125;</span></div><div class="line"><span class="comment">// ==&gt;  1</span></div></pre></td></tr></table></figure>
<h3 id="apply动态指定this"><a href="#apply动态指定this" class="headerlink" title="apply动态指定this"></a>apply动态指定this</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">&#125;</div><div class="line">test();</div><div class="line"><span class="keyword">var</span> o=&#123;</div><div class="line">  x:<span class="number">1</span>,</div><div class="line">  m:<span class="keyword">this</span>.test</div><div class="line">&#125;;</div><div class="line">o.m.apply();</div><div class="line">o.m.apply(o);</div><div class="line"><span class="comment">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</span></div><div class="line"><span class="comment">// ==&gt; Window &#123;frames: Window, postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, …&#125;</span></div><div class="line"><span class="comment">// ==&gt; &#123;x: 1, m: ƒ&#125;</span></div><div class="line"><span class="comment">// ==&gt;  1</span></div></pre></td></tr></table></figure>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">  &lt;input type=<span class="string">"text"</span> onclick=<span class="string">"test(this)"</span>&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">t</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(t);</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// ==&gt;   &lt;input type="text" onclick="test(this)"&gt;</span></div><div class="line">  &lt;script&gt;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">t</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(t);</div><div class="line">  &#125;</div><div class="line"></div><div class="line"><span class="comment">// &lt;== t1=document.getElementById("t1")</span></div><div class="line"><span class="comment">// == &gt;&lt;input type="text" onclick="test(this)" id="t1"&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// &lt;== t1.ondlick=function()&#123;console.log(this);&#125;                     </span></div><div class="line"><span class="comment">// ==&gt; ƒ ()&#123;console.log(this);&#125;</span></div></pre></td></tr></table></figure>
<h2 id="值传递和引用传递"><a href="#值传递和引用传递" class="headerlink" title="值传递和引用传递"></a>值传递和引用传递</h2><h3 id="原始值"><a href="#原始值" class="headerlink" title="原始值"></a>原始值</h3><ul>
<li>存储在栈（stack）中的简单数据段，也就是说，他们的值直接存储在变量访问的位置</li>
<li>包括：Undefined、Null、Boolean、Number、String型</li>
</ul>
<h3 id="引用值"><a href="#引用值" class="headerlink" title="引用值"></a>引用值</h3><ul>
<li><p>存储在堆（heap）中的对象，也就是说，存储在变量处的值是一个指针（point），指向存储对象的内存处</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fkopj69c0bj30f30ho3zn.jpg" alt=""></p>
</li>
</ul>
<h3 id="值传递和引用传递-1"><a href="#值传递和引用传递-1" class="headerlink" title="值传递和引用传递"></a>值传递和引用传递</h3><ul>
<li>JavaScript的原始类型，是按值传递的</li>
<li>JavaScript的对象类型，是按共享传递的</li>
<li>原始类型是不可变的，只有对象是可变的</li>
<li>对象的值是引用的，可变的</li>
</ul>
<h3 id="按值传递-call-by-value"><a href="#按值传递-call-by-value" class="headerlink" title="按值传递 call by value"></a>按值传递 call by value</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x=<span class="number">1</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    o=<span class="number">2</span>;</div><div class="line">&#125;</div><div class="line">text(x);</div><div class="line"><span class="built_in">console</span>.log(x);</div><div class="line"><span class="comment">// ==&gt; 1</span></div></pre></td></tr></table></figure>
<h3 id="按引用传递-call-by-reference"><a href="#按引用传递-call-by-reference" class="headerlink" title="按引用传递 call by reference"></a>按引用传递 call by reference</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">x</span>:<span class="number">1</span>&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">o</span>)</span>&#123;</div><div class="line">    o.x=<span class="number">2</span>;</div><div class="line">&#125;</div><div class="line">test(obj);</div><div class="line"><span class="built_in">console</span>.log(obj.x)</div><div class="line"><span class="comment">// ==&gt; 2</span></div></pre></td></tr></table></figure>
<h3 id="按共享传递-call-by-sharing"><a href="#按共享传递-call-by-sharing" class="headerlink" title="按共享传递 call by sharing"></a>按共享传递 call by sharing</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">  <span class="keyword">var</span> obj = &#123;<span class="attr">x</span>:<span class="number">1</span>&#125;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">o</span>)</span>&#123;</div><div class="line">      o.x=<span class="number">2</span>;</div><div class="line">      o = <span class="number">100</span>;</div><div class="line">      t = <span class="number">200</span>;</div><div class="line">      <span class="built_in">console</span>.log(o);</div><div class="line">      <span class="keyword">return</span> o;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> s = test(obj);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"s:"</span>+s);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"t:"</span>+t);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"obj.x:"</span>+obj.x);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"o:"</span>+o);</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; 100</span></div><div class="line"><span class="comment">// ==&gt; s:100</span></div><div class="line"><span class="comment">// ==&gt; t:200</span></div><div class="line"><span class="comment">// ==&gt; obj.x:2</span></div><div class="line"><span class="comment">// ==&gt; Uncaught ReferenceError: o is not defined</span></div></pre></td></tr></table></figure>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">    obj.name = <span class="string">'aaa'</span>;</div><div class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();						<span class="comment">// obj = new Object();也一样</span></div><div class="line">    obj.name = <span class="string">'ccc'</span>;</div><div class="line">    <span class="keyword">return</span> obj;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">  person.name = <span class="string">'bbb'</span>;</div><div class="line">  <span class="keyword">var</span> newPerson = setName(person);</div><div class="line">  <span class="built_in">console</span>.log(person.name + <span class="string">' | '</span> + newPerson.name);</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; aaa | ccc</span></div></pre></td></tr></table></figure>
<p>   注：如果<code>var obj = new Object();</code>是按引用传递的，此处传参进来obj应该被重新引用新的内存单元。</p>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = &#123;<span class="attr">num</span>:<span class="string">'1'</span>&#125;;</div><div class="line"><span class="keyword">var</span> b = &#123;<span class="attr">num</span>:<span class="string">'2'</span>&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">  obj.num = <span class="string">'3'</span>;</div><div class="line">  obj = b;</div><div class="line">  <span class="keyword">return</span> obj.num;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> result = change(a);</div><div class="line"><span class="built_in">console</span>.log(result + <span class="string">'|'</span> + a.num);</div><div class="line"><span class="comment">// ==&gt; 2|3</span></div></pre></td></tr></table></figure>
<h3 id="原始类型是不可变的，只有对象是可变的"><a href="#原始类型是不可变的，只有对象是可变的" class="headerlink" title="原始类型是不可变的，只有对象是可变的"></a>原始类型是不可变的，只有对象是可变的</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"abc"</span>;</div><div class="line"><span class="built_in">console</span>.log(str[<span class="number">0</span>]);</div><div class="line">str[<span class="number">0</span>] = <span class="string">"d"</span>;</div><div class="line"><span class="built_in">console</span>.log(str[<span class="number">0</span>]);</div><div class="line"><span class="built_in">console</span>.log(str);</div><div class="line"><span class="comment">// ==&gt; a</span></div><div class="line"><span class="comment">// ==&gt; a</span></div><div class="line"><span class="comment">// ==&gt; abc</span></div></pre></td></tr></table></figure>
<h3 id="对象的值是引用的，可变的"><a href="#对象的值是引用的，可变的" class="headerlink" title="对象的值是引用的，可变的"></a>对象的值是引用的，可变的</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">x</span>:<span class="number">1</span>&#125;;</div><div class="line">obj.x = <span class="number">100</span>;</div><div class="line"><span class="keyword">var</span> o = obj;</div><div class="line">o.x = <span class="number">1</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"obj.x:"</span>+obj.x);</div><div class="line">o = <span class="literal">true</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"obj.x:"</span>+obj.x)</div><div class="line"><span class="comment">// ==&gt; obj.x:1</span></div><div class="line"><span class="comment">// ==&gt; obj.x:1</span></div></pre></td></tr></table></figure>
<p>   <img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fkoqlibil0j30h70b1wf8.jpg" alt=""></p>
<p>   <img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fkoqm36rykj30nx0b4jt1.jpg" alt=""></p>
<h2 id="H5新的标准属性"><a href="#H5新的标准属性" class="headerlink" title="H5新的标准属性"></a>H5新的标准属性</h2><h3 id="form"><a href="#form" class="headerlink" title="form"></a>form</h3>   <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>form表单新增属性<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"myform"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">fieldset</span> <span class="attr">name</span>=<span class="string">"userInfo"</span> <span class="attr">disabled</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">legend</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"inset"</span> <span class="attr">onchange</span>=<span class="string">"myform.userInfo.disabled = !checked"</span>/&gt;</span></div><div class="line">            是否填写身份信息</div><div class="line">            <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">legend</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>姓名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"uname"</span> <span class="attr">required</span>/&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>required：该项必填<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>年龄: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">pattern</span>=<span class="string">"[0-9]&#123;1,2&#125;"</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>只能输入1-2位数字，pattern：使用正则校验输入的内容<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>学习目标: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"target"</span> <span class="attr">placeholder</span>=<span class="string">"这是placeholder提示的内容"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>placeholder：设置提示信息<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>入学年月： <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"joinMonth"</span> <span class="attr">type</span>=<span class="string">"month"</span>/&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">autofocus</span>&gt;</span>autofocus:元素默认获得焦点<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>数字：<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"number"</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">min</span>=<span class="string">"5"</span> <span class="attr">max</span>=<span class="string">"10"</span> <span class="attr">step</span>=<span class="string">"3"</span>&gt;</span>min:设置最小值，max:设置最大值，step:设置当前值的间隔，当前要求必须输入5-10以内，且数字间隔为3<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"file"</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">multiple</span>/&gt;</span>multiple:允许上传时选择多个文件<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></div><div class="line">    	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"autocomplete"</span> <span class="attr">autocomplete</span>=<span class="string">"on"</span> <span class="attr">list</span>=<span class="string">"mylist"</span>&gt;</span></div><div class="line">        datalist:设置提示选项</div><div class="line">        <span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">"mylist"</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Asmita"</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Aspros"</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"textarea"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">cols</span>=<span class="string">"40"</span> <span class="attr">rows</span>=<span class="string">"10"</span> <span class="attr">maxlength</span>=<span class="string">"200"</span> <span class="attr">wrap</span>=<span class="string">"hard"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span> <span class="attr">formmethod</span>=<span class="string">"get"</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"POST提交"</span> <span class="attr">formmethod</span>=<span class="string">"post"</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"不验证提交"</span> <span class="attr">formnovalidate</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!--允许表单在外部定义元素，通过form指向form--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>允许表单在外部定义元素，通过form属性指向其需要提交的form<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>email<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"email"</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">form</span>=<span class="string">"myform"</span> <span class="attr">required</span>/&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div></pre></td></tr></table></figure>
<h3 id="base"><a href="#base" class="headerlink" title="base"></a>base</h3>   <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span>  </div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>base新增属性<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">"http://e.jikexueyuan.com/"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">base</span> <span class="attr">target</span>=<span class="string">"_blank"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span>  </div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>base新增属性<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"headerandfooter/images/logo.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span></div><div class="line">	&amp;lt;img src="headerandfooter/images/logo.png" alt=""&amp;gt;</div><div class="line"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">通过设置base href使图片自动在href指定的链接中查找资源</div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.jikexueyuan.com"</span>&gt;</span>测试链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span></div><div class="line">	&amp;lt;a href="http://www.jikexueyuan.com"&amp;gt;测试链接&amp;lt;/a&amp;gt;</div><div class="line"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line">虽然没有指定target="_blank"，但是受到base target的影响，依然会打开新窗口</div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="manifest"><a href="#manifest" class="headerlink" title="manifest"></a>manifest</h4>   <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>HTML新增manifest属性<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"favicon.ico"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">if</span> (<span class="string">"onoffline"</span> <span class="keyword">in</span> <span class="built_in">window</span>) &#123;</span></div><div class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"该浏览器支持onoffline事件!"</span>);</span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">"当前浏览器在线状态："</span>+navigator.onLine);</span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.ononline=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(<span class="string">"当前浏览器在线"</span>);</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.onoffline=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.error(<span class="string">"当前浏览器离线"</span>);</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="script新增async属性"><a href="#script新增async属性" class="headerlink" title="script新增async属性"></a><code>script</code>新增<code>async</code>属性</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alert(<span class="string">"ASMITA"</span>);</div></pre></td></tr></table></figure>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;meta charset=<span class="string">"utf-8"</span> /&gt;</div><div class="line">&lt;title&gt;script新增<span class="keyword">async</span>属性&lt;<span class="regexp">/title&gt;</span></div><div class="line"><span class="regexp">/</span><span class="regexp">/异步加载：先弹出窗口，再出现文字</span></div><div class="line"><span class="regexp">&lt;script src="script_async.js"&gt;&lt;/</span>script&gt;</div><div class="line"><span class="comment">//同步加载：文字和窗口同时弹出</span></div><div class="line">&lt;script src=<span class="string">"script_async.js"</span> <span class="keyword">async</span>=<span class="string">"async"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div><div class="line">&lt;<span class="regexp">/head&gt;</span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">&lt;body&gt;</span></div><div class="line"><span class="regexp">&lt;h1&gt;script新增async属性&lt;/</span>h1&gt;</div><div class="line">&lt;<span class="regexp">/body&gt;</span></div></pre></td></tr></table></figure>
<h3 id="table新增contenteditable属性"><a href="#table新增contenteditable属性" class="headerlink" title="table新增contenteditable属性"></a><code>table</code>新增<code>contenteditable</code>属性</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;style&gt;</div><div class="line">table&#123; border:2px solid #000000; width:400px;&#125;</div><div class="line">td&#123; border:1px solid #CCCCCC;&#125;</div><div class="line">&lt;<span class="regexp">/style&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>head&gt;  </div><div class="line"></div><div class="line">&lt;body&gt;  </div><div class="line">&lt;h1&gt;table新增contenteditable属性&lt;<span class="regexp">/h1&gt;</span></div><div class="line"><span class="regexp">&lt;table&gt;</span></div><div class="line"><span class="regexp">	&lt;tr&gt;</span></div><div class="line"><span class="regexp">    	&lt;td&gt;ID&lt;/</span>td&gt;</div><div class="line">        &lt;td&gt;内容&lt;<span class="regexp">/td&gt;</span></div><div class="line"><span class="regexp">        &lt;td&gt;备注&lt;/</span>td&gt;</div><div class="line">    &lt;<span class="regexp">/tr&gt;</span></div><div class="line"><span class="regexp">    &lt;tr&gt;</span></div><div class="line"><span class="regexp">    	&lt;td&gt;1&lt;/</span>td&gt;</div><div class="line">        &lt;td contenteditable=<span class="string">"true"</span>&gt;ASMITA&lt;<span class="regexp">/td&gt;</span></div><div class="line"><span class="regexp">        &lt;td contenteditable="true"&gt;这行的内容是允许修改的&lt;/</span>td&gt;</div><div class="line">    &lt;<span class="regexp">/tr&gt;</span></div><div class="line"><span class="regexp">    &lt;tr&gt;</span></div><div class="line"><span class="regexp">    	&lt;td&gt;2&lt;/</span>td&gt;</div><div class="line">        &lt;td&gt;极客学院&lt;<span class="regexp">/td&gt;</span></div><div class="line"><span class="regexp">        &lt;td&gt;这行的内容不允许修改&lt;/</span>td&gt;</div><div class="line">    &lt;<span class="regexp">/tr&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>table&gt;</div><div class="line">&lt;<span class="regexp">/body&gt;</span></div></pre></td></tr></table></figure>
<h3 id="ol新增reversed属性"><a href="#ol新增reversed属性" class="headerlink" title="ol新增reversed属性"></a><code>ol</code>新增<code>reversed</code>属性</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;  </div><div class="line">&lt;meta charset=<span class="string">"utf-8"</span> /&gt;  </div><div class="line">&lt;title&gt;ol新增reversed属性&lt;<span class="regexp">/title&gt;</span></div><div class="line"><span class="regexp">&lt;style&gt;</span></div><div class="line"><span class="regexp">table&#123; border:2px solid #000000; width:400px;&#125;</span></div><div class="line"><span class="regexp">td&#123; border:1px solid #CCCCCC;&#125;</span></div><div class="line"><span class="regexp">&lt;/</span>style&gt;</div><div class="line">&lt;<span class="regexp">/head&gt;  </span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">&lt;body&gt;  </span></div><div class="line"><span class="regexp">&lt;h1&gt;ol新增reversed属性&lt;/</span>h1&gt;</div><div class="line">&lt;ol&gt;</div><div class="line">	&lt;li&gt;我爱学习&lt;<span class="regexp">/li&gt;</span></div><div class="line"><span class="regexp">	&lt;li&gt;极客学院&lt;/</span>li&gt;</div><div class="line">	&lt;li&gt;ASMITA&lt;<span class="regexp">/li&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>ol&gt;</div><div class="line">&lt;h2&gt;下面这个是倒序排列的 reversed&lt;<span class="regexp">/h2&gt;</span></div><div class="line"><span class="regexp">&lt;ol reversed&gt;</span></div><div class="line"><span class="regexp">	&lt;li&gt;我爱学习&lt;/</span>li&gt;</div><div class="line">	&lt;li&gt;极客学院&lt;<span class="regexp">/li&gt;</span></div><div class="line"><span class="regexp">	&lt;li&gt;ASMITA&lt;/</span>li&gt;</div><div class="line">&lt;<span class="regexp">/ol&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>body&gt;</div></pre></td></tr></table></figure>
<h2 id="H5新的事件属性"><a href="#H5新的事件属性" class="headerlink" title="H5新的事件属性"></a>H5新的事件属性</h2><p>   <img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fkow7g5o9nj318e0kvwjo.jpg" alt=""></p>
<h3 id="onbeforeunload"><a href="#onbeforeunload" class="headerlink" title="onbeforeunload"></a><code>onbeforeunload</code></h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="built_in">window</span>.onbeforeunload=checkLeave;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkLeave</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(event);</div><div class="line">	event.returnValue=<span class="string">"确定离开当前页面吗？"</span>;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"确定离开咯"</span>);</div><div class="line">	alert(<span class="string">"确定离开吗？"</span>);			<span class="comment">//不能alert</span></div><div class="line">　　　&#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="onerror"><a href="#onerror" class="headerlink" title="onerror"></a><code>onerror</code></h3>   <figure class="highlight html"><figcaption><span>javascript</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"测试"</span> <span class="attr">onclick</span>=<span class="string">"message()"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="comment">//window.onerror=handleErr;</span></span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">handleErr</span>(<span class="params">msg,url,line</span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="keyword">var</span> txt=<span class="string">""</span>;</span></div><div class="line"><span class="javascript">	txt=<span class="string">"本页中存在错误。\n\n"</span></span></div><div class="line"><span class="javascript">	txt+=<span class="string">"错误："</span> + msg + <span class="string">"\n"</span></span></div><div class="line"><span class="javascript">	txt+=<span class="string">"URL: "</span> + url + <span class="string">"\n"</span></span></div><div class="line"><span class="javascript">	txt+=<span class="string">"行："</span> + line + <span class="string">"\n\n"</span></span></div><div class="line"><span class="javascript">	txt+=<span class="string">"点击“确定”继续。\n\n"</span></span></div><div class="line"><span class="undefined">	alert(txt)</span></div><div class="line"><span class="javascript">	<span class="keyword">return</span> <span class="literal">true</span>;</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">message</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	adddlert(<span class="string">"这行是错误的"</span>);</span></div><div class="line"><span class="undefined">	&#125;</span></div></pre></td></tr></table></figure>
<h3 id="onhashchange"><a href="#onhashchange" class="headerlink" title="onhashchange"></a><code>onhashchange</code></h3>   <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"><span class="selector-id">#hide</span>&#123;<span class="attribute">display</span>:none; <span class="attribute">color</span>:red;&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#hash1"</span>&gt;</span>Set Hash1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#hash2"</span>&gt;</span>Set Hash2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"hide"</span>&gt;</span>网上的资料很多是错的，把hashchange写成了haschange<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.onhashchange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(<span class="string">"hash change to:"</span>+location.hash);</span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">document</span>.getElementById(<span class="string">"hide"</span>).style.display=<span class="string">'block'</span>;</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="onoffline和ononline"><a href="#onoffline和ononline" class="headerlink" title="onoffline和ononline"></a><code>onoffline</code>和<code>ononline</code></h3><p>   这种方法明显不靠谱啊，建议使用ajax请求远程连接，如果错误则表示离线</p>
   <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"><span class="selector-id">#hide</span>&#123; <span class="attribute">display</span>:none; <span class="attribute">color</span>:red;&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">onoffline事件演示，请打开console查看</div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"hide"</span>&gt;</span>这种方法明显不靠谱啊，建议使用ajax请求远程连接，如果错误则表示离线<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">if</span> (<span class="string">"onoffline"</span> <span class="keyword">in</span> <span class="built_in">window</span>) &#123;</span></div><div class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"该浏览器支持onoffline事件!"</span>);</span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">"当前浏览器在线状态："</span>+navigator.onLine);</span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.ononline=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(<span class="string">"当前浏览器在线"</span>);</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.onoffline=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.error(<span class="string">"当前浏览器离线"</span>);</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">document</span>.getElementById(<span class="string">"hide"</span>).style.display=<span class="string">'block'</span>;</span></div><div class="line"><span class="undefined">	&#125;		</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="onpagehide"><a href="#onpagehide" class="headerlink" title="onpagehide"></a><code>onpagehide</code></h3>   <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">发生在页面跳转时</div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com/"</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">if</span> (<span class="string">"onpagehide"</span> <span class="keyword">in</span> <span class="built_in">window</span>) &#123;</span></div><div class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"该浏览器支持onpagehide事件!"</span>);</span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.onpagehide =<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(<span class="string">"PageHide"</span>);</span></div><div class="line"><span class="javascript">	<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++)&#123;</span></div><div class="line"><span class="javascript">		<span class="built_in">console</span>.log(i);</span></div><div class="line"><span class="undefined">		&#125;</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="onpageshow"><a href="#onpageshow" class="headerlink" title="onpageshow"></a><code>onpageshow</code></h3><p>   经过测试，当前版本浏览器两者都会触发，所以出于兼容考虑， 建议写2个吧</p>
   <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"><span class="selector-id">#hide</span>&#123;<span class="attribute">display</span>:none; <span class="attribute">color</span>:red;&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">onpageshow在页面每次加载时触发<span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line">onload在页面首次加载时触发，如果页面已经被浏览器缓存了，则不触发</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"hide"</span>&gt;</span>经过测试，当前版本浏览器两者都会触发，所以出于兼容考虑， 建议写2个吧<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(<span class="string">"onload"</span>);</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.onpageshow=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(<span class="string">"onpageshow"</span>);</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="javascript"><span class="built_in">window</span>.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">document</span>.getElementById(<span class="string">"hide"</span>).style.display=<span class="string">'block'</span>;</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="onpopstate"><a href="#onpopstate" class="headerlink" title="onpopstate"></a><code>onpopstate</code></h3>   <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"点我更换url中的页面地址为test1.html"</span> <span class="attr">onclick</span>=<span class="string">"changeUrl()"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"点我换回来"</span> <span class="attr">onclick</span>=<span class="string">"changeBack()"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"点我触发onpopstate事件"</span> <span class="attr">onclick</span>=<span class="string">"goBack()"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"testDisp"</span>&gt;</span></div><div class="line">	当前显示页面初始化的内容</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">	<span class="function"><span class="keyword">function</span> <span class="title">changeUrl</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">		history.pushState(&#123;<span class="attr">test</span>: <span class="string">"s"</span>&#125;, <span class="string">"俺是假的"</span>, <span class="string">"test1.html"</span>);</span></div><div class="line"><span class="javascript">		testDisp.innerHTML=<span class="string">"当前显示test1.html的内容"</span>;</span></div><div class="line"><span class="undefined">		&#125;</span></div><div class="line"><span class="javascript">	<span class="function"><span class="keyword">function</span> <span class="title">changeBack</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">		history.pushState(&#123;<span class="attr">page</span>: <span class="number">1</span>&#125;, <span class="string">"俺是真的"</span>, <span class="string">"onpopstate.html"</span>);</span></div><div class="line"><span class="javascript">		testDisp.innerHTML=<span class="string">"当前显示onpopstate.html的内容"</span>;</span></div><div class="line"><span class="undefined">		&#125;</span></div><div class="line"><span class="javascript">	<span class="function"><span class="keyword">function</span> <span class="title">goBack</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="undefined">		history.back();</span></div><div class="line"><span class="undefined">		&#125;</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">    <span class="built_in">window</span>.onpopstate = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span></div><div class="line"><span class="javascript">		<span class="built_in">console</span>.log(<span class="string">"执行onpopstate"</span>);</span></div><div class="line"><span class="javascript">		<span class="built_in">console</span>.log(event);</span></div><div class="line"><span class="javascript">      	<span class="built_in">console</span>.log(<span class="string">"location: "</span> + <span class="built_in">document</span>.location + <span class="string">", state: "</span> + <span class="built_in">JSON</span>.stringify(event.state));  </span></div><div class="line"><span class="undefined">    &#125;;  </span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="comment">&lt;!--实例demo参考页  http://www.zhangxinxu.com/wordpress/2013/06/html5-history-api-pushstate-replacestate-ajax/--&gt;</span></div></pre></td></tr></table></figure>
<h3 id="onresize"><a href="#onresize" class="headerlink" title="onresize"></a><code>onresize</code></h3>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;窗口大小改变时触发	&lt;/div&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    window.onresize = function() &#123;</div><div class="line">		console.log(&quot;Hi man,窗口变了哦&quot;);</div><div class="line">		console.log(&quot;当前窗口【&quot;+document.body.offsetWidth+&quot;x&quot;+document.body.offsetHeight+&quot;】&quot;);</div><div class="line">    &#125;;  </div><div class="line"></div><div class="line">&lt;/script&gt;</div><div class="line">&lt;!--实例demo参考页  http://www.zhangxinxu.com/wordpress/2013/06/html5-history-api-pushstate-replacestate-ajax/--&gt;</div></pre></td></tr></table></figure>
<h2 id="Web-Worker"><a href="#Web-Worker" class="headerlink" title="Web Worker"></a>Web Worker</h2><ul>
<li>为网页脚本提供了一种能在后台进程中运行的方法</li>
<li>虽然在后台执行，但是依然会消耗CPU资源</li>
<li>无法访问DOM资源</li>
<li>无法访问全局变量或全局函数</li>
<li>无法使用<code>alert()</code>或者<code>confirm</code>等浏览器互交类方法</li>
</ul>
<p><strong>方法:</strong></p>
<ul>
<li>postMessage：发送请求</li>
<li>onmessage：捕获请求</li>
<li><p>terminate：终止worker，一旦terminate后，无法重新启用，只能另外创建</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"result"</span>&gt;</span>正在连接服务器<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">if</span>(<span class="keyword">typeof</span>(Worker)!==<span class="string">"undefined"</span>)&#123;</span></div><div class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"当前浏览器支持web worker"</span>);</span></div><div class="line"><span class="undefined">  &#125;</span></div><div class="line"><span class="javascript"><span class="keyword">else</span>&#123;</span></div><div class="line"><span class="javascript">  <span class="built_in">console</span>.error(<span class="string">"当前浏览器不支持web worker"</span>);</span></div><div class="line"><span class="undefined">  &#125;</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">pageExec</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++)&#123;</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="undefined">		&#125;</span></div><div class="line"><span class="javascript">	<span class="keyword">return</span> i;</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="javascript"><span class="comment">//var test=pageExec();</span></span></div><div class="line"><span class="javascript"><span class="comment">//console.log(test);</span></span></div><div class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">doWorker</span>(<span class="params"></span>)</span>&#123; 		<span class="comment">//运行轮循事件</span></span></div><div class="line"><span class="javascript">	<span class="keyword">var</span> worker = <span class="keyword">new</span> Worker(<span class="string">'work.js'</span>);</span></div><div class="line"><span class="javascript">	worker.onmessage= <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span></div><div class="line"><span class="javascript">	 	<span class="built_in">document</span>.getElementById(<span class="string">"result"</span>).innerHTML = event.data+<span class="string">"&lt;br/&gt;"</span>;</span></div><div class="line"><span class="javascript">	 	<span class="built_in">console</span>.log(event);</span></div><div class="line"><span class="undefined">		worker.terminate();</span></div><div class="line"><span class="undefined">		&#125;;</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">doWorker2</span>(<span class="params"></span>)</span>&#123; 		<span class="comment">//向worker传递参数</span></span></div><div class="line"><span class="javascript">	<span class="keyword">var</span> worker = <span class="keyword">new</span> Worker(<span class="string">'work2.js'</span>);</span></div><div class="line"><span class="javascript">	worker.onmessage= <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span></div><div class="line"><span class="javascript">	 	<span class="built_in">document</span>.getElementById(<span class="string">"result"</span>).innerHTML = event.data+<span class="string">"&lt;br/&gt;"</span>;</span></div><div class="line"><span class="undefined">		&#125;;</span></div><div class="line"><span class="javascript">	worker.postMessage(<span class="string">"小明"</span>);</span></div><div class="line"><span class="javascript">	worker.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></div><div class="line"><span class="javascript">		<span class="built_in">console</span>.log(e.message+<span class="string">"   on:"</span>+e.filename+<span class="string">" line:"</span>+e.lineno);</span></div><div class="line"><span class="undefined">		worker.terminate();</span></div><div class="line"><span class="undefined">		&#125;;</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="undefined">doWorker2();</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//work.js</span></div><div class="line">setInterval(returnNowServerConnect,<span class="number">2000</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">returnNowServerConnect</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	postMessage(<span class="string">"当前服务器连接人数:"</span>+<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random(<span class="number">1</span>,<span class="number">1000</span>)*<span class="number">1000</span>));</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//work2.js</span></div><div class="line">alert(<span class="number">1</span>);</div><div class="line">addEventListener(<span class="string">"message"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>)</span>&#123;</div><div class="line">	<span class="keyword">if</span>(evt.data==<span class="string">"小明"</span>)&#123;</div><div class="line">		postMessage(evt.data+<span class="string">"，男，22岁"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(evt.data==<span class="string">"李磊"</span>)&#123;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h2><h3 id="jQuery简介"><a href="#jQuery简介" class="headerlink" title="jQuery简介"></a>jQuery简介</h3></li>
<li><p>jQuery是一个工具，一个比原生JavaScript更加高效的工具</p>
</li>
<li>jQuery是使用JavaScript写的</li>
<li>尺寸小、使用简单方便、屏蔽浏览器差异、跨浏览器兼容性好</li>
<li>插件丰富、开源、免费</li>
<li>优雅的代码</li>
<li>快速实现动画</li>
<li>更好的选择器</li>
</ul>
<h3 id="更好的选择器"><a href="#更好的选择器" class="headerlink" title="更好的选择器"></a>更好的选择器</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//JavaScript</span></div><div class="line">getElementById(xxx)</div><div class="line">getElementsByClassName(xxx)</div><div class="line"></div><div class="line"><span class="comment">//jQuery</span></div><div class="line">$(#xxx)</div><div class="line">$(.xxx)</div></pre></td></tr></table></figure>
<h3 id="更好的DOM操作"><a href="#更好的DOM操作" class="headerlink" title="更好的DOM操作"></a>更好的DOM操作</h3>   <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//JavaScript</span></div><div class="line">getElementById(xxx).style.color=<span class="string">"#ccc"</span></div><div class="line"></div><div class="line"><span class="comment">//jQuery</span></div><div class="line">$(#xxx).css(color:#ccc)</div></pre></td></tr></table></figure>
<h3 id="更好的事件处理方法"><a href="#更好的事件处理方法" class="headerlink" title="更好的事件处理方法"></a>更好的事件处理方法</h3>   <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//JavaScript</span></div><div class="line">getElementById(xxx).onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="comment">//jQuery</span></div><div class="line">$(#xxx).on("click",function()&#123;&#125;)</div></pre></td></tr></table></figure>
<h3 id="更好的Ajax"><a href="#更好的Ajax" class="headerlink" title="更好的Ajax"></a>更好的Ajax</h3>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<h3 id="安装使用"><a href="#安装使用" class="headerlink" title="安装使用"></a>安装使用</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script src=<span class="string">"jquery.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<p>   <strong>版本：</strong></p>
<p>   <code>1.x</code>  —— 支持IE6/7/8</p>
<p>   <code>2.x</code>  ——  支持IE9+</p>
<p>   <code>3.x</code>  —— 支持IE9+</p>
<h3 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).action()</div></pre></td></tr></table></figure>
<ul>
<li>美元符号<code>$</code>定义jQuery</li>
<li>选择符<code>(selector)</code>“查询“ 和 ”查找“ HTML元素</li>
<li><code>action()</code>执行对元素的操作</li>
</ul>
<h2 id="jQuery选择器、事件"><a href="#jQuery选择器、事件" class="headerlink" title="jQuery选择器、事件"></a>jQuery选择器、事件</h2><h3 id="id选择器"><a href="#id选择器" class="headerlink" title="id选择器"></a>id选择器</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#test"</span>)</div></pre></td></tr></table></figure>
<h3 id="class选择器"><a href="#class选择器" class="headerlink" title="class选择器"></a>class选择器</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">".test"</span>)</div></pre></td></tr></table></figure>
<h3 id="标签选择器"><a href="#标签选择器" class="headerlink" title="标签选择器"></a>标签选择器</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"div"</span>)</div></pre></td></tr></table></figure>
<h3 id="全部选择器"><a href="#全部选择器" class="headerlink" title="全部选择器"></a>全部选择器</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"*"</span>)</div></pre></td></tr></table></figure>
<p>   选择页面中所有元素</p>
<h3 id="层叠选择器"><a href="#层叠选择器" class="headerlink" title="层叠选择器"></a>层叠选择器</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"div span"</span>)</div><div class="line">$(<span class="string">"form &gt; input"</span>)</div></pre></td></tr></table></figure>
<ul>
<li>选择<code>div</code>中的所有<code>span</code>元素</li>
<li><p>选择<code>form</code>中的所有<code>input</code>元素，只包括第一层</p>
<h3 id="常用事件"><a href="#常用事件" class="headerlink" title="常用事件"></a>常用事件</h3><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fkozg7pbvpj30w10bmgpv.jpg" alt=""></p>
</li>
</ul>
<ul>
<li><code>mouseenter</code> —— <code>mouseover</code></li>
<li><code>mouseleave</code>—— <code>mouseout</code></li>
</ul>
<h3 id="事件的绑定"><a href="#事件的绑定" class="headerlink" title="事件的绑定"></a>事件的绑定</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">.bind</div><div class="line">$(xxx).bind(type[,data],fn)</div><div class="line"></div><div class="line">.on</div><div class="line">$(xxx).on(events[,selector][,data],handler)</div></pre></td></tr></table></figure>
   <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>事件的绑定与解除<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined">    div &#123;</span></div><div class="line"><span class="undefined">        width: 300px;</span></div><div class="line"><span class="undefined">        height: 200px;</span></div><div class="line"><span class="css">        <span class="selector-tag">background</span>: <span class="selector-id">#CCCCCC</span>;</span></div><div class="line"><span class="undefined">    &#125;</span></div><div class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"点击绑定按钮事件"</span> <span class="attr">id</span>=<span class="string">"dobind"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"点击解除按钮事件"</span> <span class="attr">id</span>=<span class="string">"unbind"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">    $(<span class="string">"#dobind"</span>).on(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></div><div class="line"><span class="javascript">        $(<span class="string">"div"</span>).on(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></div><div class="line"><span class="javascript">            alert(<span class="string">"hello"</span>);</span></div><div class="line"><span class="undefined">        &#125;);</span></div><div class="line"><span class="undefined">    &#125;);</span></div><div class="line"><span class="javascript">    $(<span class="string">"#unbind"</span>).on(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></div><div class="line"><span class="javascript">        $(<span class="string">"div"</span>).off(<span class="string">"click"</span>);</span></div><div class="line"><span class="undefined">    &#125;);</span></div><div class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="事件的解除"><a href="#事件的解除" class="headerlink" title="事件的解除"></a>事件的解除</h3>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">.unbind</div><div class="line">$(xxx).unbind(type[,data],fn)</div><div class="line"></div><div class="line">.off</div><div class="line">$(xxx).off([events[,selector][,handler]])</div></pre></td></tr></table></figure>
<h3 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h3><p>   在一个对象上触发某类事件（比如单击onclick事件），如果此对象定义了此事件的处理程序，那么此事件就会调用这个处理程序，如果没有定义此事件处理程序或者事件返回true，那么这个事件会向这个对象的父级对象传播，从里到外，直至它被处理（父级对象所有同类事件都将被激活），或者它到达了对象层次的最顶层，即document对象（有些浏览器是window）</p>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=utf-8"</span> /&gt;</div><div class="line">&lt;title&gt;冒泡和阻止冒泡&lt;<span class="regexp">/title&gt;</span></div><div class="line"><span class="regexp">&lt;script src="jquery.js"&gt;&lt;/</span>script&gt;</div><div class="line">&lt;<span class="regexp">/head&gt;</span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">&lt;body&gt;</span></div><div class="line"><span class="regexp">    &lt;div id="out"&gt;</span></div><div class="line"><span class="regexp">        &lt;div id="middle"&gt;</span></div><div class="line"><span class="regexp">        	&lt;a href="#"&gt;测试&lt;/</span>a&gt;</div><div class="line">        &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">    &lt;/</span>div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">$(<span class="string">"#out"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">"out"</span>);&#125;);</div><div class="line">$(<span class="string">"#middle"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">"middle"</span>);&#125;);</div><div class="line">$(<span class="string">"a"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"a"</span>);</div><div class="line">	<span class="comment">//event.stopPropagation();		//阻止冒泡,但不阻止a标签的默认行为</span></div><div class="line">	<span class="comment">//return false;					//阻止a标签跳转的默认行为</span></div><div class="line">	<span class="comment">//event.preventDefault();			//只阻止默认行为，不阻止冒泡</span></div><div class="line">	<span class="comment">//event.stopImmediatePropagation();	//阻止所有事件，包括平级的</span></div><div class="line">	&#125;);</div><div class="line">$(<span class="string">"a"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"b"</span>);</div><div class="line">	&#125;);</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>body&gt;</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; a</span></div><div class="line"><span class="comment">// ==&gt; b</span></div><div class="line"><span class="comment">// ==&gt; middle</span></div><div class="line"><span class="comment">// ==&gt; out</span></div></pre></td></tr></table></figure>
<h3 id="自定义事件"><a href="#自定义事件" class="headerlink" title="自定义事件"></a>自定义事件</h3><ul>
<li><code>on</code> —— 绑定事件</li>
<li><p><code>trigge</code> —— 触发事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=utf-8"</span> /&gt;</div><div class="line">&lt;title&gt;自定义事件&lt;<span class="regexp">/title&gt;</span></div><div class="line"><span class="regexp">&lt;script src="jquery.js"&gt;&lt;/</span>script&gt;</div><div class="line">&lt;<span class="regexp">/head&gt;</span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">&lt;body&gt;</span></div><div class="line"><span class="regexp">    &lt;input type="button" id="myipt" value="开门"&gt;</span></div><div class="line"><span class="regexp">    &lt;p id="doorState"&gt;&lt;/</span>p&gt;</div><div class="line">    &lt;p id=<span class="string">"tempState"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></div><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> myipt=$(<span class="string">"#myipt"</span>);</div><div class="line">myipt.on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">if</span>(<span class="keyword">this</span>.value==<span class="string">"开门"</span>)&#123;</div><div class="line">		doorState.trigger(<span class="string">"openTheDoor"</span>);</div><div class="line">		tempState.trigger(<span class="string">"openTheDoor"</span>);</div><div class="line">		<span class="keyword">this</span>.value=<span class="string">"关门"</span>;</div><div class="line">		&#125;</div><div class="line">	<span class="keyword">else</span>&#123;</div><div class="line">		doorState.trigger(<span class="string">"closeTheDoor"</span>);</div><div class="line">		tempState.trigger(<span class="string">"closeTheDoor"</span>);</div><div class="line">		<span class="keyword">this</span>.value=<span class="string">"开门"</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line"><span class="keyword">var</span> doorState=$(<span class="string">"#doorState"</span>);</div><div class="line">doorState.on(<span class="string">"openTheDoor"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	$(<span class="keyword">this</span>).html(<span class="string">"门是开着的"</span>);</div><div class="line">	&#125;);</div><div class="line">doorState.on(<span class="string">"closeTheDoor"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	$(<span class="keyword">this</span>).html(<span class="string">"门是关着的"</span>);</div><div class="line">	&#125;);</div><div class="line"><span class="keyword">var</span> tempState=$(<span class="string">"#tempState"</span>);</div><div class="line">tempState.on(&#123;</div><div class="line">	openTheDoor:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		$(<span class="keyword">this</span>).html(<span class="string">"现在温度-1°"</span>);</div><div class="line">		&#125;,</div><div class="line">	closeTheDoor:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		$(<span class="keyword">this</span>).html(<span class="string">"现在温度3°"</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line"></div><div class="line"></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>body&gt;</div></pre></td></tr></table></figure>
<h2 id="jQuery效果"><a href="#jQuery效果" class="headerlink" title="jQuery效果"></a>jQuery效果</h2><h3 id="显示与隐藏"><a href="#显示与隐藏" class="headerlink" title="显示与隐藏"></a>显示与隐藏</h3><p>可设置速度和回调方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(selector).show(speed,callback)</div><div class="line">$(selector).hide(speed,callback)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery特效 - hide<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"hide"</span>&gt;</span></div><div class="line">    点击我消失hide()</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"点击显示消失的元素"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"hide2"</span>&gt;</span></div><div class="line">    点击我慢慢消失hide("slow",function()&#123;alert("我是回调")&#125;);&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"hide3"</span>&gt;</span></div><div class="line">    点击我快速消失hide("fast")</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"hide4"</span>&gt;</span></div><div class="line">    点击我10秒后消失hide(10000)</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">$(<span class="string">"#hide"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="keyword">this</span>).hide();&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"#hide2"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="keyword">this</span>).hide(<span class="string">"slow"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="string">"我是回调"</span>)&#125;);&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"#hide3"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="keyword">this</span>).hide(<span class="string">"fast"</span>);&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"#hide4"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="keyword">this</span>).hide(<span class="number">10000</span>);&#125;);</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">$(<span class="string">"input"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="string">"#hide"</span>).show();&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="滑动"><a href="#滑动" class="headerlink" title="滑动"></a>滑动</h3><p>设置滑动显示、滑动隐藏、滑动隐藏显示状态切换，可设置速度和回调方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(selector).slideDown(speed,callback)</div><div class="line">$(selector).slideUp(speed,callback)</div><div class="line">$(selector).slideToggle(speed,callback)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery特效 - slideToggle<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">    点击我消失slideUp()</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"点击显示消失的元素slideDown()"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">    下面的按钮一点击，我就会慢慢消失。<span class="tag">&lt;<span class="name">br</span>/&gt;</span>再点击一次还会回来的<span class="tag">&lt;<span class="name">br</span>/&gt;</span>slideToggle("slow",function()&#123;alert("我是回调")&#125;);&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"点击切换状态"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">    点击我快速消失slideUp("fast")</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test4"</span>&gt;</span></div><div class="line">    点击我10秒后消失slideUp(10000)</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">$(<span class="string">"#test1"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="keyword">this</span>).slideUp();&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"#test3"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="keyword">this</span>).slideUp(<span class="string">"fast"</span>);&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"#test4"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="keyword">this</span>).slideUp(<span class="number">10000</span>);&#125;);</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">$(<span class="string">"input:nth-child(2)"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="string">"#test1"</span>).slideDown();&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"input:nth-child(4)"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="string">"#test2"</span>).slideToggle(<span class="string">"slow"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="string">"我是回调"</span>)&#125;);&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="淡入淡出"><a href="#淡入淡出" class="headerlink" title="淡入淡出"></a>淡入淡出</h3><p>设置淡入、淡出、到指定的透明度，可设置速度、（透明度）、和回调方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(selector).fadeIn(speed,callback)</div><div class="line">$(selector).fadeOut(speed,callback)</div><div class="line">$(selector).fadeTo(speed,opacity,callback)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery特效 - fade<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">    被操作的元素</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"淡入"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"淡出"</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">    点击设置透明度到30%</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">$(<span class="string">"input:nth-child(2)"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="string">"#test1"</span>).fadeIn();&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"input:nth-child(3)"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="string">"#test1"</span>).fadeOut();&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"#test2"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;$(<span class="keyword">this</span>).fadeTo(<span class="number">2000</span>,<span class="number">0.3</span>)&#125;)</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="自定义动画"><a href="#自定义动画" class="headerlink" title="自定义动画"></a>自定义动画</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).animate(&#123;params&#125;,[duration],[easing],[callback])</div></pre></td></tr></table></figure>
<ul>
<li><code>params</code> ——动画参数，比如<code>{width:&quot;300px&quot;,opacity:0.3}</code></li>
<li><code>duration</code> —— 持续时间，比如<code>&quot;slow&quot; &quot;fase&quot; &quot;normal&quot;</code>或毫秒</li>
<li><code>easing</code> —— 动画的执行方式，比如 <code>&quot;liner&quot; &quot;swing&quot;</code></li>
<li><code>`callback</code> —— 回调方法</li>
</ul>
<figure class="highlight html"><figcaption><span>javascript</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery特效 - animation<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">    点击运行动画</div><div class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line">    animate(</div><div class="line">    	&#123;width:"400px",opacity:0.3,height:"400px"&#125;,3000</div><div class="line">        )</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">$(<span class="string">"#test1"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="keyword">this</span>).animate(&#123;<span class="attr">width</span>:<span class="string">"400px"</span>,<span class="attr">opacity</span>:<span class="number">0.3</span>,<span class="attr">height</span>:<span class="string">"400px"</span>&#125;,<span class="number">3000</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="string">"callback"</span>)&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="jQuery属性操作"><a href="#jQuery属性操作" class="headerlink" title="jQuery属性操作"></a>jQuery属性操作</h2><h3 id="添加、删除元素"><a href="#添加、删除元素" class="headerlink" title="添加、删除元素"></a>添加、删除元素</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//添加元素</div><div class="line">$(selector).addClass(class)</div><div class="line">//删除元素</div><div class="line">$(selector).removeClass(class)</div><div class="line">//添加或删除元素，switch为布尔值，用来确定是否添加class</div><div class="line">$(selector).toggleClass(class)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery属性操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.green</span>&#123; <span class="attribute">background</span>:green;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>绿色<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>还原<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>检查<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.addClass(<span class="string">"green"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>).get(<span class="number">1</span>)).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.removeClass(<span class="string">"green"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"button"</span>).eq(<span class="number">2</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.toggleClass(<span class="string">"green"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"button"</span>).eq(<span class="number">3</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	alert(test1.hasClass(<span class="string">"green"</span>));</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="判断元素是否有指定的class"><a href="#判断元素是否有指定的class" class="headerlink" title="判断元素是否有指定的class"></a>判断元素是否有指定的class</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).hasClass(class)</div></pre></td></tr></table></figure>
<h3 id="获取或设置元素内容"><a href="#获取或设置元素内容" class="headerlink" title="获取或设置元素内容"></a>获取或设置元素内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).html()</div></pre></td></tr></table></figure>
<p>相当于<code>innerHTML</code></p>
<h3 id="获取或设置元素值"><a href="#获取或设置元素值" class="headerlink" title="获取或设置元素值"></a>获取或设置元素值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).val()</div></pre></td></tr></table></figure>
<p>相当于<code>value</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery属性操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.green</span>&#123; <span class="attribute">background</span>:green;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">   这是test1的内容</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>获取test1的内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>设置input的内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"ipt"</span> <span class="attr">value</span>=<span class="string">"极客学院"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>获取input的内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>获取input的值<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>设置input的值<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(test1.html());</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.html(<span class="string">"这是设置过后的内容"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript"><span class="keyword">var</span> ipt=$(<span class="string">"#ipt"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(ipt.html());</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">3</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(ipt.val());</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">4</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	ipt.val(<span class="string">"让学习更有效"</span>);</span></div><div class="line"><span class="undefined">	&#125;);			</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="attr"><a href="#attr" class="headerlink" title="attr"></a><code>attr</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//获取元素属性的值</span></div><div class="line">$(selector).attr(attribute)</div><div class="line"><span class="comment">//设置(添加)圆度的属性和值</span></div><div class="line">$(selector).attr(attribute,value)</div><div class="line"><span class="comment">//删除元素属性及值</span></div><div class="line">$(selector).removeAttr(attribute)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery属性操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.green</span>&#123; <span class="attribute">background</span>:green;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span> <span class="attr">uid</span>=<span class="string">"35"</span>&gt;</span></div><div class="line">   我是是test1，我的默认uid是35</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>获取test1的uid<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>设置input的uid<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>移除uid属性<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"ipt"</span> <span class="attr">value</span>=<span class="string">"极客学院"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>获取input的值<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>设置input的值<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(test1.attr(<span class="string">"uid"</span>));</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.attr(<span class="string">"uid"</span>,<span class="string">"40"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.removeAttr(<span class="string">"uid"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript"><span class="keyword">var</span> ipt=$(<span class="string">"#ipt"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">3</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(ipt.attr(<span class="string">"value"</span>));</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">4</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	ipt.attr(<span class="string">"value"</span>,<span class="string">"让学习更有效"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="jQuery文档操作"><a href="#jQuery文档操作" class="headerlink" title="jQuery文档操作"></a>jQuery文档操作</h2><h3 id="after和before插入指定的内容"><a href="#after和before插入指定的内容" class="headerlink" title="after和before插入指定的内容"></a>after和before插入指定的内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//在被选元素后插入指定的内容</div><div class="line">$(selector).after(content)</div><div class="line">//在被选元素前插入指定的内容</div><div class="line">$(selector).before(content)</div><div class="line">//在被选元素前插入指定的内容</div><div class="line">$(selector).before(function(index))</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery文档操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.green</span>&#123; <span class="attribute">background</span>:green;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">   这是test1的内容</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用after插入内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用before插入内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>ABC<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>DEF<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用before的第二种方法插入内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="xml">	test1.after("<span class="tag">&lt;<span class="name">p</span>&gt;</span>这是after新插入的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span>");</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="xml">	test1.before("<span class="tag">&lt;<span class="name">p</span>&gt;</span>这是before新插入的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span>");</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"span"</span>).before(</span></div><div class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span></div><div class="line"><span class="javascript">			<span class="keyword">return</span> <span class="string">"&lt;p&gt;这是before新插入的内容"</span>+i+<span class="string">"&lt;/p&gt;"</span></span></div><div class="line"><span class="undefined">		&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="insertAfter和insertBefore插入指定的内容"><a href="#insertAfter和insertBefore插入指定的内容" class="headerlink" title="insertAfter和insertBefore插入指定的内容"></a>insertAfter和insertBefore插入指定的内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(content).insertBefore(selector)</div><div class="line">$(content).insertAfter(selector)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery文档操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">min-height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.green</span>&#123; <span class="attribute">background</span>:green;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">   这是test1的内容</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用insertAfter插入内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用insertBefore插入内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"&lt;p&gt;这是insertAfter新插入的内容&lt;/p&gt;"</span>).insertAfter(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"&lt;p&gt;这是insertBefore新插入的内容&lt;/p&gt;"</span>).insertBefore(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="append"><a href="#append" class="headerlink" title="append"></a><code>append</code></h3><p>在被选元素结尾(元素内)插入指定的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$(selector).append(content)</div><div class="line"></div><div class="line">//如果content是页面内的元素，则会删除原有元素</div><div class="line">$(content).appendTo(selector)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery文档操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">min-height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.green</span>&#123; <span class="attribute">background</span>:green;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">   这是test1的内容</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用append 插入内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用appendTo插入内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用appendTo插入内容2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">	这是test2的内容</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="xml">	test1.append("<span class="tag">&lt;<span class="name">p</span>&gt;</span>这是append新插入的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span>");</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.appendTo(<span class="string">"nav"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"&lt;p&gt;这是append新插入的内容&lt;/p&gt;"</span>).appendTo(<span class="string">"#test2"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="prepend"><a href="#prepend" class="headerlink" title="prepend"></a><code>prepend</code></h3><p>在被选元素开头(元素内)插入指定的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$(selector).prepend(content)</div><div class="line"></div><div class="line">//如果content是页面内的元素，则会删除原有元素</div><div class="line">$(content).prependTo(selector)</div></pre></td></tr></table></figure>
<h3 id="clone-detach-empty"><a href="#clone-detach-empty" class="headerlink" title="clone/detach/empty"></a><code>clone</code>/<code>detach</code>/<code>empty</code></h3><p>复制被选元素，包含它的子节点、文本和属性</p>
<p><code>includeEvents</code>为可选项，布尔值，用于设定是否肤质元素的绑定事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).clone(includeEvents)</div></pre></td></tr></table></figure>
<p>移除被选元素，包含它的子节点、文本和属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).detach()</div></pre></td></tr></table></figure>
<p>清空被选元素的子节点、文本和属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).empty()</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery文档操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">min-height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.green</span>&#123; <span class="attribute">background</span>:green;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">   这是test1的内容</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"clone1"</span>&gt;</span>被克隆的对象1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"clone2"</span>&gt;</span>被克隆的对象2，点击我试试<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用clone插入内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用clone插入内容2,并复制其绑定事件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>detach移除clone1对象<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>detach移除clone2对象<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>empty清空test1的内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.prepend($(<span class="string">".clone1"</span>).clone());</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.before($(<span class="string">"#clone2"</span>).clone(<span class="literal">true</span>));</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$(<span class="string">"#clone2"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;alert(<span class="string">"hello"</span>)&#125;);</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">".clone1"</span>).detach();</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">3</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"#clone2"</span>).detach();</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">4</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"#test1"</span>).empty();</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="wrap"><a href="#wrap" class="headerlink" title="wrap"></a><code>wrap</code></h3><p>将被选元素用<code>wrapper</code>内的参数进行包裹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).wrap(wrapper)</div></pre></td></tr></table></figure>
<p><code>wrapper</code>的三种格式</p>
<ol>
<li>`(“<div></div>“)``</li>
<li><code>`document.creatElement(&quot;div&quot;)</code></li>
<li><code>$(&quot;#test1&quot;)</code></li>
</ol>
<p>使用已经存在的元素包裹不会删除原来的元素</p>
<p><strong>移除被选元素的父元素</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector)upwrap()</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery文档操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">min-height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.green</span>&#123; <span class="attribute">background</span>:green;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-id">#test1</span>&#123; <span class="attribute">background</span>:<span class="number">#C39738</span>;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">   这是test1的内容</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span1"</span>&gt;</span>被包裹的元素span1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用wrap包裹span1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span2"</span>&gt;</span>被包裹的元素span2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用wrap包裹span2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span3"</span>&gt;</span>被包裹的元素span3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用wrap包裹span3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用unwrap移除span3的父元素<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">".span1"</span>).wrap(<span class="string">"&lt;div&gt;&lt;/div&gt;"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">".span2"</span>).wrap(<span class="built_in">document</span>.createElement(<span class="string">"div"</span>));</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">".span3"</span>).wrap($(<span class="string">"#test1"</span>));</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">3</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">".span3"</span>).unwrap();</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="wrapAll和wrapInner"><a href="#wrapAll和wrapInner" class="headerlink" title="wrapAll和wrapInner"></a><code>wrapAll</code>和<code>wrapInner</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).wrapAll(wrapper)</div></pre></td></tr></table></figure>
<p>被选元素移动到第一个元素的位置，并用wrapper内的参数进行包裹</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery文档操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">min-height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.green</span>&#123; <span class="attribute">background</span>:green;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-id">#test1</span>&#123; <span class="attribute">background</span>:<span class="number">#C39738</span>;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span1"</span>&gt;</span>被包裹的元素span1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>这是一个捣乱的a标签<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span2"</span>&gt;</span>被包裹的元素span2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"span3"</span>&gt;</span>被包裹的元素span3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用wrapAll包裹所有span元素<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"span"</span>).wrapAll(<span class="string">"&lt;div&gt;&lt;/div&gt;"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).wrapInner(wrapper)</div></pre></td></tr></table></figure>
<p>将被选元素内的元素用wrapper内的参数进行包裹</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery文档操作<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">300px</span>; <span class="attribute">min-height</span>:<span class="number">80px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.green</span>&#123; <span class="attribute">background</span>:green;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-id">#test1</span>&#123; <span class="attribute">background</span>:<span class="number">#C39738</span>;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>第一行<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>第二行<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用wrapInner包裹所有p元素<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"p"</span>).wrapInner(<span class="string">"&lt;b&gt;&lt;/b&gt;"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="jQuery遍历"><a href="#jQuery遍历" class="headerlink" title="jQuery遍历"></a>jQuery遍历</h2><h3 id="向下遍历"><a href="#向下遍历" class="headerlink" title="向下遍历"></a>向下遍历</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).children()</div></pre></td></tr></table></figure>
<p>获取子元素，但是只获取到第一层</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).find(selector)</div></pre></td></tr></table></figure>
<p>查找子元素，并返回元素集合，可获取所有层级子元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).eq(index)</div></pre></td></tr></table></figure>
<p>获取子元素，可获取所有层级子元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).contents()</div></pre></td></tr></table></figure>
<p>获取子元素，包括文本和注释节点</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery遍历 向下遍历<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">400px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center; <span class="attribute">display</span>:-webkit-box; <span class="attribute">-webkit-box-align</span>:center; <span class="attribute">-webkit-box-pack</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-id">#test1</span>&#123; <span class="attribute">width</span>:<span class="number">600px</span>; <span class="attribute">height</span>:<span class="number">150px</span>; <span class="attribute">background</span>:<span class="number">#E52225</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test2</span>&#123; <span class="attribute">width</span>:<span class="number">200px</span>; <span class="attribute">height</span>:<span class="number">100px</span>; <span class="attribute">background</span>:<span class="number">#E0D42A</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test3</span>&#123; <span class="attribute">width</span>:<span class="number">150px</span>; <span class="attribute">height</span>:<span class="number">50px</span>;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">    	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line"></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!--这是一行注释--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">    	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line"></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    我是test1</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用children设置子元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用find设置子元素为div的边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用find设置子元素class为test3的边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用eq设置子元素2的边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用contents获取注释内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用contents设置子元素5的边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.children().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.find(<span class="string">"div"</span>).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.find(<span class="string">".test3"</span>).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">3</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"#test1 div"</span>).eq(<span class="number">2</span>).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">4</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	<span class="built_in">console</span>.log(test1.contents()[<span class="number">3</span>]);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">5</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(test1.contents()[<span class="number">5</span>]).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);;</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="向上遍历"><a href="#向上遍历" class="headerlink" title="向上遍历"></a>向上遍历</h3><p>获取上一层父元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).parent(selector)</div></pre></td></tr></table></figure>
<p>获取所有父元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).parents(selector)</div></pre></td></tr></table></figure>
<p>获取所有父元素直到selector结束，filter为获取条件，非必填</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).parentsUntil(selector,filter)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery遍历 向上遍历<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">400px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center; <span class="attribute">display</span>:-webkit-box; <span class="attribute">-webkit-box-align</span>:center; <span class="attribute">-webkit-box-pack</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test</span>&#123; <span class="attribute">width</span>:<span class="number">800px</span>; <span class="attribute">height</span>:<span class="number">300px</span>; <span class="attribute">background</span>:<span class="number">#A6ED04</span>;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test1</span>&#123; <span class="attribute">width</span>:<span class="number">600px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#E52225</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test2</span>&#123; <span class="attribute">width</span>:<span class="number">200px</span>; <span class="attribute">height</span>:<span class="number">150px</span>; <span class="attribute">background</span>:<span class="number">#E0D42A</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test3</span>&#123; <span class="attribute">width</span>:<span class="number">150px</span>; <span class="attribute">height</span>:<span class="number">50px</span>;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!--这是一行注释--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">                我是id:test1</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        我是class:test1</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用parent设置父元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用parents设置父元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用parentsUntil设置父元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用parentsUntil设置父元素边框直到class为test1结束<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用parentsUntil设置父元素为div的边框直到class为test结束<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.parent().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.parents().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.parentsUntil().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">3</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.parentsUntil($(<span class="string">".test1"</span>)).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">4</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.parentsUntil($(<span class="string">".test"</span>),<span class="string">"div"</span>).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="同级遍历next"><a href="#同级遍历next" class="headerlink" title="同级遍历next"></a>同级遍历next</h3><p>获取下一个同级元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).next(selector)</div></pre></td></tr></table></figure>
<p>获取后面所有同级元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).nextAll(selector)</div></pre></td></tr></table></figure>
<p>获取后面所有同级元素直到selector结束，filter为或许条件，非必填</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).nextsUntil(selector,filter)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery遍历 同级遍历<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">400px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center; <span class="attribute">display</span>:-webkit-box; <span class="attribute">-webkit-box-align</span>:center; <span class="attribute">-webkit-box-pack</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test</span>&#123; <span class="attribute">width</span>:<span class="number">1000px</span>; <span class="attribute">height</span>:<span class="number">300px</span>; <span class="attribute">background</span>:<span class="number">#A6ED04</span>;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test1</span>&#123; <span class="attribute">width</span>:<span class="number">950px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#E52225</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-id">#test1</span>&#123;<span class="attribute">width</span>:<span class="number">300px</span>;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test2</span>&#123; <span class="attribute">width</span>:<span class="number">200px</span>; <span class="attribute">height</span>:<span class="number">150px</span>; <span class="attribute">background</span>:<span class="number">#E0D42A</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test3</span>&#123; <span class="attribute">width</span>:<span class="number">150px</span>; <span class="attribute">height</span>:<span class="number">50px</span>;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是id：test1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!--这是一行注释--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span> <span class="attr">id</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        我是class:test1</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用next设置下一个元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用nextAll设置后面所有元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用nextUntil设置后面所有元素边框直到id为test2结束<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.next().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.nextAll().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.nextUntil($(<span class="string">"#test2"</span>)).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="同级遍历prev"><a href="#同级遍历prev" class="headerlink" title="同级遍历prev"></a>同级遍历prev</h3><p>获取上一个同级元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).prev(selector)</div></pre></td></tr></table></figure>
<p>获取前面所有同级元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).prevAll(selector)</div></pre></td></tr></table></figure>
<p>获取前面所有同级元素直到selector结束，filter为或许条件，非必填</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).prevUntil(selector,filter)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery遍历 同级遍历<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">400px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center; <span class="attribute">display</span>:-webkit-box; <span class="attribute">-webkit-box-align</span>:center; <span class="attribute">-webkit-box-pack</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test</span>&#123; <span class="attribute">width</span>:<span class="number">1000px</span>; <span class="attribute">height</span>:<span class="number">300px</span>; <span class="attribute">background</span>:<span class="number">#A6ED04</span>;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test1</span>&#123; <span class="attribute">width</span>:<span class="number">950px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#E52225</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-id">#test1</span>&#123;<span class="attribute">width</span>:<span class="number">300px</span>;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test2</span>&#123; <span class="attribute">width</span>:<span class="number">200px</span>; <span class="attribute">height</span>:<span class="number">150px</span>; <span class="attribute">background</span>:<span class="number">#E0D42A</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test3</span>&#123; <span class="attribute">width</span>:<span class="number">150px</span>; <span class="attribute">height</span>:<span class="number">50px</span>;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span> <span class="attr">id</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!--这是一行注释--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是id：test1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        我是class:test1</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用prev设置上一个元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用prevAll设置后面所有元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用prevUntil设置后面所有元素边框直到id为test2结束<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.prev().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.prevAll().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.prevUntil($(<span class="string">"#test2"</span>)).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="同级遍历siblings"><a href="#同级遍历siblings" class="headerlink" title="同级遍历siblings"></a>同级遍历siblings</h3><p>获取同级的其他元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).siblings(selector)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery遍历 同级遍历<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">400px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center; <span class="attribute">display</span>:-webkit-box; <span class="attribute">-webkit-box-align</span>:center; <span class="attribute">-webkit-box-pack</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test</span>&#123; <span class="attribute">width</span>:<span class="number">1000px</span>; <span class="attribute">height</span>:<span class="number">300px</span>; <span class="attribute">background</span>:<span class="number">#A6ED04</span>;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test1</span>&#123; <span class="attribute">width</span>:<span class="number">950px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#E52225</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-id">#test1</span>&#123;<span class="attribute">width</span>:<span class="number">300px</span>;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test2</span>&#123; <span class="attribute">width</span>:<span class="number">200px</span>; <span class="attribute">height</span>:<span class="number">150px</span>; <span class="attribute">background</span>:<span class="number">#E0D42A</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test3</span>&#123; <span class="attribute">width</span>:<span class="number">150px</span>; <span class="attribute">height</span>:<span class="number">50px</span>;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span> <span class="attr">id</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!--这是一行注释--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是id：test1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        我是class:test1</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用siblings设置同级元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用siblings设置同级id为test2的元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="keyword">var</span> test1=$(<span class="string">"#test1"</span>);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.siblings().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	test1.siblings(<span class="string">"#test2"</span>).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="过滤"><a href="#过滤" class="headerlink" title="过滤"></a>过滤</h3><p>获取被选中的首个元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).first()</div></pre></td></tr></table></figure>
<p>获取被选中的最后一个元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).last()</div></pre></td></tr></table></figure>
<p>获取被选中的元素中排除第二个selector设置的元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).not(selector)</div></pre></td></tr></table></figure>
<p>获取被选中的元素中保留第二个selector设置的元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(selector).filter(selector)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Jquery遍历 过滤<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>:<span class="number">400px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#CCCCCC</span>; <span class="attribute">margin</span>:<span class="number">20px</span>; <span class="attribute">text-align</span>:center; <span class="attribute">display</span>:-webkit-box; <span class="attribute">-webkit-box-align</span>:center; <span class="attribute">-webkit-box-pack</span>:center;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test</span>&#123; <span class="attribute">width</span>:<span class="number">1000px</span>; <span class="attribute">height</span>:<span class="number">300px</span>; <span class="attribute">background</span>:<span class="number">#A6ED04</span>;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test1</span>&#123; <span class="attribute">width</span>:<span class="number">950px</span>; <span class="attribute">height</span>:<span class="number">200px</span>; <span class="attribute">background</span>:<span class="number">#E52225</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-id">#test1</span>&#123;<span class="attribute">width</span>:<span class="number">300px</span>;&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test2</span>&#123; <span class="attribute">width</span>:<span class="number">200px</span>; <span class="attribute">height</span>:<span class="number">150px</span>; <span class="attribute">background</span>:<span class="number">#E0D42A</span>&#125;</span></div><div class="line"><span class="css"><span class="selector-tag">div</span><span class="selector-class">.test3</span>&#123; <span class="attribute">width</span>:<span class="number">150px</span>; <span class="attribute">height</span>:<span class="number">50px</span>;&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span> <span class="attr">id</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!--这是一行注释--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test2"</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test3"</span>&gt;</span></div><div class="line">                我是test3</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是id：test1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        我是class:test1</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用first设置第一个元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用last设置最后一个元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用not设置class不等于test2的元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>使用filter设置class等于test2的元素边框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">0</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"div"</span>).first().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">1</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"div"</span>).last().css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">2</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"div"</span>).not(<span class="string">".test2"</span>).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">$($(<span class="string">"button"</span>)[<span class="number">3</span>]).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">	$(<span class="string">"div"</span>).filter(<span class="string">".test2"</span>).css(&#123;<span class="attr">border</span>:<span class="string">"3px solid green"</span>&#125;);</span></div><div class="line"><span class="undefined">	&#125;);		</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/19/CSS3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Katherine Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时间的朋友">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/19/CSS3/" itemprop="url">CSS3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-19T14:57:58+08:00">
                2017-10-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/19/CSS3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/19/CSS3/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="CSS3选择器"><a href="#CSS3选择器" class="headerlink" title="CSS3选择器"></a>CSS3选择器</h1><h2 id="CSS3属性选择器"><a href="#CSS3属性选择器" class="headerlink" title="CSS3属性选择器"></a>CSS3属性选择器</h2><p>使属性选择器有了通配符的概念：</p>
<ul>
<li><p><code>[att*=val]</code></p>
</li>
<li><p><code>[att^=val]</code></p>
</li>
<li><p><code>[att$=val]</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    [id*=div]&#123;</div><div class="line">      color: lime;</div><div class="line">    &#125;</div><div class="line">    /*首字符*/</div><div class="line">    [id^=div]&#123;</div><div class="line">      color: red;</div><div class="line">    &#125;</div><div class="line">    /*结束字符*/</div><div class="line">    [id$=div]&#123;</div><div class="line">      color:blue;</div><div class="line">    &#125;</div><div class="line">    /*数字的写法，但是没有任何显示*/</div><div class="line">    [id$=/3]&#123;</div><div class="line">      color:yellow;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div id=&quot;mydiv1&quot;&gt;示例文本1&lt;/div&gt;</div><div class="line">  &lt;div id=&quot;div2&quot;&gt;示例文本2&lt;/div&gt;</div><div class="line">  &lt;div id=&quot;div3&quot;&gt;示例文本3&lt;/div&gt;</div><div class="line">  &lt;div id=&quot;div4&quot;&gt;示例文本4&lt;/div&gt;</div><div class="line">  &lt;div id=&quot;div&quot;&gt;示例文本5&lt;/div&gt;</div><div class="line">  &lt;div id=&quot;my&quot;&gt;my示例文本&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<p>​</p>
</li>
</ul>
<h2 id="CSS3结构性伪类选择器"><a href="#CSS3结构性伪类选择器" class="headerlink" title="CSS3结构性伪类选择器"></a>CSS3结构性伪类选择器</h2><ul>
<li>伪类选择器</li>
<li><strong>伪元素选择器</strong>:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;style&gt;</div><div class="line">  /*first-line*/</div><div class="line">    p:first-line&#123;</div><div class="line">      color: red;</div><div class="line">    &#125;</div><div class="line">    /*first-letter*/</div><div class="line">    p:first-letter&#123;</div><div class="line">      color:darkblue;</div><div class="line">    &#125;</div><div class="line">    /*before*/</div><div class="line">    li:before&#123;</div><div class="line">      content: &quot;--&quot;;</div><div class="line">    &#125;</div><div class="line">    /*after*/</div><div class="line">    li:after&#123;</div><div class="line">      content: &quot;哈哈&quot;;</div><div class="line">      font-size: 20px;</div><div class="line">      color: red;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;p&gt;这是第一行的内容&lt;br&gt;这里则是第二行的内容&lt;/p&gt;</div><div class="line">  &lt;ul&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表2&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表3&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表4&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表5&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表6&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表7&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="选择器root、not、empty和target"><a href="#选择器root、not、empty和target" class="headerlink" title="选择器root、not、empty和target"></a>选择器root、not、empty和target</h2><p>结构性伪类选择器的共同特征是允许开发者根据文档中的结构来指定元素的样式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    /*root*/</div><div class="line">    :root&#123;</div><div class="line">      background-color: #666;</div><div class="line">    &#125;</div><div class="line">    /*root 与 body的区别*/</div><div class="line">    body&#123;       </div><div class="line">      background-color: #ededed;</div><div class="line">    &#125;</div><div class="line">    /*not*/</div><div class="line">    div *:not(h1)&#123;</div><div class="line">      color: red;</div><div class="line">    &#125;</div><div class="line">    /*empty*/</div><div class="line">    :empty&#123;</div><div class="line">      background-color: blue;</div><div class="line">    &#125;</div><div class="line">    /*target*/</div><div class="line">    :target&#123;</div><div class="line">      background-color: darksalmon;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">  &lt;/style&gt;</div><div class="line"></div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;h2&gt;你好吗？&lt;/h2&gt;</div><div class="line">    &lt;h1&gt;这里是标题&lt;/h1&gt;</div><div class="line">    &lt;p&gt;这里是P标签&lt;/p&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line"></div><div class="line">  &lt;table border=&quot;1&quot;&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;td&gt;内容1&lt;/td&gt;</div><div class="line">      &lt;td&gt;内容2&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;td&gt;内容3&lt;/td&gt;</div><div class="line">      &lt;td&gt;&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;    </div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;td&gt;&lt;/td&gt;</div><div class="line">      &lt;td&gt;内容4&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;       </div><div class="line">  &lt;/table&gt;</div><div class="line">  &lt;br&gt;</div><div class="line">  &lt;a href=&quot;#a1&quot;&gt;菜单1&lt;/a&gt;</div><div class="line">  &lt;a href=&quot;#a2&quot;&gt;菜单2&lt;/a&gt;</div><div class="line">  &lt;a href=&quot;#a31&quot;&gt;菜单3&lt;/a&gt;</div><div class="line">  &lt;a href=&quot;#a4&quot;&gt;菜单4&lt;/a&gt;</div><div class="line"></div><div class="line">  &lt;div id=&quot;a1&quot;&gt;</div><div class="line">    &lt;h1&gt;菜单1&lt;/h1&gt;</div><div class="line">    &lt;p&gt;菜单内容1&lt;/p&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;div id=&quot;a2&quot;&gt;</div><div class="line">    &lt;h1&gt;菜单2&lt;/h1&gt;</div><div class="line">    &lt;p&gt;菜单内容2&lt;/p&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;div id=&quot;a3&quot;&gt;</div><div class="line">    &lt;h1&gt;菜单3&lt;/h1&gt;</div><div class="line">    &lt;p&gt;菜单内容3&lt;/p&gt;</div><div class="line">  &lt;/div&gt;</div></pre></td></tr></table></figure>
<h2 id="子元素选择器"><a href="#子元素选择器" class="headerlink" title="子元素选择器"></a>子元素选择器</h2><p><code>:first-child</code> —— 父元素的首个子元素</p>
<p><code>:last-child</code> —— 父元素的最后一个子元素</p>
<p><code>:nth-child(n)</code> —— 父元素的某个子元素（指定序号的子元素/<code>even</code>偶数/<code>odd</code>奇数）</p>
<p><code>:nth-last-child(n)</code> —— 父元素的倒数某个子元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    li:first-child&#123;</div><div class="line">      background-color: yellow;</div><div class="line">    &#125;</div><div class="line">    li:last-child&#123;</div><div class="line">      background-color: blue;</div><div class="line">    &#125;</div><div class="line">    /*nth-child(position)*/</div><div class="line">    li:nth-child(3)&#123;</div><div class="line">      background-color: grey;</div><div class="line">    &#125;</div><div class="line">    li:nth-last-child(2)&#123;</div><div class="line">      background-color: red;</div><div class="line">    &#125;</div><div class="line">    li:nth-child(odd)&#123;</div><div class="line">      background-color: pink;</div><div class="line">    &#125;</div><div class="line">    li:nth-child(even)&#123;</div><div class="line">      background-color: green;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line"></div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;h2&gt;列表&lt;/h2&gt;</div><div class="line">  &lt;ul&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表2&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表3&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表4&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表5&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表6&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表7&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="特定类型的子元素选择器"><a href="#特定类型的子元素选择器" class="headerlink" title="特定类型的子元素选择器"></a>特定类型的子元素选择器</h2><ul>
<li>避免这类问题的发生。</li>
<li>计算子元素是第奇数个子元素还是第偶数个子元素时，就只针对同类型的子元素进行计算</li>
</ul>
<p><code>:first-of-type</code> —— 父元素下特定类型的首个子元素</p>
<p><code>:last-of-type</code> —— 父元素下特定类型的最后一个子元素</p>
<p><code>:nth-of-type(n)</code> —— 父元素下特定类型的某个子元素</p>
<p><code>:nth-last-of-type(n)</code> —— 父元素下特定类型的倒数某个子元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    /*把父元素和子元素计算在内*/</div><div class="line">    h2:nth-child(odd)&#123;</div><div class="line">      background-color: red;</div><div class="line">    &#125;</div><div class="line">    h2:nth-last-of-type(odd)&#123;</div><div class="line">      background-color: red;</div><div class="line">    &#125;</div><div class="line">    /*只算父元素*/</div><div class="line">    h2:nth-of-type(odd)&#123;</div><div class="line">      background-color: red;</div><div class="line">    &#125;</div><div class="line">    h2:nth-of-type(even)&#123;</div><div class="line">      background-color: red;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">  &lt;/style&gt;</div><div class="line"></div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;h2&gt;文章标题&lt;/h2&gt;</div><div class="line">  &lt;p&gt;文章正文&lt;/p&gt;</div><div class="line">  &lt;h2&gt;文章标题&lt;/h2&gt;</div><div class="line">  &lt;p&gt;文章正文&lt;/p&gt;</div><div class="line">  &lt;h2&gt;文章标题&lt;/h2&gt;</div><div class="line">  &lt;p&gt;文章正文&lt;/p&gt;</div><div class="line">  &lt;h2&gt;文章标题&lt;/h2&gt;</div><div class="line">  &lt;p&gt;文章正文&lt;/p&gt;</div><div class="line">  &lt;h2&gt;文章标题&lt;/h2&gt;</div><div class="line">  &lt;p&gt;文章正文&lt;/p&gt;</div><div class="line">  &lt;h2&gt;文章标题&lt;/h2&gt;</div><div class="line">  &lt;p&gt;文章正文&lt;/p&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">nth-child(n)</div><div class="line">n=αn+β</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">  &lt;style&gt;</div><div class="line">    li:nth-child(4n+1)&#123;</div><div class="line">      background-color: red;</div><div class="line">    &#125;</div><div class="line">    li:nth-child(4n+2)&#123;</div><div class="line">      background-color: green;</div><div class="line">    &#125;</div><div class="line">    li:nth-child(4n+3)&#123;</div><div class="line">      background-color: blue;</div><div class="line">    &#125;</div><div class="line">    li:nth-child(4n)&#123;</div><div class="line">      background-color: yellow;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;h2&gt;列表&lt;/h2&gt;</div><div class="line">  &lt;ul&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表2&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表3&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表4&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表2&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表3&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表4&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表2&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表3&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表4&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表2&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表3&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表4&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="only-child选择器"><a href="#only-child选择器" class="headerlink" title="only-child选择器"></a>only-child选择器</h2><ul>
<li>可以来代替使用<code>nth-child</code>和<code>nth-last-child</code>的实现方法。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    li:nth-child(1)&#123;</div><div class="line">      background-color: red;</div><div class="line">    &#125;</div><div class="line">    /*只有一个列表项的时候*/</div><div class="line">    li:only-child&#123;</div><div class="line">      background-color: yellow;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;h2&gt;列表&lt;/h2&gt;</div><div class="line">  &lt;ul&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">  &lt;ul&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;  </div><div class="line">  &lt;ul&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">    &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="子元素选择器-selectin"><a href="#子元素选择器-selectin" class="headerlink" title="子元素选择器::selectin"></a>子元素选择器::selectin</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;style&gt;</div><div class="line">*&#123;padding:0;margin:0;&#125;</div><div class="line">h1::selection&#123;color:red;&#125;</div><div class="line">::selection&#123;color:green;background-color: yellow&#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<ul>
<li>只能设置两个属性，一个是background，另一个是color属性，设置其他属性是没有任何效果的。</li>
</ul>
<h2 id="选择器种类"><a href="#选择器种类" class="headerlink" title="选择器种类"></a>选择器种类</h2><ul>
<li>UI元素状态伪类选择器（17种）<ul>
<li>E:hover</li>
<li>E:active</li>
<li>E:focus</li>
<li>E:disabled</li>
<li>E:read-only</li>
<li>E:checked</li>
<li>E:default</li>
<li>E:indeterminate</li>
<li>E::selection</li>
<li>E:invalid</li>
<li>E:valid</li>
<li>E:required</li>
<li>E:optional</li>
<li>E:in-range</li>
</ul>
</li>
<li>通用兄弟元素选择器</li>
</ul>
<p>共同特征是：指定的样式只有当元素处于某种状态下时才起作用，在默认状态下不起作用。</p>
<h2 id="hover、focus、active-和-checked"><a href="#hover、focus、active-和-checked" class="headerlink" title="hover、focus、active 和 checked"></a>hover、focus、active 和 checked</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    input[type=&quot;text&quot;]:hover&#123;</div><div class="line">      background-color: yellow;</div><div class="line">    &#125;</div><div class="line">    input[type=&quot;text&quot;]:focus&#123;</div><div class="line">      background-color: aqua;</div><div class="line">    &#125;</div><div class="line">    input[type=&quot;text&quot;]:active&#123;</div><div class="line">      background-color: red;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;input type=&quot;text&quot;name=&quot;name&quot;&gt;</div><div class="line">  &lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">  &lt;style&gt;</div><div class="line">    input[type=&quot;checkbox&quot;]:checked&#123;</div><div class="line">      outline: 2px solid red;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;input type=&quot;checkbox&quot;&gt;阅读</div><div class="line">  &lt;input type=&quot;checkbox&quot;&gt;旅游</div><div class="line">  &lt;input type=&quot;checkbox&quot;&gt;看电影</div><div class="line">  &lt;input type=&quot;checkbox&quot;&gt;上网</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="enabled和disabled"><a href="#enabled和disabled" class="headerlink" title="enabled和disabled"></a>enabled和disabled</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    input[type=&quot;text&quot;]:enabled&#123;</div><div class="line">      background-color: yellow;</div><div class="line">    &#125;</div><div class="line">    input[type=&quot;text&quot;]:disabled&#123;</div><div class="line">      background-color: grey;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">    function radio_change()&#123;</div><div class="line">      var radio1 = document.getElementById(&quot;radio1&quot;);</div><div class="line">      var radio2 = document.getElementById(&quot;radio2&quot;);</div><div class="line">      var text = document.getElementById(&quot;text&quot;);</div><div class="line">      if(radio1.checked)&#123;</div><div class="line">        text.disabled=&quot;&quot;;</div><div class="line">      &#125;else&#123;</div><div class="line">        text.value = &quot;&quot;;</div><div class="line">        text.disabled = &quot;disabled&quot;;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">  &lt;input type=&quot;radio&quot; id=&quot;radio1&quot; name=&quot;radio&quot; onchange=&quot;radio_change()&quot;&gt;可用</div><div class="line">  &lt;input type=&quot;radio&quot; id=&quot;radio2&quot; name=&quot;radio&quot; onchange=&quot;radio_change()&quot;&gt;不可用</div><div class="line">  &lt;input type=&quot;text&quot; id=&quot;text&quot; disabled&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="通用兄弟元素选择器"><a href="#通用兄弟元素选择器" class="headerlink" title="通用兄弟元素选择器"></a>通用兄弟元素选择器</h2><ul>
<li>用来指定位于同一个父元素之中的某个元素之后的所有其他某个种类的兄弟元素所使用样式。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">  &lt;style&gt;</div><div class="line">    div ~ p&#123;</div><div class="line">      background-color: yellow;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;p&gt;P元素为div的子元素&lt;/p&gt;</div><div class="line">      &lt;p&gt;P元素为div的子元素&lt;/p&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;p&gt;P元素为div的子元素&lt;/p&gt;</div><div class="line">    &lt;p&gt;P元素为div的子元素&lt;/p&gt;</div><div class="line">    &lt;p&gt;P元素为div的子元素&lt;/p&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="before和-after"><a href="#before和-after" class="headerlink" title="::before和::after"></a>::before和::after</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">::before</span>&#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">"哈哈"</span>; </div><div class="line">  <span class="attribute">color</span>: red;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">::after</span>&#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">"咳咳"</span>; </div><div class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">ul</span>&#123;</div><div class="line">  <span class="attribute">list-style</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">::before</span>&#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">  <span class="attribute">width</span>: <span class="number">4px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">4px</span>;</div><div class="line">  <span class="attribute">background-color</span>: red;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>::before</code> —— 在元素之前插入新内容</p>
<p><code>::after</code> —— 在元素之后插入新内容</p>
<ul>
<li><code>::before</code>和<code>::after</code>的作用就是在指定的元素（而不是元素本身）之前或者之后插入内容</li>
<li><code>::before</code>和<code>::after</code>如果没有content属性，伪类元素将没有任何作用</li>
<li>通过<code>::before</code>和<code>::after</code>插入的内容是一个行内元素</li>
<li>如果没有content属性，伪类元素将没有任何作用。但是可以指定content为空，正如前面所说，插入的内容默认是一个行内元素，并且在HTML源代码中无法看到。</li>
</ul>
<h1 id="CSS3-文字与字体相关样式"><a href="#CSS3-文字与字体相关样式" class="headerlink" title="CSS3 文字与字体相关样式"></a>CSS3 文字与字体相关样式</h1><h2 id="给文字添加阴影"><a href="#给文字添加阴影" class="headerlink" title="给文字添加阴影"></a>给文字添加阴影</h2><p><code>text-shadow:length length length color</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      text-shadow: -5px -5px 5px red,</div><div class="line">                   5px 5px 10px blue,</div><div class="line">                   10px 10px 15px green;</div><div class="line">      font-size: 40px;</div><div class="line">      color: yellow;</div><div class="line">      font-weight: bold;</div><div class="line">      background-color: grey;</div><div class="line">      height:200px;</div><div class="line">      width:100px;</div><div class="line">      padding: 30px 0;</div><div class="line">      text-align: center;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    你好</div><div class="line">  &lt;/div&gt;</div></pre></td></tr></table></figure>
<h2 id="使用服务器端字体"><a href="#使用服务器端字体" class="headerlink" title="使用服务器端字体"></a>使用服务器端字体</h2><p><code>word-break:normal,keep-all,break</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    @font-face&#123;</div><div class="line">      font-family: WebFont;</div><div class="line">      /*ttf:o otf:t*/</div><div class="line">      src: url(&apos;&apos;)format(&quot;truetype&quot;);</div><div class="line">      font-weight: nromal;</div><div class="line">    &#125;</div><div class="line">    div&#123;</div><div class="line">      font-family: WebFont;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    This is my page web;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    @font-face&#123;</div><div class="line">      font-family: MyArial;</div><div class="line">      src: local(&quot;Arial&quot;),</div><div class="line">            url(&quot;NotoSansCJKsc-Thin.otf&quot;);</div><div class="line">    &#125;</div><div class="line">    div&#123;</div><div class="line">      font-family: MyArial;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    This is my page web;</div><div class="line">  &lt;/div&gt;</div></pre></td></tr></table></figure>
<h2 id="修改字体种类而保持字体尺寸不变"><a href="#修改字体种类而保持字体尺寸不变" class="headerlink" title="修改字体种类而保持字体尺寸不变"></a>修改字体种类而保持字体尺寸不变</h2><p><code>font-size-adjust:</code></p>
<p><code>x-height:58 font-size:100 px; aspect:0.58</code></p>
<p><code>c = (a/b)/s</code></p>
<p>不成功：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">  &lt;style&gt;</div><div class="line">    #div1&#123;</div><div class="line">      font-family: Menlo;</div><div class="line">      font-size: 16px;</div><div class="line">      font-size-adjust: 0.60;</div><div class="line">    &#125;</div><div class="line">    #div2&#123;</div><div class="line">      font-family: Cursive;</div><div class="line">      font-size: 16px;</div><div class="line">      font-size-adjust: 0.9;</div><div class="line">    &#125;</div><div class="line">    #div3&#123;</div><div class="line">      font-family: &quot;Lantinghei SC&quot;;</div><div class="line">      font-size: 16px;</div><div class="line">      font-size-adjust: 0.3;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div id=&quot;div1&quot;&gt;Text sample&lt;/div&gt;</div><div class="line">  &lt;div id=&quot;div2&quot;&gt;Text sample&lt;/div&gt;</div><div class="line">  &lt;div id=&quot;div3&quot;&gt;Text sample&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h1 id="盒子相关样式"><a href="#盒子相关样式" class="headerlink" title="盒子相关样式"></a>盒子相关样式</h1><h2 id="盒子的类型"><a href="#盒子的类型" class="headerlink" title="盒子的类型"></a>盒子的类型</h2><ul>
<li><code>block</code></li>
<li><code>inline-block</code> —— 可设置宽度</li>
<li><code>inline</code>  —— 无法设置宽度</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      background-color: aqua;</div><div class="line">      display: inline-block;</div><div class="line">      width: 300px;</div><div class="line">    &#125;</div><div class="line">    span&#123;</div><div class="line">      background-color: brown;</div><div class="line">      display: inline;</div><div class="line">      width: 300px;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;div元素&lt;/div&gt;</div><div class="line">  &lt;div&gt;div元素&lt;/div&gt;</div><div class="line">  &lt;br&gt;</div><div class="line">  &lt;span&gt;span元素&lt;/span&gt;</div><div class="line">  &lt;span&gt;span元素&lt;/span&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    table&#123;</div><div class="line">      display: inline-table;</div><div class="line">      border: solid 3px #00aaff;</div><div class="line">    &#125;</div><div class="line">    td&#123;</div><div class="line">      border: solid 1px #ff00ff;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  你好上</div><div class="line">  &lt;table&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;A&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">  &lt;/table&gt;</div><div class="line">  你好下</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      display: list-item;</div><div class="line">      list-style-type: circle;</div><div class="line">      margin-left: 30px;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;示例1&lt;/div&gt;</div><div class="line">  &lt;div&gt;示例2&lt;/div&gt;</div><div class="line">  &lt;div&gt;示例3&lt;/div&gt;</div><div class="line">  &lt;div&gt;示例4&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="对盒子中容纳不下的内容的显示"><a href="#对盒子中容纳不下的内容的显示" class="headerlink" title="对盒子中容纳不下的内容的显示"></a>对盒子中容纳不下的内容的显示</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      width: 300px;</div><div class="line">      height: 150px;</div><div class="line">      border: solid 1px orange;</div><div class="line">      /*overflow: visible;*/</div><div class="line">      overflow-y: hidden;</div><div class="line">      overflow-x: scroll;</div><div class="line">      white-space: nowrap;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;h1&gt;标题文字&lt;/h1&gt;</div><div class="line">    &lt;p&gt;文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例&lt;/p&gt;</div><div class="line">    &lt;p&gt;文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例文字实例&lt;/p&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="盒子的阴影和大小计算方式"><a href="#盒子的阴影和大小计算方式" class="headerlink" title="盒子的阴影和大小计算方式"></a>盒子的阴影和大小计算方式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      margin-left: 100px;</div><div class="line">      margin-top: 100px;</div><div class="line">      background-color: #ffaa00;</div><div class="line">      box-shadow: 0px 0px 20px grey;</div><div class="line">      width: 200px;</div><div class="line">      height: 100px;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line"></div><div class="line">    #div1&#123;</div><div class="line">      box-sizing: border-box;</div><div class="line">      width: 100px;</div><div class="line">      height: 100px;</div><div class="line">      padding: 10px;</div><div class="line">      background-color: #00aaff;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    #div2&#123;</div><div class="line">      box-sizing: content-box;</div><div class="line">      width: 100px;</div><div class="line">      height: 100px;</div><div class="line">      padding: 10px;</div><div class="line">      background-color: #00ffaa;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;</div><div class="line">  &lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h1 id="背景与边框相关样式"><a href="#背景与边框相关样式" class="headerlink" title="背景与边框相关样式"></a>背景与边框相关样式</h1><h2 id="与背景相关的新增属性"><a href="#与背景相关的新增属性" class="headerlink" title="与背景相关的新增属性"></a>与背景相关的新增属性</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      background-color: black;</div><div class="line">      border: dashed 15px green;</div><div class="line">      padding: 30px;</div><div class="line">      color: white;</div><div class="line">      font-size: 30px;</div><div class="line">      font-weight: bold;</div><div class="line">      background-image: url(&quot;https://ws2.sinaimg.cn/large/006tNc79gy1fkjd7u3wvjj30lo0xlqax.jpg&quot;);</div><div class="line">      background-repeat: no-repeat;</div><div class="line">    &#125;</div><div class="line">    .div1&#123;</div><div class="line">      background-origin: border-box;</div><div class="line">      background-clip: border-box;</div><div class="line">    &#125;</div><div class="line">    .div2&#123;</div><div class="line">      background-origin: padding-box;</div><div class="line">      background-clip: padding-box;</div><div class="line">    &#125;</div><div class="line">    .div3&#123;</div><div class="line">      background-origin: content-box;</div><div class="line">      background-clip: content-box;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div class=&quot;div1&quot;&gt;示例1&lt;/div&gt;</div><div class="line">  &lt;br&gt;</div><div class="line">  &lt;div class=&quot;div2&quot;&gt;示例2&lt;/div&gt;</div><div class="line">  &lt;br&gt;</div><div class="line">  &lt;div class=&quot;div3&quot;&gt;示例3&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="一个元素中显示多个背景图片"><a href="#一个元素中显示多个背景图片" class="headerlink" title="一个元素中显示多个背景图片"></a>一个元素中显示多个背景图片</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      background-image: url(&quot;https://ws1.sinaimg.cn/large/006tKfTcgy1fkngt8dizwj308s05swf6.jpg&quot;),url(&quot;https://ws2.sinaimg.cn/large/006tKfTcgy1fkngtawg3cj30cg08940j.jpg&quot;);</div><div class="line">      background-repeat: repeat-x,no-repeat;</div><div class="line">      background-position: 100%,100%,center,center;</div><div class="line">      width: 1000px;</div><div class="line">      height:800px;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="圆角边框"><a href="#圆角边框" class="headerlink" title="圆角边框"></a>圆角边框</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">  /*左上，右上、右下、左下。顺时针*/</div><div class="line">    div&#123;</div><div class="line">      background-color: grey;</div><div class="line">      border: 3px solid #000;</div><div class="line">      width: 300px;</div><div class="line">      height: 200px;</div><div class="line">      padding: 20px;</div><div class="line">      border-radius: 20px 30px 10px 50px;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字</div><div class="line">    示例文字示例文字</div><div class="line">    示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字</div><div class="line">  示例文字示例文字示例文字示例文字示例文字示例文字示例文字示例文字</div><div class="line">  示例文字示例文字</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="使用图像边框"><a href="#使用图像边框" class="headerlink" title="使用图像边框"></a>使用图像边框</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      -webkit-border-image: url(&quot;https://ws2.sinaimg.cn/large/006tKfTcgy1fknhb8z28aj306y062dgw.jpg&quot;) 50 70 50 40;</div><div class="line">      /*background-image: url(&quot;https://ws2.sinaimg.cn/large/006tKfTcgy1fknhb8z28aj306y062dgw.jpg&quot;);*/</div><div class="line">      width: 200px;</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    示例文字</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fknk57dn55j30fp0g5ae3.jpg" alt=""></p>
<h1 id="变形处理"><a href="#变形处理" class="headerlink" title="变形处理"></a>变形处理</h1><h2 id="transform-功能的基础知识"><a href="#transform-功能的基础知识" class="headerlink" title="transform 功能的基础知识"></a>transform 功能的基础知识</h2><ul>
<li>旋转</li>
<li>缩放</li>
<li>移动</li>
<li>倾斜</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      width: 300px;</div><div class="line">      margin: 150px auto;</div><div class="line">      background-color: aqua;</div><div class="line">      text-align: center;</div><div class="line">      transform: rotate(45deg);</div><div class="line">      -webkit-transform:rotate(45deg);</div><div class="line">      transform: scale(3.5);</div><div class="line">      transform: skew(30deg,30deg);</div><div class="line">      transform: translate(250px, 250px);</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    示例文字</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="对一个元素使用多种变形的方法"><a href="#对一个元素使用多种变形的方法" class="headerlink" title="对一个元素使用多种变形的方法"></a>对一个元素使用多种变形的方法</h2><ul>
<li>前后顺序一定不要颠倒</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      width: 300px;</div><div class="line">      margin: 150px auto;</div><div class="line">      background-color: aqua;</div><div class="line">      text-align: center;</div><div class="line">      transform: translate(250px, 250px) rotate(45deg) scale(3.5);</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    示例文字</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="指定变形的基准点"><a href="#指定变形的基准点" class="headerlink" title="指定变形的基准点"></a>指定变形的基准点</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      width: 300px;</div><div class="line">      height: 200px;</div><div class="line">      background-color: aqua;</div><div class="line">    &#125;</div><div class="line">    .div2&#123;</div><div class="line">      transform-origin: top right;</div><div class="line">      transform: rotate(45deg);</div><div class="line">      transform: scale(1.5);</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;div class=&quot;div1&quot;&gt;示例文字&lt;/div&gt;</div><div class="line">  &lt;div class=&quot;div2&quot;&gt;示例文字&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h1 id="动画功能"><a href="#动画功能" class="headerlink" title="动画功能"></a>动画功能</h1><h2 id="Transitions-功能"><a href="#Transitions-功能" class="headerlink" title="Transitions 功能"></a>Transitions 功能</h2><ul>
<li><code>progerty</code></li>
<li><code>dration</code></li>
<li><code>timing-function</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      background-color: #ffff00;</div><div class="line">      width: 100px;</div><div class="line">      color: #000000;</div><div class="line">      /*transition: background-color 5s linear;*/</div><div class="line">      /*transition-property: background-color;</div><div class="line">      transition-duration: 3s;</div><div class="line">      transition-timing-function: linear;*/</div><div class="line">      /*transition: background-color 1s linear, color 1s linear, width 1s linear;*/</div><div class="line">      transition: transform 1s linear, color 1s linear, width 1s linear;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    div:hover&#123;</div><div class="line">      background-color: #ff00ff;</div><div class="line">      color: #ffffff;</div><div class="line">      width: 200px;</div><div class="line">      transform: rotate(360deg);</div><div class="line">    &#125;</div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;div&gt;示例文字&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="Animations功能"><a href="#Animations功能" class="headerlink" title="Animations功能"></a>Animations功能</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      background-color: red;</div><div class="line">    &#125;</div><div class="line">    @-webkit-keyframes mycolor&#123;</div><div class="line">      /*开始帧*/</div><div class="line">      0%&#123;</div><div class="line">        background-color: red;</div><div class="line">      &#125;</div><div class="line">      /*背景颜色变化帧*/</div><div class="line">      40%&#123;</div><div class="line">        background-color: #ffff00;</div><div class="line">      &#125;</div><div class="line">      70%&#123;</div><div class="line">        background-color: aqua;</div><div class="line">      &#125;</div><div class="line">      /*结束帧*/</div><div class="line">      100%&#123;</div><div class="line">        background-color: red;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    div:hover&#123;</div><div class="line">      -webkit-animation: mycolor 5s linear;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;div&gt;示例文字&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="实现动画的方法"><a href="#实现动画的方法" class="headerlink" title="实现动画的方法"></a>实现动画的方法</h2><ul>
<li><code>linear ease-in ease-out ease ease-in-out</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;style&gt;</div><div class="line">    div&#123;</div><div class="line">      position: absolute;</div><div class="line">      background-color: #ffff00;</div><div class="line">      top: 100px;</div><div class="line">      width: 500px;</div><div class="line">    &#125;</div><div class="line">    @-webkit-keyframes mycolor&#123;</div><div class="line"></div><div class="line">      0%&#123;</div><div class="line">        background-color: red;</div><div class="line">        transform: rotate(0deg);</div><div class="line">      &#125;</div><div class="line">      30%&#123;</div><div class="line">        background-color: aqua;</div><div class="line">        transform: rotate(30deg);</div><div class="line">      &#125;</div><div class="line">      60%&#123;</div><div class="line">        background-color: lightskyblue;</div><div class="line">        transform: rotate(-30deg);</div><div class="line">      &#125;</div><div class="line">      100%&#123;</div><div class="line">        background-color: red;</div><div class="line">        transform: rotate(0deg);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    div:hover&#123;</div><div class="line">      -webkit-animation-name: mycolor;</div><div class="line">      -webkit-animation-duration: 5s;</div><div class="line">      -webkit-animation-timing-function: linear;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">  &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;div&gt;示例文字&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<hr>
<h1 id="IE浏览器的兼容"><a href="#IE浏览器的兼容" class="headerlink" title="IE浏览器的兼容"></a>IE浏览器的兼容</h1><p>所谓的浏览器兼容问题，是指因为不同的浏览器对同一段代码有不同的解析，造成页面显示效果不统一的情况。在大多数情况下，IE6-IE8浏览器在Web发展中起到很大阻力，Web前端工程师写好的页面在Firefox、Chrome、Opera等主流浏览器下测试，基本没有什么问题，而在IE6-IE8浏览器下预览，又是另一番景象，本来规整的页面全乱了。</p>
<p>幸好随着HTML5的盛行，IE低版本的浏览器也逐渐退出舞台，所以现在很多网站也不再去考虑IE6-IE8低版本的浏览器，不过有些特殊的网站不得不考虑低版本浏览器，比如政府网站、教育系统网站，网站性质也决定了不得不兼容低版本浏览器，那么下面我们就介绍一下常见的IE低版本的兼容方式，如果你的客户网站不考虑低版本浏览器，你就可以完全忽略该节课了。</p>
<h2 id="1-IE6双倍边距"><a href="#1-IE6双倍边距" class="headerlink" title="1.IE6双倍边距"></a>1.IE6双倍边距</h2><p>产生因素：当元素有float属性，又有margin属性时，在IE6下面显示的margin的值是设置值的两倍。</p>
<p>解决方法：将有float属性的元素添加display:inline属性。</p>
<h2 id="2-伪类选择器hover"><a href="#2-伪类选择器hover" class="headerlink" title="2.伪类选择器hover"></a>2.伪类选择器hover</h2><p>产生因素：IE6只支持a标签的CSS定义hover效果，其他标签添加hover效果没有任何作用。</p>
<p>解决方法：一方面可以使用JavaScript添加鼠标移入效果，另一方面只能将其他标签改变为a标签后再添加hover效果。</p>
<h2 id="3-定义元素的不透明度"><a href="#3-定义元素的不透明度" class="headerlink" title="3.定义元素的不透明度"></a>3.定义元素的不透明度</h2><p>产生因素：opacity:0.5，可以改变元素的透明度，取值范围是0~1，但是IE6不支持这种透明度表现方式。</p>
<p>解决方法：IE6浏览器专属的透明度属性， filter：alpha（opacity=80），取值范围是0~100。</p>
<h2 id="4-IE各个版本hack"><a href="#4-IE各个版本hack" class="headerlink" title="4.IE各个版本hack"></a>4.IE各个版本hack</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*属性hack方式*/</span></div><div class="line"></div><div class="line"><span class="selector-class">.box</span> &#123;<span class="attribute">_width</span>:<span class="number">100px</span>;&#125;             <span class="comment">/* IE6专用*/</span></div><div class="line"></div><div class="line">.box &#123;*+width:100px;&#125;          /* IE7专用*/</div><div class="line"></div><div class="line">.box &#123;*width:100px;&#125;            /* IE6、IE7共用*/</div><div class="line"></div><div class="line"><span class="selector-class">.box</span> &#123;<span class="attribute">width</span>:<span class="number">100px</span>\<span class="number">0</span>;&#125;           <span class="comment">/* IE8、IE9共用*/</span></div><div class="line"></div><div class="line"><span class="selector-class">.box</span> &#123;<span class="attribute">width</span>:<span class="number">100px</span>\<span class="number">9</span>;&#125;           <span class="comment">/* IE6、IE7、IE8、IE9共用*/</span></div><div class="line"></div><div class="line"><span class="selector-class">.box</span> &#123;<span class="attribute">width</span>:<span class="number">330px</span>\<span class="number">9</span>\<span class="number">0</span>;&#125;        <span class="comment">/* IE9专用*/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/*选择器hack*/</span></div><div class="line"></div><div class="line">*<span class="selector-tag">html</span> <span class="selector-class">.box</span>&#123;<span class="attribute">width</span>:<span class="number">100px</span>;&#125;       <span class="comment">/*IE6*/</span></div><div class="line"></div><div class="line">*+<span class="selector-tag">html</span> <span class="selector-class">.box</span>&#123;<span class="attribute">width</span>:<span class="number">100px</span>;&#125;     <span class="comment">/*IE7*/</span></div></pre></td></tr></table></figure>
<hr>
<h1 id="CSS3与CSS2-1的区别"><a href="#CSS3与CSS2-1的区别" class="headerlink" title="CSS3与CSS2.1的区别"></a>CSS3与CSS2.1的区别</h1><h2 id="什么是CSS3"><a href="#什么是CSS3" class="headerlink" title="什么是CSS3"></a>什么是CSS3</h2><p>CSS3是CSS2的一个升级版本，CSS3提供了非常多新途径去改善您的设计工作，且做了不少重要的变化，大部分的CSS3规范都重复了CSS2.1的内容，但也在它的基础上进行了很多增补和修订。</p>
<h2 id="CSS3新特性"><a href="#CSS3新特性" class="headerlink" title="CSS3新特性"></a>CSS3新特性</h2><p>总的来说CSS3主要拥有以下几个新的亮点：高级选择器，圆角，多背景，自定义字体，动画与过渡，渐变色，box阴影，rgba颜色表示，文字阴影，图形化边界等。</p>
<h3 id="网页细节更易操作"><a href="#网页细节更易操作" class="headerlink" title="网页细节更易操作"></a>网页细节更易操作</h3><p>在CSS3之前，如果想要在页面上添加圆角或阴影，只能通过图片的方式才能实现想要表达的效果，但是CSS3添加了“背景和边框”模块，比如常见的圆角、阴影、边框、背景都是该模块的，还有一个模块是”色彩和图像”，比如新增的rgba(0,0,0,0.5)增加了透明色。</p>
<h3 id="字体多样化"><a href="#字体多样化" class="headerlink" title="字体多样化"></a>字体多样化</h3><p>CSS3之前，Web设计师必须使用已在用户计算机上安装好的字体。通过CSS3，Web设计师可以使用他们喜欢的任意字体。当您找到或购买到希望使用的字体时，可将该字体文件存放到Web服务器上，它会在需要时被自动下载到用户的计算机上。</p>
<h3 id="种类多样的选择器"><a href="#种类多样的选择器" class="headerlink" title="种类多样的选择器"></a>种类多样的选择器</h3><p>CSS3新增了非常多的高级选择器，可用它们选取HTML结构中的特定片段而无需增加特定的ID或类，在CSS3之前想要选择特定的区块只能通过JS来选择，CSS3增加的这些选择器，能够很好的满足我们的需求，并且使用CSS3选择器代码更加简洁且不容易出错。</p>
<h3 id="2D-3D转换"><a href="#2D-3D转换" class="headerlink" title="2D-3D转换"></a>2D-3D转换</h3><p>在CSS3中可以为任意元素添加2D的变形，我们能够对元素进行移动、缩放、转动、拉长或拉伸。转换是使元素改变形状、尺寸和位置的一种效果。3D转换是基于二维变换的相同属性，如果熟悉二维变换，会发现3D变形的功能和2D变换的功能类似。CSS3中的3D变换主要包括以下几种，如： 3D位移、 3D旋转、3D缩放、3D矩阵。</p>
<h3 id="过渡和动画"><a href="#过渡和动画" class="headerlink" title="过渡和动画"></a>过渡和动画</h3><p>CSS3中的过渡（transition）和动画（animation），都可以让页面增加动效，提高页面的视觉效果，但是这两种是有区分的，过渡（transition）是一种简单的动画，可以理解为从一种状态到另一种状态具有非常平滑的过渡效果，但是过渡需要有某些事件进行触发才可以进行动画，动画（animation）是无需事件触发就能完成特定的动画，现在页面上常见的动态效果基本都是CSS3的animation动画可以完成的。</p>
<h3 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h3><p>用户浏览网页的设备越来越复杂，大屏幕电脑、平板、智能手机，以前做设计只针对大屏幕电脑分辨率，现在已经不太适合，因为移动端智能设备的普及。我们应该让我们的设计在不同的设备做出不同的响应，让用户不管使用什么样的设备访问网站都有一个不错的用户体验，完成这种网站的制作就需要使用CSS3的媒体查询，适应不同的设备显示。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/19/HTML5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Katherine Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时间的朋友">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/19/HTML5/" itemprop="url">HTML5</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-19T14:57:25+08:00">
                2017-10-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/19/HTML5/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/19/HTML5/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="HTML5与HTML4的区别"><a href="#HTML5与HTML4的区别" class="headerlink" title="HTML5与HTML4的区别"></a>HTML5与HTML4的区别</h1><h2 id="什么是HTML5"><a href="#什么是HTML5" class="headerlink" title="什么是HTML5?"></a>什么是HTML5?</h2><p>HTML 5草案的前身名为Web Applications 1.0，是在2004年由WHATWG提出，再于2007年获W3C接纳，并成立了新的HTML工作团队。在2008年1月22日，第一份正式草案发布。WHATWG表示该规范是目前仍在进行的工作，仍须多年的努力。目前Firefox、Google Chrome、Opera、Safari（版本4以上）、Internet Explorer 9已支援HTML5技术。</p>
<p>HTML5本质并没有对之前HTML4版本的规范进行彻底的变革，而是一开始设计就考虑了跟之前的标准进行兼容，并且把最新的WEB开发的一些新技术新的规范引入进了新版本的标准中。</p>
<h2 id="推出的理由及目标"><a href="#推出的理由及目标" class="headerlink" title="推出的理由及目标"></a>推出的理由及目标</h2><h3 id="过去存在的问题"><a href="#过去存在的问题" class="headerlink" title="过去存在的问题"></a>过去存在的问题</h3><ul>
<li>web浏览器之间的兼容性很低</li>
<li>文档结构不够明确，如<code>&lt;div&gt;&lt;/div&gt;</code></li>
<li>web应用程序的功能受到了限制</li>
</ul>
<p>世界知名浏览器厂商对HTML5的支持：微软、Google、苹果、Opera、Mozilla</p>
<h3 id="新增拥有具体含义的标签"><a href="#新增拥有具体含义的标签" class="headerlink" title="新增拥有具体含义的标签"></a>新增拥有具体含义的标签</h3><p>现在所有的站点基本上都是<code>div</code>+<code>css</code>布局，几乎所有的文章标题、内容、辅助介绍等都用<code>div</code>容器来承载。搜索引擎在抓取页面内容时，因为没有明确的容器的含义只能去猜测这些标签容器承载的是文章标题还是文章内容等。HTML5新标准中直接添加了拥有具体含义的HTML标签比如：<code>&lt;article&gt;</code>、<code>&lt;footer&gt;</code>、<code>&lt;header&gt;</code>、<code>&lt;nav&gt;</code>、<code>&lt;section&gt;</code></p>
<h3 id="新增更加智能的表单类型"><a href="#新增更加智能的表单类型" class="headerlink" title="新增更加智能的表单类型"></a>新增更加智能的表单类型</h3><p>之前的表单标签仅仅是简单的类型的约束，比如文本框、文本域、下拉列表等。而跟业务结合紧密的表单标签数据校验等控制都没有很好的支持，基本上都是跟第三方的JS控件进行结合使用，但是这些第三方总会涉及到版本控制、浏览器兼容性、非标准等一系列的问题。而在HTML5的标准中直接添加了智能表单，让这一切都变得那么的简单，比如 <code>calendar</code>、<code>date</code>、<code>time</code>、<code>email</code>、<code>url</code>、<code>search</code></p>
<h3 id="让Web程序更加的独立，减少了对第三方插件的依赖。"><a href="#让Web程序更加的独立，减少了对第三方插件的依赖。" class="headerlink" title="让Web程序更加的独立，减少了对第三方插件的依赖。"></a>让Web程序更加的独立，减少了对第三方插件的依赖。</h3><p>在HTML5标准中原生的就支持音频、视频、画布等技术。让WEB程序更加独立，更好的适应多种形式的客户端。</p>
<h3 id="对本地离线存储的更好的支持"><a href="#对本地离线存储的更好的支持" class="headerlink" title="对本地离线存储的更好的支持"></a>对本地离线存储的更好的支持</h3><p>HTML5 提供了两种在客户端存储数据的新方法：</p>
<ul>
<li><code>localStorage</code> - 没有时间限制的数据存储</li>
<li><code>sessionStorage</code> - 针对一个 session 的数据存储</li>
</ul>
<h3 id="HTML5即时二维绘图-既画布的引入"><a href="#HTML5即时二维绘图-既画布的引入" class="headerlink" title="HTML5即时二维绘图 ,既画布的引入"></a>HTML5即时二维绘图 ,既画布的引入</h3><p>HTML5 的<code>canvas</code>元素使用 JavaScript 在网页上绘制图像。并拥有多种绘制路径、矩形、圆形、字符以及添加图像的方法。</p>
<h3 id="JS支持多线程"><a href="#JS支持多线程" class="headerlink" title="JS支持多线程"></a>JS支持多线程</h3><p>在不影响UI update及浏览器与用户交互的情况下, 前端做大规模运算，只能通过 <code>setTimeout</code> 之类的去模拟多线程 。而新的标准中，JS新增的HTML5 Web Worker对象原生的就支持多线程。</p>
<h3 id="WebSockets让跨域请求、长连接、数据推送变得简单"><a href="#WebSockets让跨域请求、长连接、数据推送变得简单" class="headerlink" title="WebSockets让跨域请求、长连接、数据推送变得简单"></a>WebSockets让跨域请求、长连接、数据推送变得简单</h3><p><code>WebSockets</code>是在一个(TCP)接口进行双向通信的技术，PUSH技术类型。<code>WebSocket</code>是html5规范新引入的功能，用于解决浏览器与后台服务器双向通讯的问题，使用<code>WebSocket</code>技术，后台可以随时向前端推送消息，以保证前后台状态统一，在传统的无状态HTTP协议中，这是“无法做到”的。</p>
<h3 id="更好的异常处理"><a href="#更好的异常处理" class="headerlink" title="更好的异常处理"></a>更好的异常处理</h3><p>HTML5(text/html)浏览器将在错误语法的处理上更加灵活。HTML5在设计时保证旧的浏览器能够安全地忽略掉新的HTML5代码。与HTML4.01相比，HTML5给出了解析的完整规则，让不同的浏览器即使在发生语法错误时也能返回完全相同的结果。</p>
<h3 id="文件API让文件上传和操纵文件变得那么简单"><a href="#文件API让文件上传和操纵文件变得那么简单" class="headerlink" title="文件API让文件上传和操纵文件变得那么简单"></a>文件API让文件上传和操纵文件变得那么简单</h3><p>由于项目中经常遇到用Web应用中控制操作本地文件，而之前都是使用一些富客户端技术比如<code>flash</code>，<code>ActiveX</code>，<code>Silverlight</code>等技术。在HTML5的新的提供的 <code>HTML5 File API</code> 让JS可以轻松上阵了。</p>
<h2 id="HTML5与HTML4的区别-1"><a href="#HTML5与HTML4的区别-1" class="headerlink" title="HTML5与HTML4的区别"></a>HTML5与HTML4的区别</h2><h3 id="取消了一些过时的HTML4的标签"><a href="#取消了一些过时的HTML4的标签" class="headerlink" title="取消了一些过时的HTML4的标签"></a>取消了一些过时的HTML4的标签</h3><p>其中包括纯粹显示效果的标记，如<code>&lt;font&gt;</code>和<code>&lt;center&gt;</code>，它们已经被 <code>CSS</code>完全取代。</p>
<p>其他取消的属性:<code>acronym</code>, <code>applet</code>, <code>basefont</code>, <code>big</code>, <code>center</code>, <code>dir</code>, <code>font</code>, <code>frame</code>, <code>frameset</code>, <code>isindex</code>, <code>noframes</code>, <code>strike</code>,<code>tt</code></p>
<h3 id="添加了一些新的元素"><a href="#添加了一些新的元素" class="headerlink" title="添加了一些新的元素"></a>添加了一些新的元素</h3><p>更加智能的表单元素：<code>date</code>, <code>email</code>, <code>url</code>等;</p>
<p>更加合理的标签：<code>&lt;section&gt;</code>, <code>&lt;video&gt;</code>, <code>&lt;progress&gt;</code>, <code>&lt;nav&gt;</code>, <code>&lt;meter&gt;</code>, <code>&lt;time&gt;</code>, <code>&lt;aside&gt;</code>, <code>&lt;canvas&gt;</code>等。</p>
<h3 id="文件类型声明"><a href="#文件类型声明" class="headerlink" title="文件类型声明"></a>文件类型声明</h3><p>仅有一种类型，<code>&lt;!DOCTYPE html&gt;</code></p>
<h2 id="语法的改变"><a href="#语法的改变" class="headerlink" title="语法的改变"></a>语法的改变</h2><ul>
<li>内容类型<code>text.html</code></li>
<li>DOCTYPE声明</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><p>指定字符编码<br>​</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>可以省略标记的元素</p>
</li>
</ul>
<ul>
<li>具有boolean值的属性</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#true</div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span>=<span class="string">"checked"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span>=<span class="string">""</span>&gt;</span></div><div class="line">#false</div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>省略引号</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span>=<span class="string">checked</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="新增的元素"><a href="#新增的元素" class="headerlink" title="新增的元素"></a>新增的元素</h2><h3 id="新增的结构元素"><a href="#新增的结构元素" class="headerlink" title="新增的结构元素"></a>新增的结构元素</h3><ul>
<li>section 内容块</li>
<li>article 独立内容</li>
<li>aside 辅助信息<ul>
<li>header标题</li>
</ul>
</li>
<li>hgroup 内容块</li>
<li>footer 底部</li>
<li>nav 导航</li>
<li>figure 独立的单元</li>
</ul>
<h3 id="新增的其他元素"><a href="#新增的其他元素" class="headerlink" title="新增的其他元素"></a>新增的其他元素</h3><ul>
<li>video 视频</li>
<li>audio 音频</li>
<li>canvas 图形、画布<br><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fkl9klyw84j30xy0diady.jpg" alt=""></li>
</ul>
<h2 id="废除的元素"><a href="#废除的元素" class="headerlink" title="废除的元素"></a>废除的元素</h2><ul>
<li>能使用CSS替代的元素：basefont、big、center、font、s、tt、u</li>
<li>不再使用frame框架</li>
<li>只有部分浏览器支持的元素</li>
<li>其他被废除的元素</li>
</ul>
<h2 id="新增的属性"><a href="#新增的属性" class="headerlink" title="新增的属性"></a>新增的属性</h2><ul>
<li>表单相关</li>
<li>链接相关</li>
<li>其他</li>
</ul>
<h2 id="废除的属性"><a href="#废除的属性" class="headerlink" title="废除的属性"></a>废除的属性</h2><h2 id="全局属性"><a href="#全局属性" class="headerlink" title="全局属性"></a>全局属性</h2><ul>
<li>contenEditable (true/false)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;h2&gt;可编辑列表&lt;/h2&gt;</div><div class="line">&lt;ul contenteditable&gt;</div><div class="line">  &lt;li&gt;1&lt;/li&gt;</div><div class="line">  &lt;li&gt;2&lt;/li&gt;</div><div class="line">  &lt;li&gt;3&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div></pre></td></tr></table></figure>
<ul>
<li>designMode——只能在js脚本里被编辑</li>
<li>hidden (true/false)——所有都可应用</li>
<li>spellcheck——语法检查</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; spellcheck=&quot;&quot;&gt;</div></pre></td></tr></table></figure>
<ul>
<li>tabindex——tab顺序</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;#&quot; tabindex=&quot;1&quot;&gt;hello1&lt;/a&gt;</div><div class="line">&lt;a href=&quot;#&quot; tabindex=&quot;3&quot;&gt;hello3&lt;/a&gt;</div><div class="line">&lt;a href=&quot;#&quot; tabindex=&quot;2&quot;&gt;hello2&lt;/a&gt;</div><div class="line">&lt;ul tabindex=&quot;-1&quot;&gt;</div><div class="line">  &lt;li&gt;1&lt;/li&gt;</div><div class="line">  &lt;li&gt;1&lt;/li&gt;</div><div class="line">  &lt;li&gt;1&lt;/li&gt;</div><div class="line">  &lt;li&gt;1&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div></pre></td></tr></table></figure>
<hr>
<h1 id="HTML5新增的主体结构元素"><a href="#HTML5新增的主体结构元素" class="headerlink" title="HTML5新增的主体结构元素"></a>HTML5新增的主体结构元素</h1><h2 id="HTML5的新结构标签"><a href="#HTML5的新结构标签" class="headerlink" title="HTML5的新结构标签"></a>HTML5的新结构标签</h2><p><strong>普通的页面的布局方式：</strong></p>
<p><img src="https://dn-anything-about-doc.qbox.me/md04171522012052410570957.gif" alt="Alt text"></p>
<p>以上是很常见的<code>div</code>+<code>css</code>布局模式，通过<code>class</code>来区分不同的结构，包括头部、导航、文章内容、右边栏，还有底部模块。</p>
<p><strong>HTML5新标签带来的新的布局：</strong></p>
<p><img src="https://dn-anything-about-doc.qbox.me/md04171522012052410554136.gif" alt="Alt text"></p>
<p>代码如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>my page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">header</span>&gt;</span>header<span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">nav</span>&gt;</span>nav<span class="tag">&lt;/<span class="name">nav</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">section</span>&gt;</span>section<span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">article</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">aside</span>&gt;</span>aside<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">footer</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>拥有具体含义的标签，使得代码有很直观的感受，搜索器也能很容易地抓取合适的信息。</p>
<h2 id="section元素"><a href="#section元素" class="headerlink" title="section元素"></a>section元素</h2><blockquote>
<p> 定义文档中的节。</p>
</blockquote>
<ul>
<li>它用来表现普通的文档内容或应用区块，对网站或应用程序中页面上的内容进行分块。</li>
<li>section元素并非一个普通的容器元素</li>
<li>一个section元素通常由内容及其标题组成。它表示一段专题性的内容，一般会带有标题。</li>
<li>当一个容器需要被直接定义样式或通过脚本定义行为时，推荐使用div而非section元素。</li>
<li>如果aside、nav、article元素更符合使用条件，不要使用section</li>
<li>不要为没有标题的区域块使用section元素</li>
</ul>
<p><strong>note: 强调分段或分块</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>section是什么？<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>一个新章节<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>关于section<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>section的介绍<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        ...</div><div class="line">    <span class="tag">&lt;/<span class="name">article</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个水果，可以吃，而且很好吃。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个水果，可以吃，而且很好吃。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">section</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>红富士<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一种外表很红的苹果，吃起来也不错。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">section</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>国光<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一种外表很红的苹果，吃起来也不错。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>水果<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span>        </div><div class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="article元素"><a href="#article元素" class="headerlink" title="article元素"></a>article元素</h2><p>特殊的<code>article</code>标签，它比<code>section</code>具有更明确的语义，它代表一个独立的、完整的相关内容块。当我们描述一件具体的事物的时候，通常鼓励使用<code>article</code>来代替<code>section</code>。</p>
<p><code>article</code>会有标题部分（通常包含在<code>header</code>内），也可以包含<code>footer</code>。</p>
<p><code>article</code>可以嵌套，内层的<code>article</code>对外层的<code>article</code>标签有隶属关系。</p>
<p>代表文档、页面或应用程序中独立的、完整的、可以独自被外部引用的内容。它可以是一篇博客或者报刊中的文章，一篇论坛帖子、一段用户评论或独立的插件，或其他人和独立的内容。</p>
<ul>
<li>可以嵌套使用</li>
<li>可以用来表示插件</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">hgroup</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一篇介绍HTML 5结构标签的文章<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>HTML 5的革新<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">hgroup</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">time</span> <span class="attr">datetime</span>=<span class="string">"2011-03-20"</span>&gt;</span>2011.03.20<span class="tag">&lt;/<span class="name">time</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>文章内容详情<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>哈哈<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">      作者</div><div class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>评论<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>time<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是底部<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一个内嵌页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">object</span> <span class="attr">type</span>=<span class="string">""</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">"#"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"400"</span><span class="attr">type</span>=<span class="string">""</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">object</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>note: 强调独立性</strong></p>
<h2 id="nav元素"><a href="#nav元素" class="headerlink" title="nav元素"></a>nav元素</h2><ul>
<li>一个可以用作页面导航的链接组，其中的导航元素连接到其他页面或当前页面的其他部分。</li>
<li>并不是所有的链接族都要被放进nav元素，只需要将主要的、基本的链接组放进nav元素即可。</li>
<li>nav元素应用场景：<ul>
<li>传统导航条</li>
<li>侧边栏导航</li>
<li>页内导航</li>
<li>翻页操作</li>
</ul>
</li>
</ul>
<p>note:不要用menu元素代替nav元素，menu元素是交互性元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">&lt;nav&gt;</div><div class="line">  &lt;ul&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;#&quot;&gt;主页&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;#&quot;&gt;开发文档&lt;/a&gt;&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">&lt;/nav&gt;</div><div class="line">&lt;article&gt;</div><div class="line">  &lt;header&gt;</div><div class="line">    &lt;h1&gt;HTML5&lt;/h1&gt;</div><div class="line">    &lt;nav&gt;</div><div class="line">      &lt;ul&gt;</div><div class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;HTML5&lt;/a&gt;&lt;/li&gt;</div><div class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;CSS3&lt;/a&gt;&lt;/li&gt;</div><div class="line">      &lt;/ul&gt;</div><div class="line">    &lt;/nav&gt;</div><div class="line">  &lt;/header&gt;</div><div class="line">  &lt;section&gt;</div><div class="line">    &lt;h1&gt;HTML5&lt;/h1&gt;</div><div class="line">    &lt;p&gt;。。。&lt;/p&gt;</div><div class="line">  &lt;/section&gt;</div><div class="line">  &lt;section&gt;</div><div class="line">    &lt;h1&gt;CSS3&lt;/h1&gt;</div><div class="line">    &lt;p&gt;。。。&lt;/p&gt;</div><div class="line">  &lt;/section&gt;</div><div class="line">  &lt;footer&gt;</div><div class="line">    &lt;a href=&quot;#&quot;&gt;删除&lt;/a&gt;</div><div class="line">    &lt;a href=&quot;#&quot;&gt;修改&lt;/a&gt;</div><div class="line">  &lt;/footer&gt;</div><div class="line">&lt;/article&gt;</div><div class="line">&lt;footer&gt;</div><div class="line">  &lt;p&gt;&lt;small&gt;版权声明：&lt;/small&gt;&lt;/p&gt;</div><div class="line">&lt;/footer&gt;</div></pre></td></tr></table></figure>
<h2 id="aside元素"><a href="#aside元素" class="headerlink" title="aside元素"></a>aside元素</h2><ul>
<li>表示当前页面或文章的附属信息部分</li>
<li>它可以包含与当前页面或主要内容相关的引用、侧边栏、广告、导航条，以及其他类似的有区别于主要内容的部分</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;header&gt;</div><div class="line">  &lt;h1&gt;JS入门&lt;/h1&gt;</div><div class="line">&lt;/header&gt;</div><div class="line">&lt;article&gt;</div><div class="line">  &lt;h1&gt;语法&lt;/h1&gt;</div><div class="line">  &lt;p&gt;文章的正文。。。&lt;/p&gt;</div><div class="line">&lt;/article&gt;</div><div class="line">&lt;aside&gt;</div><div class="line">  &lt;h1&gt;名词解释&lt;/h1&gt;</div><div class="line">  &lt;p&gt;语法：这是一个对语言来说很重要的内容体。&lt;/p&gt;</div><div class="line">&lt;/aside&gt;</div><div class="line"></div><div class="line">&lt;aside&gt;</div><div class="line">  &lt;nav&gt;</div><div class="line">    &lt;h2&gt;</div><div class="line">      &lt;ul&gt;</div><div class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;2015-3-10&lt;/a&gt;&lt;/li&gt;</div><div class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;</div><div class="line">          大牛：真希望能好好的学一下</div><div class="line">        &lt;/a&gt;&lt;/li&gt;</div><div class="line">      &lt;/ul&gt;</div><div class="line">    &lt;/h2&gt;</div><div class="line">  &lt;/nav&gt;</div><div class="line">&lt;/aside&gt;</div></pre></td></tr></table></figure>
<h2 id="time元素和微格式"><a href="#time元素和微格式" class="headerlink" title="time元素和微格式"></a>time元素和微格式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;time datetime=&quot;2013-13-13&quot;&gt;2013-13-13&lt;/time&gt;</div><div class="line">&lt;time datetime=&quot;2013-13-13T20:00&quot;&gt;2013-13-13&lt;/time&gt;</div><div class="line">&lt;time datetime=&quot;2013-13-13T20:00Z&quot;&gt;2013-13-13&lt;/time&gt;</div><div class="line">&lt;time datetime=&quot;2013-13-13T20:00+09:00&quot;&gt;2013-13-13&lt;/time&gt;</div></pre></td></tr></table></figure>
<h2 id="pubdate属性"><a href="#pubdate属性" class="headerlink" title="pubdate属性"></a>pubdate属性</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;article&gt;</div><div class="line">  &lt;header&gt;</div><div class="line">    &lt;h1&gt;苹果&lt;/h1&gt;</div><div class="line">    &lt;p&gt;发布日期&lt;time datetime=&quot;2015-10-10&quot; pubdate&gt;1015-10-10&lt;/time&gt;&lt;/p&gt;</div><div class="line">    &lt;p&gt;舞会时间&lt;time datetime=&quot;2015-10-12&quot;&gt;2015-10-12&lt;/time&gt;&lt;/p&gt;</div><div class="line">  &lt;/header&gt;</div><div class="line">&lt;/article&gt;</div></pre></td></tr></table></figure>
<h1 id="HTML5的非主体构元素"><a href="#HTML5的非主体构元素" class="headerlink" title="HTML5的非主体构元素"></a>HTML5的非主体构元素</h1><h2 id="header元素"><a href="#header元素" class="headerlink" title="header元素"></a>header元素</h2><ul>
<li>一种具有引导和导航作用的结构元素</li>
<li>通常用来放置整个页面或页面内的一个内容区块的标题，但是也可以包含其他内容，例如数据表格、搜索表单或相关的logo图片。</li>
<li>可以出现多次</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;header&gt;</div><div class="line">  &lt;h1&gt;IT最新技术&lt;/h1&gt;</div><div class="line">  &lt;a href=&quot;http://www.baidu.com&quot;&gt;百度&lt;/a&gt;</div><div class="line">  &lt;nav&gt;</div><div class="line">    &lt;ul&gt;</div><div class="line">      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;学习&lt;/a&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;技术&lt;/a&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;极客&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">  &lt;/nav&gt;</div><div class="line">&lt;/header&gt;</div></pre></td></tr></table></figure>
<h2 id="footer元素"><a href="#footer元素" class="headerlink" title="footer元素"></a>footer元素</h2><ul>
<li>可作为其上层父级内容区块或是一个根区块的脚注。</li>
<li>通常包括其相关区块的脚注信息，如作者、相关阅读链接及版权信息等</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;!-- &lt;div class=&quot;footer&quot;&gt; --&gt;</div><div class="line">&lt;footer&gt;</div><div class="line">  &lt;ul&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;#&quot;&gt;版权信息&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;#&quot;&gt;版权信息&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;#&quot;&gt;版权信息&lt;/a&gt;&lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">&lt;/footer&gt;</div><div class="line">&lt;!-- &lt;/div&gt; --&gt;</div><div class="line"></div><div class="line">&lt;article&gt;</div><div class="line">  &lt;footer&gt;</div><div class="line">    这是一个文章的底部.</div><div class="line">  &lt;/footer&gt;</div><div class="line">&lt;/article&gt;</div><div class="line"></div><div class="line">&lt;section&gt;</div><div class="line">  &lt;footer&gt;</div><div class="line"></div><div class="line">  &lt;/footer&gt;</div><div class="line">&lt;/section&gt;</div></pre></td></tr></table></figure>
<h2 id="hgroup元素"><a href="#hgroup元素" class="headerlink" title="hgroup元素"></a>hgroup元素</h2><ul>
<li>将标题及其子标题进行分组的元素</li>
<li>通常会将h1~h6元素进行分组，譬如一个内容区块的标题及其子元素算一组。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;article&gt;</div><div class="line">  &lt;header&gt;</div><div class="line">    &lt;hgroup&gt;</div><div class="line">    &lt;h1&gt;这是文章标题&lt;/h1&gt;</div><div class="line">    &lt;h2&gt;这是一个子标题&lt;/h2&gt;</div><div class="line">    &lt;/hgroup&gt;</div><div class="line">    &lt;p&gt;&lt;time datetime=&quot;2015-10-10&quot;&gt;2015-10-10&lt;/time&gt;&lt;/p&gt;</div><div class="line">  &lt;/header&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    这是内容</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;footer&gt;</div><div class="line">    这是底部</div><div class="line">  &lt;/footer&gt;</div><div class="line">&lt;/article&gt;</div></pre></td></tr></table></figure>
<h2 id="address元素"><a href="#address元素" class="headerlink" title="address元素"></a>address元素</h2><ul>
<li>用来在文档中呈现联系信息，包括文档作者或文档维护者的名字、他们的网站链接、电子邮箱、真实地址、电话号码等。</li>
<li>还用来展现根文档相关的联系人的所有联系信息。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;address&gt;</div><div class="line">  &lt;a href=&quot;#&quot;&gt;Mary&lt;/a&gt;</div><div class="line">  &lt;a href=&quot;#&quot;&gt;Kay&lt;/a&gt;</div><div class="line">&lt;/address&gt;</div><div class="line">&lt;footer&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;address&gt;</div><div class="line">      &lt;a href=&quot;#&quot;&gt;Kathy&lt;/a&gt;</div><div class="line">      Halo,world</div><div class="line">    &lt;/address&gt;</div><div class="line">    &lt;time datetime=&quot;2015-10-10&quot;&gt;2015-10-10&lt;/time&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/footer&gt;</div></pre></td></tr></table></figure>
<h2 id="网页编排规则"><a href="#网页编排规则" class="headerlink" title="网页编排规则"></a>网页编排规则</h2><ul>
<li>显示编排内容区域块</li>
<li>根据需求</li>
<li>标题分级</li>
<li>不同区域块可以写相同的标签</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">&lt;header&gt;</div><div class="line">  &lt;h1&gt;网页标题&lt;/h1&gt;</div><div class="line">  &lt;nav&gt;</div><div class="line">    &lt;ul&gt;</div><div class="line">      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;a href=&quot;#&quot;&gt;帮助&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">  &lt;/nav&gt;</div><div class="line">&lt;/header&gt;</div><div class="line">&lt;article&gt;</div><div class="line">  &lt;hgroup&gt;</div><div class="line">    &lt;h1&gt;文章主标题&lt;/h1&gt;</div><div class="line">    &lt;h2&gt;文章子标题&lt;/h2&gt;</div><div class="line">  &lt;/hgroup&gt;</div><div class="line">  &lt;p&gt;文章正文&lt;/p&gt;</div><div class="line">  &lt;section&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;article&gt;</div><div class="line">        &lt;h1&gt;评论标题&lt;/h1&gt;</div><div class="line">        &lt;p&gt;评论正文&lt;/p&gt;</div><div class="line">      &lt;/article&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  &lt;/section&gt;</div><div class="line">&lt;/article&gt;</div><div class="line"></div><div class="line">&lt;footer&gt;</div><div class="line">  版权所有。。。</div><div class="line">&lt;/footer&gt;</div></pre></td></tr></table></figure>
<h1 id="HTML5表单新增元素与属性"><a href="#HTML5表单新增元素与属性" class="headerlink" title="HTML5表单新增元素与属性"></a>HTML5表单新增元素与属性</h1><h2 id="form属性"><a href="#form属性" class="headerlink" title="form属性"></a>form属性</h2><ul>
<li>表单内的从属元素可以卸载页面上任何地方，然后为该元素指定一个form属性</li>
<li>属性值为该表单的id，这样就可以声明该元素从属于指定表单了。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;form id=&quot;textform&quot;&gt;</div><div class="line">  &lt;input type=&quot;text&quot;&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">  &lt;textarea form=&quot;textform&quot;&gt;&lt;/textarea&gt;</div></pre></td></tr></table></figure>
<h2 id="formaction属性"><a href="#formaction属性" class="headerlink" title="formaction属性"></a>formaction属性</h2><ul>
<li>可以为所有的提交按钮，增加不同的formaction属性，使单击不同的按钮时可以将表单提交到不同的页面</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;form id=&quot;testform&quot;&gt;</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;s1&quot; value=&quot;v1&quot; formaction=&quot;xx.jsp&quot;&gt;提交到 xx.jsp 页面</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;s2&quot; value=&quot;v2&quot; formaction=&quot;xx.jsp&quot;&gt;提交到 xx.jsp 页面</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;s3&quot; value=&quot;v3&quot; formaction=&quot;xx.jsp&quot;&gt;提交到 xx.jsp 页面</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="formmethod"><a href="#formmethod" class="headerlink" title="formmethod"></a>formmethod</h2><ul>
<li>HTML4：一个表单内只能有一个action属性用来对表单内所有元素统一指定提交页面，所以每个表单内页只有一个method属性来统一制定提交方法</li>
<li>HTML5：可使用formmethod属性来对每一个表单元素分别制定不同的提交方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;form id=&quot;testform&quot;&gt;</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;s1&quot; value=&quot;v1&quot; formmethod=&quot;post&quot; formaction=&quot;xx.jsp&quot;&gt;提交到 xx.jsp 页面</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;s2&quot; value=&quot;v2&quot; formmethod=&quot;get&quot; formaction=&quot;xx.jsp&quot;&gt;提交到 xx.jsp 页面</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="formenctype属性"><a href="#formenctype属性" class="headerlink" title="formenctype属性"></a>formenctype属性</h2><ul>
<li>HTML4：表单元素具有一个<code>enctype</code>属性，该属性用于指定在表单发送到服务器之前应该如何对表单内的数据进行编码</li>
<li>HTML5：可以使用<code>formenctype</code>属性对表单元素<strong>分别</strong>制定不同的编码方式。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;form&gt;</div><div class="line">  &lt;input type=&quot;text&quot; formenctype=&quot;text/plain&quot;&gt;</div><div class="line">  &lt;input type=&quot;text&quot; formenctype=&quot;multipart/form-data&quot;&gt;</div><div class="line">  &lt;input type=&quot;text&quot; formenctype=&quot;application/x-www-form-urlencoded&quot;&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="formtarget属性"><a href="#formtarget属性" class="headerlink" title="formtarget属性"></a>formtarget属性</h2><ul>
<li>HTML4：表单元素具有一个target属性，该属性用于指定在何处打开表单提交后所需要加载的页面</li>
<li>HTML5：可以对多个提交按钮<strong>分别</strong>使用formtarget属性来指定提交后在何处打开所需加载的页面。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;form id=&quot;testform&quot;&gt;</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;s1&quot; value=&quot;v1&quot; formtarget=&quot;_blank&quot; formaction=&quot;xx.jsp&quot;&gt;提交到 xx.jsp 页面</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;s2&quot; value=&quot;v2&quot; formtarget=&quot;_self&quot; formaction=&quot;xx.jsp&quot;&gt;提交到 xx.jsp 页面</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;s3&quot; value=&quot;v3&quot; formtarget=&quot;_parent&quot; formaction=&quot;xx.jsp&quot;&gt;提交到 xx.jsp 页面</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;s3&quot; value=&quot;v3&quot; formtarget=&quot;_top&quot; formaction=&quot;xx.jsp&quot;&gt;提交到 xx.jsp 页面</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;s3&quot; value=&quot;v3&quot; formtarget=&quot;_framename&quot; formaction=&quot;xx.jsp&quot;&gt;提交到 xx.jsp 页面</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="autofocus属性"><a href="#autofocus属性" class="headerlink" title="autofocus属性"></a>autofocus属性</h2><p>为文本框、选择框或按钮控件加上autofocus属性，当画面打开时，该控件自动获得光标焦点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;form&gt;</div><div class="line">  &lt;input type=&quot;text&quot;&gt;</div><div class="line">  &lt;input type=&quot;text&quot; autofocus&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="required属性"><a href="#required属性" class="headerlink" title="required属性"></a>required属性</h2><p>可以应用在大多数输入元素上，在提交时，如果元素中内容为空白，则不允许提交，同时在浏览器中显示信息提示文字。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;form action=&quot;http://www.baidu.com&quot;&gt;</div><div class="line">  &lt;input type=&quot;text&quot; required=&quot;required&quot;&gt;</div><div class="line">  &lt;button type=&quot;submit&quot;&gt;提交1&lt;/button&gt;</div><div class="line">  &lt;input type=&quot;text&quot; required=&quot;&quot;&gt;</div><div class="line">  &lt;button type=&quot;submit&quot;&gt;提交2&lt;/button&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="labels属性"><a href="#labels属性" class="headerlink" title="labels属性"></a>labels属性</h2><p>为所有可使用标签的表单元素、button、select元素等，定义一个labels属性，属性值为一个NodeList对象，代表该元素所绑定的标签元素所构成的集合。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">function Validate()&#123;</div><div class="line">  var txtName = document.getElementById(&quot;txt_name&quot;);</div><div class="line">  var button = document.getElementById(&quot;btnValidate&quot;);</div><div class="line">  var form = document.getElementById(&quot;testform&quot;);</div><div class="line">  if(txtName.value.trim()==&quot;&quot;)&#123;</div><div class="line">    var label = document.createElement(&quot;label&quot;);</div><div class="line">    label.setAttribute(&quot;for&quot;,&quot;txt_name&quot;);</div><div class="line">    form.insertBefore(label,button);</div><div class="line">    txtName.labels[1].innerHTML = &quot;请输入姓名&quot;;</div><div class="line">    txtName.labels[1].setAttribute(&quot;style&quot;, &quot;font-size:9px;color:red&quot;)</div><div class="line">  &#125;</div><div class="line">&#125;&lt;/script&gt;</div><div class="line">&lt;form id=&quot;testform&quot;&gt;</div><div class="line">  &lt;label for=&quot;txt_name&quot; id=&quot;label&quot;&gt;姓名：&lt;/label&gt;</div><div class="line">  &lt;input id=&quot;txt_name&quot;&gt;</div><div class="line">  &lt;input type=&quot;button&quot; id=&quot;btnValidate&quot; value=&quot;验证&quot; onclick=&quot;Validate()&quot;&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="标签的control属性"><a href="#标签的control属性" class="headerlink" title="标签的control属性"></a>标签的control属性</h2><p>可以在标签内部放置一个表单元素，并且通过该标签的control属性来访问该表单元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">function setValue()&#123;</div><div class="line">  var label = document.getElementById(&quot;label&quot;);</div><div class="line">  var textbox = label.control;</div><div class="line">  textbox.value = &quot;010010&quot;;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;form action=&quot;&quot;&gt;</div><div class="line">  &lt;label id=&quot;label&quot;&gt;</div><div class="line">    邮编：</div><div class="line">    &lt;input id=&quot;txt_zip&quot; maxlength=&quot;6&quot;&gt;</div><div class="line">    &lt;small&gt;请输入六位数字&lt;/small&gt;</div><div class="line">  &lt;/label&gt;</div><div class="line">  &lt;input type=&quot;button&quot; value=&quot;设置默认值&quot; onclick=&quot;setValue()&quot;&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="文本框的placeholder属性"><a href="#文本框的placeholder属性" class="headerlink" title="文本框的placeholder属性"></a>文本框的placeholder属性</h2><ul>
<li>当文本框处于未输入状态时显示的输入提示。</li>
<li>当文本框处于未输入状态且未获取光标焦点时，模糊显示输入提示文字。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; placeholder=&quot;请输入用户名&quot;&gt;</div></pre></td></tr></table></figure>
<h2 id="文本框的list属性"><a href="#文本框的list属性" class="headerlink" title="文本框的list属性"></a>文本框的list属性</h2><ul>
<li>该属性的值为某个datalist元素的id。datalist元素也是HTML5种新增的元素。</li>
</ul>
<ul>
<li>该元素类似于选择框，但是当用户想要设定的值不在选择列表之内时，允许自行输入。</li>
<li>datalist元素本身并不显示，而是当文本框获得焦点是以提示输入的方式显示。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;form&gt;</div><div class="line">  &lt;input type=&quot;text&quot; name=&quot;greeting&quot; list=&quot;greetings&quot;&gt;</div><div class="line">  &lt;datalist id=&quot;greetings&quot; style=&quot;display: none&quot;&gt;</div><div class="line">      &lt;option value=&quot;HTML5学习&quot;&gt;HTML5学习&lt;/option&gt;</div><div class="line">      &lt;option value=&quot;Android学习&quot;&gt;Android学习&lt;/option&gt;</div><div class="line">      &lt;option value=&quot;IOS学习&quot;&gt;IOS学习&lt;/option&gt;</div><div class="line">  &lt;/datalist&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="文本框的AutoComplete属性"><a href="#文本框的AutoComplete属性" class="headerlink" title="文本框的AutoComplete属性"></a>文本框的AutoComplete属性</h2><ul>
<li>帮助输入所用的自动完成功能，是一个既节省输入时间又十分方便的功能。</li>
<li>在HTML5之前，安全方面欠缺，因输入的内容都可见。</li>
<li>用autocomplement属性，安全性方面可以得到很好的控制。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; name=&quot;greeting&quot; autocomplete=&quot;&quot; list=&quot;greetings&quot;&gt;</div><div class="line">&lt;input type=&quot;text&quot; name=&quot;greeting&quot; autocomplete=&quot;on&quot;&gt;</div><div class="line">&lt;input type=&quot;text&quot; name=&quot;greeting&quot; autocomplete=&quot;off&quot;&gt;</div></pre></td></tr></table></figure>
<p>有点懵</p>
<h2 id="文本框的pattern属性"><a href="#文本框的pattern属性" class="headerlink" title="文本框的pattern属性"></a>文本框的pattern属性</h2><ul>
<li>在HTML5中，对Input元素使用pattern属性，并且将属性值设为某个格式的正则表达式，在提交时会针对这些进行检查，检查其内容是否符合给定格式。</li>
<li>当输入的内容不符合给定格式是，则不允许提交，同时在浏览器中显示信心提示文字，提示输入的内容必须符合给定格式。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;form action=&quot;http://www.baidu.com&quot;&gt;</div><div class="line">  请输入内容</div><div class="line">  &lt;input pattern=&quot;[A-Z]&#123;3&#125;&quot; name=&quot;part&quot;&gt;</div><div class="line">  &lt;input type=&quot;submit&quot;&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="文本框的SelectionDirection属性"><a href="#文本框的SelectionDirection属性" class="headerlink" title="文本框的SelectionDirection属性"></a>文本框的SelectionDirection属性</h2><ul>
<li>对input元素与textarea元素，HTML5增加了selectionDirection属性。</li>
<li>当用户在这两个元素中用鼠标选取部分文字时，可以使用该属性来获取选区方向</li>
<li>当用户正向选取文字时，该属性值为“forward”</li>
<li>当用户反向选取文字时，该属性值为”backward”</li>
<li>当用户没有选取任何文字时，该属性值为”forward”</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">function AD()&#123;</div><div class="line">  var control = document.forms[0][&apos;text&apos;];</div><div class="line">  var Direction = control.selectionDirection;</div><div class="line">  alert(Direction);</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;form action=&quot;http://www.baidu.com&quot;&gt;</div><div class="line">  &lt;input type=&quot;text&quot; name=&quot;text&quot;&gt;</div><div class="line">  &lt;input type=&quot;button&quot; value=&quot;点击我&quot; onclick=&quot;AD()&quot;&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="复选框的indeterminate属性"><a href="#复选框的indeterminate属性" class="headerlink" title="复选框的indeterminate属性"></a>复选框的indeterminate属性</h2><ul>
<li>过去：只有选取和费选取这两种状态</li>
<li>HTML5：可在Javascript脚本代码中对该元素使用indeterminate属性，以说明复选框处于“尚未明确是否选取“状态，共三种状态。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;checkbox&quot; indeterminate id=&quot;cb&quot;&gt;属性测试</div><div class="line">&lt;script&gt;</div><div class="line">    var cb = document.getElementById(&quot;cb&quot;);</div><div class="line">    cb.indeterminate = true;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="image提交按钮的height属性与width属性"><a href="#image提交按钮的height属性与width属性" class="headerlink" title="image提交按钮的height属性与width属性"></a>image提交按钮的height属性与width属性</h2><ul>
<li>针对类型为image的input元素，HTML5新增了两个属性，height、width分别用来指定图片按钮的高度和宽度。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;form action=&quot;test.jsp&quot; method=&quot;post&quot;&gt;</div><div class="line">  姓名：&lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;</div><div class="line">  &lt;input type=&quot;image&quot; src=&quot;#&quot; alt=&quot;编辑&quot; width=&quot;100&quot; height=&quot;100&quot;&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h1 id="改良的input元素的种类"><a href="#改良的input元素的种类" class="headerlink" title="改良的input元素的种类"></a>改良的input元素的种类</h1><h2 id="增加和改良的input元素的种类"><a href="#增加和改良的input元素的种类" class="headerlink" title="增加和改良的input元素的种类"></a>增加和改良的input元素的种类</h2><ul>
<li>url</li>
<li>email</li>
<li>date</li>
<li>time</li>
<li>datetime</li>
<li>datetime-local</li>
<li>month</li>
<li>weed</li>
<li>number</li>
<li>range</li>
<li>search</li>
<li>Tel</li>
<li>color</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">&lt;!-- url --&gt;</div><div class="line">&lt;form&gt;</div><div class="line">  &lt;input type=&quot;url&quot; name=&quot;url&quot; value=&quot;http://www.baidu.com&quot;&gt;</div><div class="line">  &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">&lt;!-- email --&gt;</div><div class="line">&lt;form&gt;</div><div class="line">  &lt;input type=&quot;email&quot; name=&quot;name&quot; value=&quot;yo7588@126.com&quot;&gt;</div><div class="line">  &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">&lt;!-- date --&gt;</div><div class="line">  &lt;input type=&quot;date&quot; name=&quot;date&quot; value=&quot;&quot;&gt;</div><div class="line">&lt;!-- time --&gt;</div><div class="line">  &lt;input type=&quot;time&quot; name=&quot;time&quot; value=&quot;10:00&quot;&gt;</div><div class="line">&lt;!-- datetime --&gt;</div><div class="line">  &lt;input type=&quot;datetime&quot; name=&quot; datetime&quot; value=&quot;&quot;&gt;</div><div class="line">&lt;!-- datetime-local --&gt;</div><div class="line">  &lt;input type=&quot;datetime-local&quot; name=&quot;datetimelocal&quot;&gt;</div><div class="line">&lt;!-- month --&gt;</div><div class="line">  &lt;input type=&quot;month&quot; name=&quot;month&quot; value=&quot;2010-10-10&quot;&gt;</div><div class="line">&lt;!-- week --&gt;</div><div class="line">  &lt;input type=&quot;week&quot; name=&quot;week&quot;&gt;</div><div class="line">&lt;!-- number --&gt;</div><div class="line">  &lt;input type=&quot;number&quot; name=&quot;number&quot; value=&quot;15&quot; min=&quot;10&quot; max=&quot;100&quot; step=&quot;5&quot;&gt;</div><div class="line">&lt;!-- 计算器 --&gt;</div><div class="line">&lt;br&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  function sum()&#123;</div><div class="line">    var n1 = document.getElementById(&quot;num1&quot;).valueAsNumber;</div><div class="line">    var n2 = document.getElementById(&quot;num2&quot;).valueAsNumber;</div><div class="line">    document.getElementById(&quot;result&quot;).valueAsNumber = n1 + n2;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">  &lt;form&gt;</div><div class="line">    &lt;input type=&quot;number&quot; id=&quot;num1&quot;&gt;</div><div class="line">    +</div><div class="line">    &lt;input type=&quot;number&quot; id=&quot;num2&quot;&gt;</div><div class="line">    =</div><div class="line">    &lt;input type=&quot;number&quot; id=&quot;result&quot; readonly&gt;</div><div class="line">    &lt;input type=&quot;button&quot; value=&quot;计算&quot; onclick=&quot;sum()&quot;&gt;</div><div class="line">  &lt;/form&gt;</div><div class="line">&lt;!-- range --&gt;</div><div class="line">  &lt;input type=&quot;range&quot; name=&quot;range&quot; min=&quot;10&quot; max=&quot;100&quot; step=&quot;5&quot; value=&quot;25&quot;&gt;</div><div class="line">&lt;!-- search --&gt;</div><div class="line">  &lt;input type=&quot;search&quot;&gt;</div><div class="line">&lt;!-- tel --&gt;</div><div class="line">  &lt;input type=&quot;tel&quot;&gt;</div><div class="line">&lt;!-- color --&gt;</div><div class="line">  &lt;input type=&quot;color&quot; onchange=&quot;document.body.style.backgroundColor = document.getElementById(&apos;currentColor&apos;).textContent = this.value;&quot;&gt;</div><div class="line">  &lt;span id=&quot;currentColor&quot;&gt;&lt;/span&gt;</div><div class="line">&lt;!-- output --&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  function value_change()&#123;</div><div class="line">    var number = document.getElementById(&quot;range&quot;).value;</div><div class="line">    document.getElementById(&quot;output&quot;).value = number;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">  &lt;form id=&quot;testform&quot;&gt;</div><div class="line">    &lt;input type=&quot;range&quot; id=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot; step=&quot;5&quot; onchange=&quot;value_change()&quot;&gt;</div><div class="line">    &lt;output id=&quot;output&quot;&gt;10&lt;/output&gt;</div><div class="line">  &lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="表单验证"><a href="#表单验证" class="headerlink" title="表单验证"></a>表单验证</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function check()&#123;</div><div class="line">    var email = document.getElementById(&quot;email&quot;);</div><div class="line">    if(email.value==&quot;&quot;)&#123;</div><div class="line">      alert(&quot;请输入email&quot;);</div><div class="line">      return false;</div><div class="line">    &#125;else if(!email.checkValidity())&#123;</div><div class="line">      alert(&quot;请输入正确的email地址&quot;);</div><div class="line">      return false;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;form id=&quot;testform&quot; onsubmit=&quot;check()&quot; novalidate=&quot;true&quot;&gt;</div><div class="line">  &lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt;</div><div class="line">  &lt;input type=&quot;email&quot; name=&quot;email&quot; id=&quot;email&quot;&gt;&lt;br&gt;</div><div class="line">  &lt;input type=&quot;submit&quot;&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h1 id="HTML5增强的页面元素"><a href="#HTML5增强的页面元素" class="headerlink" title="HTML5增强的页面元素"></a>HTML5增强的页面元素</h1><h2 id="figure、figcaption、details、summary和mark元素"><a href="#figure、figcaption、details、summary和mark元素" class="headerlink" title="figure、figcaption、details、summary和mark元素"></a>figure、figcaption、details、summary和mark元素</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;!-- figure以及figcaption --&gt;</div><div class="line">&lt;figure&gt;</div><div class="line">  &lt;img src=&quot;https://ws1.sinaimg.cn/large/006tNc79gy1fkl9klyw84j30xy0diady.jpg&quot; alt=&quot;HMTL5&quot;&gt;</div><div class="line">  &lt;img src=&quot;https://ws1.sinaimg.cn/large/006tNc79gy1fkl9klyw84j30xy0diady.jpg&quot; alt=&quot;HMTL5&quot;&gt;</div><div class="line">  &lt;img src=&quot;https://ws1.sinaimg.cn/large/006tNc79gy1fkl9klyw84j30xy0diady.jpg&quot; alt=&quot;HMTL5&quot;&gt;</div><div class="line">  &lt;figcaption&gt;HTML5&lt;/figcaption&gt;</div><div class="line">&lt;/figure&gt;</div><div class="line">&lt;br&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;!-- details以及summary --&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  function detail_onclick(detail)&#123;</div><div class="line">    var p = document.getElementById(&quot;p&quot;);</div><div class="line">    if(detail.open)&#123;</div><div class="line">      p.style.visibility = &quot;hidden&quot;;</div><div class="line">    &#125;else&#123;</div><div class="line">      p.style.visibility = &quot;visible&quot;;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;details id=&quot;detail&quot; onclick=&quot;detail_onclick(this)&quot;&gt;</div><div class="line">  &lt;summary&gt;速度与激情7&lt;/summary&gt;</div><div class="line">  &lt;p id=&quot;p&quot; style=&quot;visibility: hidden&quot;&gt;你好吗？&lt;/p&gt;</div><div class="line">&lt;/details&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!-- mark --&gt;</div><div class="line">&lt;p&gt;这是一段文字。用来&lt;mark&gt;测试&lt;/mark&gt;mark元素&lt;/p&gt;</div></pre></td></tr></table></figure>
<h2 id="progress和meter元素"><a href="#progress和meter元素" class="headerlink" title="progress和meter元素"></a>progress和meter元素</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">#失败</div><div class="line">  &lt;script&gt;</div><div class="line">    function btn()&#123;</div><div class="line">      for(var i=0;i&lt;=100;i++)&#123;</div><div class="line">        // updateprogress(i);</div><div class="line">        setTimeout(function()&#123;</div><div class="line">          updateprogress(i);</div><div class="line">        &#125;,1200));</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    function updateprogress(newValue)&#123;</div><div class="line">      alert(newValue);</div><div class="line">      var progressBar = document.getElmentById(&quot;p&quot;);</div><div class="line">      progressBar.value = newValue;</div><div class="line">      progressBar.getElementsByTagName(&quot;span&quot;)[0].textContent = newValue;</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">  &lt;section&gt;</div><div class="line">    &lt;h2&gt;pregress元素的使用&lt;/h2&gt;</div><div class="line">    &lt;p&gt;完成的百分比&lt;progress style=&quot;background-color: #ededed&quot; id=&quot;p&quot; max=&quot;100&quot;&gt;&lt;span&gt;0&lt;/span&gt;%&lt;/progress&gt;&lt;/p&gt;</div><div class="line">    &lt;input type=&quot;button&quot; onclick=&quot;btn()&quot; value=&quot;点击&quot;&gt;</div><div class="line">  &lt;/section&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">  &lt;!-- meter --&gt;</div><div class="line">&lt;meter value=&quot;40&quot; min=&quot;0&quot; max=&quot;100&quot; low=&quot;10&quot; high=&quot;90&quot; optimum=&quot;80&quot;&gt;&lt;/meter&gt;</div><div class="line">&lt;meter&gt;40%&lt;/meter&gt;</div></pre></td></tr></table></figure>
<h2 id="ol、dl、cite和small元素"><a href="#ol、dl、cite和small元素" class="headerlink" title="ol、dl、cite和small元素"></a>ol、dl、cite和small元素</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;!-- ol --&gt;</div><div class="line">&lt;ol start=&quot;5&quot; reversed&gt;</div><div class="line">  &lt;li&gt;列表1&lt;/li&gt;</div><div class="line">  &lt;li&gt;列表2&lt;/li&gt;</div><div class="line">  &lt;li&gt;列表3&lt;/li&gt;</div><div class="line">  &lt;li&gt;列表4&lt;/li&gt;</div><div class="line">  &lt;li&gt;列表5&lt;/li&gt;</div><div class="line">  &lt;li&gt;列表6&lt;/li&gt;</div><div class="line">&lt;/ol&gt;</div><div class="line"></div><div class="line">&lt;!-- dl --&gt;</div><div class="line">&lt;dl&gt;</div><div class="line">  &lt;dt&gt;Hello&lt;/dt&gt;</div><div class="line">  &lt;dd&gt;你好就是hello&lt;/dd&gt;</div><div class="line">  &lt;dt&gt;博客&lt;/dt&gt;</div><div class="line">  &lt;dd&gt;你喜欢看博客吗&lt;/dd&gt;</div><div class="line">&lt;/dl&gt;</div><div class="line"></div><div class="line">&lt;!-- cite --&gt;</div><div class="line">&lt;h3&gt;cite元素&lt;/h3&gt;</div><div class="line">&lt;p&gt;我最喜欢的电影是&lt;cite&gt;速度与激情&lt;/cite&gt;&lt;/p&gt;</div></pre></td></tr></table></figure>
<h1 id="HTML5编辑API之Range对象"><a href="#HTML5编辑API之Range对象" class="headerlink" title="HTML5编辑API之Range对象"></a>HTML5编辑API之Range对象</h1><h2 id="Range对象基本概念"><a href="#Range对象基本概念" class="headerlink" title="Range对象基本概念"></a>Range对象基本概念</h2><p>一个Range对象代表页面上的一段连续区域。通过Range对象，可以获取或修改网页上的任何区域。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function rangeTest()&#123;</div><div class="line">    var html;</div><div class="line">    showRangeDiv = document.getElementById(&quot;showRange&quot;);</div><div class="line">    selection = document.getSelection();</div><div class="line">    if(selection.rangeCount&gt;0)&#123;</div><div class="line">      html = &quot;你选取了&gt;&quot;+selection.rangeCount+&quot;&lt;内容&lt;br/&gt;&quot;;</div><div class="line">      for(var i=0; i&lt;selection.rangeCount;i++)&#123;</div><div class="line">        var range = selection.getRangeAt(i);</div><div class="line">        html += &quot;第&quot;+(i+1)+&quot;段内容为：&quot;+range+&quot;&lt;br&gt;&quot;;</div><div class="line">      &#125;</div><div class="line">      showRangeDiv.innerHTML = html;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">Range对象基本概念</div><div class="line">&lt;input type=&quot;button&quot; value=&quot;点击我&quot; onclick=&quot;rangeTest()&quot;&gt;</div><div class="line">&lt;div id=&quot;showRange&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
<h2 id="Range方法"><a href="#Range方法" class="headerlink" title="Range方法"></a>Range方法</h2><h3 id="SelectNode-SelectNodeContents-deleteContents"><a href="#SelectNode-SelectNodeContents-deleteContents" class="headerlink" title="SelectNode/SelectNodeContents/deleteContents"></a>SelectNode/SelectNodeContents/deleteContents</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function deleteRangeContent(onlyContent)&#123;</div><div class="line">      var div = document.getElementById(&quot;div&quot;);</div><div class="line">      var rangeObj = document.createRange();</div><div class="line">      if(onlyContent)&#123;</div><div class="line">        rangeObj.selectNodeContents(div);</div><div class="line">        rangeObj.deleteContents();</div><div class="line">      &#125;else&#123;</div><div class="line">        rangeObj.selectNode(div);</div><div class="line">        rangeObj.deleteContents();</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;div id=&quot;div&quot; style=&quot;background-color: #e0a0b0; width:300px;height:50px&quot;&gt;</div><div class="line">  元素中的内容</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;button onclick=&quot;deleteRangeContent(true)&quot;&gt;删除内容&lt;/button&gt;</div><div class="line">&lt;button onclick=&quot;deleteRangeContent(false)&quot;&gt;删除元素&lt;/button&gt;</div></pre></td></tr></table></figure>
<h3 id="setStart-setEnd"><a href="#setStart-setEnd" class="headerlink" title="setStart/setEnd"></a>setStart/setEnd</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function deleteChar()&#123;</div><div class="line">    var div = document.getElementById(&quot;myDiv&quot;);</div><div class="line">    var textNode = div.firstChild;</div><div class="line">    var rangeObj = document.createRange();</div><div class="line">    rangeObj.setStart(textNode,1);</div><div class="line">    rangeObj.setEnd(textNode,4);</div><div class="line">    rangeObj.deleteContents();</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;div id=&quot;myDiv&quot; style=&quot;color:red&quot;&gt;</div><div class="line">  这段文字是用来删除的</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;button onclick=&quot;deleteChar()&quot;&gt;删除文字&lt;/button&gt;</div></pre></td></tr></table></figure>
<h3 id="setStartBefore-setStartAfter-setEndBefore-setEndAfter"><a href="#setStartBefore-setStartAfter-setEndBefore-setEndAfter" class="headerlink" title="setStartBefore/setStartAfter/setEndBefore/setEndAfter"></a>setStartBefore/setStartAfter/setEndBefore/setEndAfter</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function deleteRow()&#123;</div><div class="line">    var table = document.getElementById(&quot;myTable&quot;);</div><div class="line">    if(table.rows.length &gt; 0)&#123;</div><div class="line">      var row = table.rows[0];</div><div class="line">      var rangeObj = document.createRange();</div><div class="line">      rangeObj.setStartBefore(row);</div><div class="line">      rangeObj.setEndAfter(row);</div><div class="line">      rangeObj.deleteContents();</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;table id=&quot;myTable&quot; border=&quot;1&quot; cellsapcing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;</div><div class="line">  &lt;tr&gt;</div><div class="line">    &lt;td&gt;内容1&lt;/td&gt;</div><div class="line">    &lt;td&gt;内容2&lt;/td&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">  &lt;tr&gt;</div><div class="line">    &lt;td&gt;内容3&lt;/td&gt;</div><div class="line">    &lt;td&gt;内容4&lt;/td&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div><div class="line">&lt;button onclick=&quot;deleteRow()&quot;&gt;删除第一行&lt;/button&gt;</div></pre></td></tr></table></figure>
<h2 id="Range对象方法"><a href="#Range对象方法" class="headerlink" title="Range对象方法"></a>Range对象方法</h2><h3 id="cloneRange方法、cloneContents方法、extractContents方法与createContextual-Fragment方法"><a href="#cloneRange方法、cloneContents方法、extractContents方法与createContextual-Fragment方法" class="headerlink" title="cloneRange方法、cloneContents方法、extractContents方法与createContextual-Fragment方法"></a>cloneRange方法、cloneContents方法、extractContents方法与createContextual-Fragment方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function cloneRnge()&#123;</div><div class="line">    var rangeObj = document.createRange();</div><div class="line">    rangeObj.selectNodeContents(document.getElementById(&quot;p&quot;));</div><div class="line">    var rangeClone = rangeObj.cloneRange();</div><div class="line">    alert(rangeClone.toString());</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;p id=&quot;p&quot;&gt;这里是随便书写的内容&lt;/p&gt;</div><div class="line">&lt;button onclick=&quot;cloneRnge()&quot;&gt;克隆&lt;/button&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function cloneContent()&#123;</div><div class="line">    var div = document.getElementById(&quot;div&quot;);</div><div class="line">    var rangeObj = document.createRange();</div><div class="line">    rangeObj.selectNodeContents(div);</div><div class="line">    var docFrangMent = rangeObj.cloneContents();</div><div class="line">    div.appendChild(docFrangMent)</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">  &lt;div id=&quot;div&quot;&gt;</div><div class="line">    你好吗？</div><div class="line">    &lt;br&gt;</div><div class="line">    &lt;button onclick=&quot;cloneContent()&quot;&gt;克隆&lt;/button&gt;</div><div class="line">    &lt;br&gt;</div><div class="line">  &lt;/div&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function moveContent()&#123;</div><div class="line">    var srcDiv = document.getElementById(&quot;srcDiv&quot;);</div><div class="line">    var disDiv = document.getElementById(&quot;disDiv&quot;);</div><div class="line">    var rangeObj = document.createRange();</div><div class="line">    rangeObj.selectNodeContents(srcDiv);</div><div class="line">    var docFragment = rangeObj.extractContents();</div><div class="line">    disDiv.appendChild(docFragment)</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;div id=&quot;srcDiv&quot; style=&quot;background-color: aquamarine;width: 300px; height: 50px&quot;&gt;你好吗？&lt;/div&gt;</div><div class="line">&lt;div id=&quot;disDiv&quot; style=&quot;background-color: bisque;width: 300px; height: 50px&quot;&gt;你好吗？&lt;/div&gt;</div><div class="line">&lt;button onclick=&quot;moveContent()&quot;&gt;移动元素&lt;/button&gt;</div></pre></td></tr></table></figure>
<h3 id="insertNode、compareBoundaryPoints方法"><a href="#insertNode、compareBoundaryPoints方法" class="headerlink" title="insertNode、compareBoundaryPoints方法"></a>insertNode、compareBoundaryPoints方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function moveButton()&#123;</div><div class="line">    var btn = document.getElementById(&quot;button&quot;);</div><div class="line">    var selection = document.getSelection();</div><div class="line">    if(selection.rangeCount &gt; 0) &#123;</div><div class="line">      var range = selection.getRangeAt(0);</div><div class="line">      range.insertNode(btn)</div><div class="line"></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;div onmouseup=&quot;moveButton()&quot; style=&quot;width: 400px; background-color:#ededed;&quot;&gt;</div><div class="line">  这里是我随便书写的一些文字。这里是我随便书写的一些文字。这里是我随便书写的一些文字。这里是我随便书写的一些文字。这里是我随便书写的一些文字。这里是我随便书写的一些文字。这里是我随便书写的一些文字。这里是我随便书写的一些文字。这里是我随便书写的一些文字。</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;button id=&quot;button&quot;&gt;按钮&lt;/button&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function testPlace()&#123;</div><div class="line">  var boldText = document.getElementById(&quot;boldTest&quot;);</div><div class="line">  var boldRange = document.createRange();</div><div class="line">  boldRange.selectNodeContents(boldText.firstChild);</div><div class="line">  var selection = document.getSelection();</div><div class="line">  if(selection.rangeCount&gt;0)&#123;</div><div class="line">    var selRange = selection.getRangeAt(0);</div><div class="line">    if(selRange.compareBoundaryPoints(Range.START_TO_END,boldRange)&lt;=0)&#123;</div><div class="line">      alert(&quot;选取的文字在粗体前面&quot;);</div><div class="line">    &#125;else&#123;</div><div class="line">      if(selRange.compareBoundaryPoints(Range.END_TO_START,boldRange)&gt;=0)&#123;</div><div class="line">        alert(&quot;选择的文字在粗体后面&quot;);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">这是一段文字,我也&lt;b id=&quot;boldTest&quot;&gt;不知道&lt;/b&gt;写什么，随便吧。</div><div class="line">&lt;br&gt;</div><div class="line">&lt;button onclick=&quot;testPlace()&quot;&gt;位置比较&lt;/button&gt;</div></pre></td></tr></table></figure>
<h3 id="collapse、detach方法"><a href="#collapse、detach方法" class="headerlink" title="collapse、detach方法"></a>collapse、detach方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  var rangeObj = document.createRange();</div><div class="line">  function selectRangeConents()&#123;</div><div class="line">    var div = document.getElementById(&quot;div&quot;);</div><div class="line">    rangeObj.selectNode(div);</div><div class="line">    rangeObj.detach();</div><div class="line">  &#125;</div><div class="line">    function unselect()&#123;</div><div class="line">      rangeObj.collapse(false);</div><div class="line">    &#125;</div><div class="line">    function shwoRange()&#123;</div><div class="line">      alert(rangeObj.toString());</div><div class="line">    &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">  &lt;div id=&quot;div&quot; style=&quot;background-color: bisque;width: 300px;height:50px;&quot;&gt;元素中的内容&lt;/div&gt;</div><div class="line">  &lt;button onclick=&quot;selectRangeConents()&quot;&gt;选择元素&lt;/button&gt;</div><div class="line">  &lt;button onclick=&quot;unselect()&quot;&gt;取消元素&lt;/button&gt;</div><div class="line">  &lt;button onclick=&quot;shwoRange()&quot;&gt;显示Range内容&lt;/button&gt;</div></pre></td></tr></table></figure>
<h1 id="HTML5-Canvas-使用路径"><a href="#HTML5-Canvas-使用路径" class="headerlink" title="HTML5 Canvas 使用路径"></a>HTML5 Canvas 使用路径</h1><h2 id="HTML5绘制圆形"><a href="#HTML5绘制圆形" class="headerlink" title="HTML5绘制圆形"></a>HTML5绘制圆形</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;body onload=&quot;draw(&apos;canvas&apos;)&quot;&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">    function draw(id)&#123;</div><div class="line">      var canvas = document.getElementById(id);</div><div class="line">      if(canvas == null)&#123;</div><div class="line">        return false;</div><div class="line">      &#125;</div><div class="line">      var context = canvas.getContext(&quot;2d&quot;);</div><div class="line">      context.fillStyle = &quot;#eeeeef&quot;;</div><div class="line">      context.fillRect(0,0,600,700);</div><div class="line">      for(var i = 0; i&lt;=10;i++)&#123;</div><div class="line">        context.beginPath();</div><div class="line">        context.arc(i*25,i*25,i*10,0,Math.PI*2,true);</div><div class="line">        context.closePath();</div><div class="line">        context.fillStyle = &quot;rgba(255,0,0,0.25)&quot;;</div><div class="line">        context.fill();</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">  &lt;canvas id=&quot;canvas&quot; width=&quot;600px&quot; height=&quot;700px&quot;&gt;&lt;/canvas&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="HTML5-moveTo与lineTo"><a href="#HTML5-moveTo与lineTo" class="headerlink" title="HTML5 moveTo与lineTo"></a>HTML5 moveTo与lineTo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">  &lt;script&gt;</div><div class="line">    function draw(id)&#123;</div><div class="line">      var canvas = document.getElementById(id);</div><div class="line">      var context = canvas.getContext(&quot;2d&quot;);</div><div class="line">      context.fillStyle = &quot;#eeeeef&quot;;</div><div class="line">      context.fillRect(0,0,300,400);</div><div class="line">      var dx = 150;</div><div class="line">      var dy = 150;</div><div class="line">      var s = 100;</div><div class="line">      context.beginPath();</div><div class="line">      context.fillStyle = &quot;rgb(100,255,100)&quot;;</div><div class="line">      context.strokeStyle = &quot;rgb(0,0,100)&quot;;</div><div class="line">      var x = Math.sin(0);</div><div class="line">      var y = Math.cos(0);</div><div class="line">      var dig = Math.PI / 15*11;</div><div class="line">      for(var i = 0; i&lt;30; i++)&#123;</div><div class="line">        var x = Math.sin(i*dig);</div><div class="line">        var y = Math.cos(i*dig);</div><div class="line">        context.lineTo(dx+x*s,dy+y*s);</div><div class="line">      &#125;</div><div class="line">      context.closePath();</div><div class="line">      context.fill();</div><div class="line">      context.stroke();</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">  &lt;body onload=&quot;draw(&apos;canvas&apos;)&quot;&gt;</div><div class="line"></div><div class="line">    &lt;canvas id=&quot;canvas&quot; width=&quot;300&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</div><div class="line">  &lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="使用bezierCurveTo绘制贝塞尔曲线"><a href="#使用bezierCurveTo绘制贝塞尔曲线" class="headerlink" title="使用bezierCurveTo绘制贝塞尔曲线"></a>使用bezierCurveTo绘制贝塞尔曲线</h2><ul>
<li><code>bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y)</code></li>
<li>控制点</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">  &lt;script&gt;</div><div class="line">    function draw(id)&#123;</div><div class="line">      var canvas = document.getElementById(id);</div><div class="line">      if(canvas == null)&#123;</div><div class="line">        return false;</div><div class="line">      &#125;</div><div class="line">      var context = canvas.getContext(&quot;2d&quot;);</div><div class="line">      context.fillStyle = &quot;#eeeeef&quot;;</div><div class="line">      context.fillRect(0,0,300,400);</div><div class="line">      var dx = 150;</div><div class="line">      var dy = 150;</div><div class="line">      var s = 100;</div><div class="line">      context.beginPath();</div><div class="line">      context.fillStyle = &quot;rgb(100,255,100)&quot;;</div><div class="line">      var x = Math.sin(0);</div><div class="line">      var y = Math.cos(0);</div><div class="line">      var dig = Math.PI / 15*11;</div><div class="line">      context.moveTo(dx,dy);</div><div class="line">      for(var i = 0; i&lt;30;i++)&#123;</div><div class="line">          var x = Math.sin(i*dig);</div><div class="line">          var y = Math.cos(i*dig);</div><div class="line">          context.bezierCurveTo(dx+x*s,dy+y*s-100,dx+x*s+100,dy+y*s,dx+x*s,dy+y*s);</div><div class="line">      &#125;</div><div class="line">      context.closePath();</div><div class="line">      context.fill();</div><div class="line">      context.stroke();</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body onload=&quot;draw(&apos;canvas&apos;)&quot;&gt;</div><div class="line">  &lt;!-- bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y) --&gt;</div><div class="line">  &lt;canvas id=&quot;canvas&quot; width=&quot;300px&quot; height=&quot;400px&quot;&gt;&lt;/canvas&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h1 id="Canvas-绘制渐变图形与绘制变形图形"><a href="#Canvas-绘制渐变图形与绘制变形图形" class="headerlink" title="Canvas 绘制渐变图形与绘制变形图形"></a>Canvas 绘制渐变图形与绘制变形图形</h1><h2 id="Canvas-绘制渐变图形-线性"><a href="#Canvas-绘制渐变图形-线性" class="headerlink" title="Canvas 绘制渐变图形(线性)"></a>Canvas 绘制渐变图形(线性)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">LinerGradient</div><div class="line">context.createLinerGradient(xstart,ystart,xend,yend)</div><div class="line">addColorStop(offset,color)</div><div class="line">addColorStop(offset,color)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  function draw(id)&#123;</div><div class="line">    var canvas = document.getElementById(id);</div><div class="line">    var context = canvas.getContext(&quot;2d&quot;);</div><div class="line">    var g1 = context.createLinearGradient(0,0,0,300);</div><div class="line">    g1.addColorStop(0,&quot;rgb(255,255,0)&quot;);</div><div class="line">    g1.addColorStop(1,&quot;rgb(0,255,255)&quot;);</div><div class="line">    context.fillStyle = g1;</div><div class="line">    context.fillRect(0,0,500,500);</div><div class="line">    var g2 = context.createLinearGradient(0,0,300,0);</div><div class="line">    g2.addColorStop(0,&quot;rgba(0,0,255,0.5)&quot;);</div><div class="line">    g2.addColorStop(1,&quot;rgba(255,0,0,0.5)&quot;);</div><div class="line">    for(var i = 0;i&lt;10;i++)&#123;</div><div class="line">      context.beginPath();</div><div class="line">      context.fillStyle = g2;</div><div class="line">      context.arc(i*25,i*25,i*10,0,Math.PI*2,true);</div><div class="line">      context.closePath();</div><div class="line">      context.fill();</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;body onload=&quot;draw(&apos;canvas&apos;)&quot;&gt;</div><div class="line">  &lt;canvas id=&quot;canvas&quot; width=:&quot;500&quot; height=&quot;500&quot;&gt;&lt;/canvas&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="Canvas-绘制径向渐变"><a href="#Canvas-绘制径向渐变" class="headerlink" title="Canvas 绘制径向渐变"></a>Canvas 绘制径向渐变</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"> &lt;head&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">    function draw(id)&#123;</div><div class="line">      var canvas = document.getElementById(id);</div><div class="line">      if(canvas == null)&#123;</div><div class="line">        return false;</div><div class="line">      &#125;</div><div class="line">      var context = canvas.getContext(&quot;2d&quot;);</div><div class="line">      var g1 = context.createRadialGradient(400,50,50,400,50,400);</div><div class="line">      g1.addColorStop(0.1,&quot;rgb(255,255,0)&quot;);</div><div class="line">      g1.addColorStop(0.3,&quot;rgb(255,0,255)&quot;);</div><div class="line">      g1.addColorStop(1,&quot;rgb(0,255,255)&quot;);</div><div class="line">      context.fillStyle = g1;</div><div class="line">      context.fillRect(0,0,500,500);</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line"></div><div class="line">&lt;body onload=&quot;draw(&apos;canvas&apos;)&quot;&gt;</div><div class="line">  &lt;canvas id=&quot;canvas&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;&lt;/canvas&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="Canvas-绘制变形图形"><a href="#Canvas-绘制变形图形" class="headerlink" title="Canvas 绘制变形图形"></a>Canvas 绘制变形图形</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">translate(x,y)</div><div class="line">scale(x,y)</div><div class="line">rotate(deg)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"> &lt;head&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">    function draw(id)&#123;</div><div class="line">      var canvas = document.getElementById(id);</div><div class="line">      if(canvas == null)&#123;</div><div class="line">        return false;</div><div class="line">      &#125;</div><div class="line">      var context = canvas.getContext(&quot;2d&quot;);</div><div class="line">      context.fillStyle = &quot;#eeeeef&quot;;</div><div class="line">      context.fillRect(0,0,500,500);</div><div class="line">      context.translate(300,50);</div><div class="line">      context.fillStyle = &quot;rgba(255,0,0,0.25)&quot;;</div><div class="line">      for(var i = 0;i&lt;50;i++)&#123;</div><div class="line">        context.translate(25,25);</div><div class="line">        context.scale(0.95,0.95);</div><div class="line">        context.rotate(Math.PI/10);</div><div class="line">        context.fillRect(0,0,100,50);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body onload=&quot;draw(&apos;canvas&apos;)&quot;&gt;</div><div class="line">  &lt;canvas id=&quot;canvas&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;&lt;/canvas&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h1 id="Canvas-图形绘制处理"><a href="#Canvas-图形绘制处理" class="headerlink" title="Canvas 图形绘制处理"></a>Canvas 图形绘制处理</h1><h2 id="Canvas-图形组合"><a href="#Canvas-图形组合" class="headerlink" title="Canvas 图形组合"></a>Canvas 图形组合</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;!--globalCompositeOperation = type 属性--&gt;</div><div class="line">scource-atop</div><div class="line"> source-in</div><div class="line"> source-out</div><div class="line"> source-over</div><div class="line"> destination-atop</div><div class="line"> destination-in</div><div class="line"> destination-out</div><div class="line"> destination-over</div><div class="line"> lighter</div><div class="line"> copy</div><div class="line"> xor</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"> &lt;head&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">    function draw(id)&#123;</div><div class="line">      var canvas = document.getElementById(id);</div><div class="line">      var context = canvas.getContext(&quot;2d&quot;);</div><div class="line">      var oprtns = new Array(</div><div class="line">        &quot;scource-atop&quot;,</div><div class="line">        &quot;source-in&quot;,</div><div class="line">        &quot;source-out&quot;,</div><div class="line">        &quot;source-over&quot;,</div><div class="line">        &quot;destination-atop&quot;,</div><div class="line">        &quot;destination-in&quot;,</div><div class="line">        &quot;destination-out&quot;,</div><div class="line">        &quot;destination-over&quot;,</div><div class="line">        &quot;lighter&quot;,</div><div class="line">        &quot;copy&quot;,</div><div class="line">        &quot;xor&quot;</div><div class="line">      );</div><div class="line">      i = 3;</div><div class="line">      context.fillStyle = &quot;blue&quot;;</div><div class="line">      context.fillRect(10,10,60,60);</div><div class="line">      context.globalCompositeOperation = oprtns[i];</div><div class="line">      context.beginPath();</div><div class="line">      context.fillStyle = &quot;red&quot;;</div><div class="line">      context.arc(60,60,30,Math.PI*2,false);</div><div class="line">      context.fill();</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line"></div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body onload=&quot;draw(&apos;canvas&apos;)&quot;&gt;</div><div class="line">  &lt;canvas id=&quot;canvas&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;&lt;/canvas&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="Canvas-给图形绘制阴影"><a href="#Canvas-给图形绘制阴影" class="headerlink" title="Canvas 给图形绘制阴影"></a>Canvas 给图形绘制阴影</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">shadowOffsetX</div><div class="line">shadowOffsetY</div><div class="line">shadowColor</div><div class="line">shadowBlur</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line"> &lt;script&gt;</div><div class="line">    function draw(id)&#123;</div><div class="line">      var canvas = document.getElementById(id);</div><div class="line">      var context = canvas.getContext(&quot;2d&quot;);</div><div class="line">      context.fillStyle = &quot;#eeeeef&quot;;</div><div class="line">      context.fillRect(0,0,500,500);</div><div class="line">      context.shadowOffsetX = 20;</div><div class="line">      context.shadowOffsetY = 20;</div><div class="line">      context.shadowColor = &quot;rgba(100,100,100,0.5)&quot;;</div><div class="line">      context.shadowBlur = 7.5;</div><div class="line"></div><div class="line">      context.translate(0,50);</div><div class="line">      for(var i=0;i&lt;3;i++)&#123;</div><div class="line">        context.translate(100,100);</div><div class="line">        create5Star(context);</div><div class="line">        context.fill();</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    function create5Star(context)&#123;</div><div class="line">      var n = 0;</div><div class="line">      var dx = 100;</div><div class="line">      var dy = 0;</div><div class="line">      var s = 50;</div><div class="line">      context.beginPath();</div><div class="line">      context.fillStyle = &quot;rgba(255,0,0,0.5)&quot;;</div><div class="line">      var x = Math.sin(0);</div><div class="line">      var y = Math.cos(0);</div><div class="line">      var dig = Math.PI /5*4;</div><div class="line">      for(var i=0;i&lt;5;i++)&#123;</div><div class="line">          var x = Math.sin(i*dig);</div><div class="line">          var y = Math.cos(i*dig);</div><div class="line">          context.lineTo(dx+x*s,dy+y*s)</div><div class="line">      &#125;</div><div class="line">      context.closePath()</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line"></div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body onload=&quot;draw(&apos;canvas&apos;)&quot;&gt;</div><div class="line">  &lt;canvas id=&quot;canvas&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;&lt;/canvas&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="Canvas-使用图像"><a href="#Canvas-使用图像" class="headerlink" title="Canvas 使用图像"></a>Canvas 使用图像</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">context.drawImage(img,x,y);</div><div class="line">context.drawImage(img,x,y,w,h);</div><div class="line">context.drawImage(img,sx,sy,sw,sh,dx,dy,dw,dh);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line"> &lt;script&gt;</div><div class="line">    function draw(id)&#123;</div><div class="line">      var canvas = document.getElementById(id);</div><div class="line">      var context = canvas.getContext(&quot;2d&quot;);</div><div class="line">      context.tillStyle = &quot;#eeeeef&quot;;</div><div class="line">      context.fillRect(0,0,500,500);</div><div class="line">      image = new Image();</div><div class="line">      image.src = &quot;https://ws4.sinaimg.cn/large/006tKfTcgy1fkkdfpuicxj30kw0ldgoy.jpg&quot;;</div><div class="line">      image.onload = function()&#123;</div><div class="line">        drawImage(context,image);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    function drawImage(context,image)&#123;</div><div class="line">      context.drawImage(image,0,0,200,200);</div><div class="line">      context.drawImage(image,270,270,380,380,230,230,120,110);</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body onload=&quot;draw(&apos;canvas&apos;)&quot;&gt;</div><div class="line">  &lt;canvas id=&quot;canvas&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;&lt;/canvas&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h1 id="Web-Storage概述"><a href="#Web-Storage概述" class="headerlink" title="Web Storage概述"></a>Web Storage概述</h1><h2 id="Web-Storage概述-1"><a href="#Web-Storage概述-1" class="headerlink" title="Web Storage概述"></a>Web Storage概述</h2><ul>
<li>过去的问题：使用cookies在客户端保存诸如存储如用户名等简单用户信息，但用cookies储存永久数据存在几个问题：<ul>
<li>大小：ccookies的大小被限制在4kb</li>
<li>宽带：cookies是随HTTP事务一起被发送的，因此会浪费一部分发送cookies时使用的宽带</li>
<li>复杂性：要正确的操纵cookies是很困难的。</li>
</ul>
</li>
<li>功能是在web上储存数据的功能。这里的储存是针对客户端本地而言的。<ul>
<li>sessionStorage：讲述徐保存在session对象中。session是指用户在浏览某个网站时，从进入网站到浏览器关闭所经过的这段时间，也就是用户浏览这个网络战所花费的时间。session对象可以用来保存在这段时间内所要求保存的任何数据。</li>
<li>localStorage：将数据保存在客户端本地的硬件设备（硬盘）中，即使浏览器被关闭了，该数据仍然存在，下一次打开浏览器访问网站是仍然可以继续使用。通常用来保存用户名和密码。</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">  &lt;head&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">  function saveStorage(id)&#123;</div><div class="line">    var target = document.getElementById(id);</div><div class="line">    var str = target.value;</div><div class="line">  // 保存数据的方法: key value</div><div class="line">    sessionStorage.setItem(&quot;message&quot;,str);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  function loadStorage(id)&#123;</div><div class="line">    var target = document.getElementById(id);</div><div class="line">  // 读取数据</div><div class="line">    var msg = sessionStorage.getItem(&quot;message&quot;);</div><div class="line">    target.innerHTML = msg;</div><div class="line">  &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;p id=&quot;msg&quot;&gt;&lt;/p&gt;</div><div class="line">  &lt;input type=&quot;text&quot; id=&quot;input&quot;&gt;</div><div class="line">  &lt;input type=&quot;button&quot; value=&quot;保存数据&quot; onclick=&quot;saveStorage(&apos;input&apos;)&quot;&gt;</div><div class="line">  &lt;input type=&quot;button&quot; value=&quot;读取数据&quot; onclick=&quot;loadStorage(&apos;msg&apos;)&quot;&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">function saveStorage(id)&#123;</div><div class="line">  var target = document.getElementById(id);</div><div class="line">  var str = target.value;</div><div class="line">  localStorage.setItem(&quot;message&quot;, str)</div><div class="line">&#125;</div><div class="line"></div><div class="line">function loadStorage(id)&#123;</div><div class="line">  var target = document.getElementById(id);</div><div class="line">  var msg = localStorage.getItem(&quot;message&quot;);</div><div class="line">  target.innerHTML = msg;</div><div class="line">&#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;p id=&quot;msg&quot;&gt;&lt;/p&gt;</div><div class="line">  &lt;input type=&quot;text&quot; id=&quot;input&quot;&gt;</div><div class="line">  &lt;input type=&quot;button&quot; value=&quot;保存数据&quot; onclick=&quot;saveStorage(&apos;input&apos;)&quot;&gt;</div><div class="line">  &lt;input type=&quot;button&quot; value=&quot;读取数据&quot; onclick=&quot;loadStorage(&apos;msg&apos;)&quot;&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="简单Web留言本"><a href="#简单Web留言本" class="headerlink" title="简单Web留言本"></a>简单Web留言本</h2><p>失败</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">function saveStorage(id)&#123;</div><div class="line">  var data = document.getElementById(id).value;</div><div class="line">  var time = new Date().getTime();</div><div class="line">  localStorage.setItem(time,data);</div><div class="line">  alert(&quot;数据已储存&quot;);</div><div class="line">  localStorage(&apos;msg&apos;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">function loadStorage(id)&#123;</div><div class="line">  var result = &quot;&lt;table border = &apos;1&apos;&gt;&quot;;</div><div class="line">  for(var = 0;i&lt;localStorage.length;i++)&#123;</div><div class="line">      var key = localStorage.key(i);</div><div class="line">      var value = localStorage.getItem(key);</div><div class="line">      var date = new Date();</div><div class="line">      date.setTime(key);</div><div class="line">      result += &quot;&lt;tr&gt;&lt;td&gt;&quot;+value+&quot;&lt;/td&gt;&lt;td&gt;&quot;+date+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;;</div><div class="line">  &#125;</div><div class="line">  result += &quot;&lt;/table&gt;&quot;;</div><div class="line">  var target = document.getElementById(id);</div><div class="line">  target.innerHTML = result;</div><div class="line">&#125;</div><div class="line"></div><div class="line">function clearStorage()&#123;</div><div class="line">  localStorage.clear();</div><div class="line">  alert(&quot;数据已经删除&quot;);</div><div class="line">  loadStorage(&apos;msg&apos;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;p id=&quot;msg&quot;&gt;&lt;/p&gt;</div><div class="line">&lt;textarea id=&quot;memo&quot; cols=&quot;60&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt;&lt;br&gt;</div><div class="line">&lt;input type=&quot;button&quot; value=&quot;追加数据&quot; onclick=&quot;saveStorage(&apos;memo&apos;)&quot;&gt;</div><div class="line">&lt;input type=&quot;button&quot; value=&quot;删除数据&quot; onclick=&quot;clearStorage()&quot;&gt;</div></pre></td></tr></table></figure>
<h2 id="作为简单数据库来利用"><a href="#作为简单数据库来利用" class="headerlink" title="作为简单数据库来利用"></a>作为简单数据库来利用</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">saveStorage</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> data = <span class="keyword">new</span> <span class="built_in">Object</span>;</div><div class="line">  data.name = <span class="built_in">document</span>.getElementById(<span class="string">"name"</span>).value;</div><div class="line">  data.email = <span class="built_in">document</span>.getElementById(<span class="string">"email"</span>).value;</div><div class="line">  data.tel = <span class="built_in">document</span>.getElementById(<span class="string">"tel"</span>).value;</div><div class="line">  data.memo = <span class="built_in">document</span>.getElementById(<span class="string">"memo"</span>).value;</div><div class="line">  <span class="keyword">var</span> str = <span class="built_in">JSON</span>.stringify(data);</div><div class="line">  localStorage.setItem(data.name,str);</div><div class="line">  alert(<span class="string">"数据已经保存"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">findStorage</span>(<span class="params">id</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> find = <span class="built_in">document</span>.getElementById(<span class="string">'find'</span>).value;</div><div class="line">  <span class="keyword">var</span> str = localStorage.getItem(find);</div><div class="line">  <span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(str);</div><div class="line">  <span class="keyword">var</span> result = <span class="string">"姓名："</span>+data.name + <span class="string">"&lt;br&gt;"</span>;</div><div class="line">      result += <span class="string">"Email："</span>+data.email + <span class="string">"&lt;br&gt;"</span>;</div><div class="line">      result += <span class="string">"话号码："</span>+data.tel + <span class="string">"&lt;br&gt;"</span>;</div><div class="line">      result += <span class="string">"备注："</span>+data.memo + <span class="string">"&lt;br&gt;"</span>;</div><div class="line">  <span class="keyword">var</span> target = <span class="built_in">document</span>.getElementById(id);</div><div class="line">  target.innerHTML = result;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>姓名：<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>Email：<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"email"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>电话号码：<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"tel"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>备注：<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"memo"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"保存"</span> <span class="attr">onclick</span>=<span class="string">"saveStorage()"</span>&gt;</span>  <span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>检索：</div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"find"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"检索"</span> <span class="attr">onclick</span>=<span class="string">"findStorage('msg')"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"msg"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h1 id="本地数据库"><a href="#本地数据库" class="headerlink" title="本地数据库"></a>本地数据库</h1><h2 id="本地数据库的基本概念"><a href="#本地数据库的基本概念" class="headerlink" title="本地数据库的基本概念"></a>本地数据库的基本概念</h2><p>大大丰富了客户端本地可以存储的内容，添加了很多功能将原本必须要保存在富强武器上的数据转为保存在客户端本地，从而大大提高了WEB应用程序性能，减轻了服务器的负担，使用web时代重新回到了“客户端为重、服务端为轻”的时代。</p>
<ul>
<li>可以像访问本地文件那样轻松地对内置数据库进行直接访问</li>
<li>内置了两种本地数据库：SQLLite、indexedDB</li>
</ul>
<ol>
<li>创建访问数据库的对象</li>
<li>使用事务处理</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  var db = openDatabase(&quot;mydb&quot;,&quot;1.0&quot;,&quot;test db&quot;,1024*100);</div><div class="line">  db.transaction(function(tx)&#123;</div><div class="line">    tx.executeSql(&quot;&quot;);</div><div class="line">  &#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="用executesql来执行查询"><a href="#用executesql来执行查询" class="headerlink" title="用executesql来执行查询"></a>用executesql来执行查询</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">transaction.excuteSqul(sqlquery,[],dataHandler,errorHandler);</div><div class="line">function dataHandler(transaction,results);</div><div class="line">function errorHandler(transaction,errmsg);</div><div class="line">rows.length获取记录的条数</div><div class="line">rows属性 rows.length rows[index]</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">transaction.excuteSqul(&quot;&quot;,[],function()&#123;&#125;,function()&#123;&#125;);</div></pre></td></tr></table></figure>
<h2 id="使用数据库实现Web留言本"><a href="#使用数据库实现Web留言本" class="headerlink" title="使用数据库实现Web留言本"></a>使用数据库实现Web留言本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">var datatable = null;</div><div class="line">var db = openDatabase(&quot;MyData&quot;,&quot;&quot;,&quot;My Database&quot;,1024*100);</div><div class="line">function init()&#123;</div><div class="line">  datatable = document.getElementById(&quot;datatable&quot;);</div><div class="line">  showAllData();</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">function removeAllData()&#123;</div><div class="line">  for(var i = datatable.childNodes.length - 1;i &gt;= 0;i--)&#123;</div><div class="line">    datatable.removeChild(datatable.childNodes[i]);</div><div class="line">  &#125;</div><div class="line">  var tr = document.createElement(&quot;tr&quot;);</div><div class="line">  var th1 = document.createElement(&quot;th&quot;);</div><div class="line">  var th2 = document.createElement(&quot;th&quot;);</div><div class="line">  var th3 = document.createElement(&quot;th&quot;);</div><div class="line">  th1.innerHTML = &quot;姓名&quot;;</div><div class="line">  th2.innerHTML = &quot;留言&quot;;</div><div class="line">  th3.innerHTML = &quot;时间&quot;;</div><div class="line">  tr.appendChild(th1);</div><div class="line">  tr.appendChild(th2);</div><div class="line">  tr.appendChild(th3);</div><div class="line">  datatable.appendChild(tr);</div><div class="line">&#125;</div><div class="line"></div><div class="line">function showData(row)&#123;</div><div class="line">  var tr = document.createElement(&quot;tr&quot;);</div><div class="line">  var td1 = document.createElement(&quot;td&quot;);</div><div class="line">  td1.innerHTML = row.name;</div><div class="line">  var td2 = document.createElement(&quot;td&quot;);</div><div class="line">  td2.innerHTML = row.message;</div><div class="line">  var td3 = document.createElement(&quot;td&quot;);</div><div class="line">  var t = new Date();</div><div class="line">  t.setTime(row.time);</div><div class="line">  td3.innerHTML = t.toLocaleDateString()+&quot;&quot;+ t.toLocaleTimeString();</div><div class="line">  tr.appendChild(td1);</div><div class="line">  tr.appendChild(td2);</div><div class="line">  tr.appendChild(td3);</div><div class="line">  datatable.appendChild(tr);</div><div class="line">&#125;</div><div class="line"></div><div class="line">function showAllData()&#123;</div><div class="line">  db.transaction(function(tx)&#123;</div><div class="line">    tx.executeSql(&quot;CREATE TABLE IF NOT EXISTS MsgData(name TEXT,message TEXT,time INTEGER)&quot;,[]);</div><div class="line">    tx.executeSql(&quot;SELECT * FROM MsgData&quot;, [], function(tx,rs)&#123;</div><div class="line">      removeAllData();</div><div class="line">      for(var i = 0;i&lt;rs.rows.length;i++)&#123;</div><div class="line">        showData(rs.rows.item(i));</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  &#125;)</div><div class="line">&#125;</div><div class="line">function addData(name,message,time)&#123;</div><div class="line">  db.transaction(function(tx)&#123;</div><div class="line">    tx.executeSql(&quot;INSERT INTO MsgData VALUES(?,?,?)&quot;,[name,message,time],function(tx,rs)&#123;</div><div class="line">      alert(&quot;成功&quot;);</div><div class="line">    &#125;,</div><div class="line">    function(tx,error)&#123;</div><div class="line">      alert(error.source+&quot;::&quot;+error.message);</div><div class="line">    &#125;</div><div class="line">  )</div><div class="line">  &#125;)</div><div class="line">&#125;</div><div class="line"></div><div class="line">function saveData()&#123;</div><div class="line">  var name = document.getElementById(&quot;name&quot;).value;</div><div class="line">  var memo = document.getElementById(&quot;memo&quot;).value;</div><div class="line">  var time = new Date().getTime();</div><div class="line">  addData(name,memo,time);</div><div class="line">  showAllData();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;body onload=&quot;init()&quot;&gt;</div><div class="line">  &lt;table&gt;</div><div class="line">    &lt;tr&gt;&lt;td&gt;姓名：&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;name&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</div><div class="line">    &lt;tr&gt;&lt;td&gt;留言：&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;memo&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">      &lt;td&gt;&lt;/td&gt;</div><div class="line">      &lt;td&gt;&lt;input type=&quot;button&quot; value=&quot;保存&quot; onclick=&quot;saveData()&quot;&gt;&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">  &lt;/table&gt;</div><div class="line">  &lt;hr&gt;</div><div class="line">  &lt;table id=&quot;datatable&quot; border=&quot;1&quot;&gt;</div><div class="line">  &lt;/table&gt;</div><div class="line">    &lt;p id=&quot;msg&quot;&gt;&lt;/p&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h1 id="indexedDB数据库"><a href="#indexedDB数据库" class="headerlink" title="indexedDB数据库"></a>indexedDB数据库</h1><h2 id="链接数据库"><a href="#链接数据库" class="headerlink" title="链接数据库"></a>链接数据库</h2><ul>
<li>该数据库是一种存储在客户端本地的NoSQL数据库</li>
</ul>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fkmmsigd4vj30oh041q6j.jpg" alt=""></p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fkmmsim1daj30pl03eadi.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">  &lt;script&gt;</div><div class="line">  window.indexedDB = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;</div><div class="line">    window.IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.msIDBTransaction;</div><div class="line">    window.IDBKeyRange = window.IDBKeyRange ||window.webkitIDBKeyRange || window.msIDBKeyRange;</div><div class="line">    window.IDBCursor = window.IDBCursor || window.webkitIDBCursor || window.webkitIDBCursor || window.msIDBCursor;</div><div class="line">    function connectDatabase()&#123;</div><div class="line">      var dbName = &quot;indexedDBtest&quot;;</div><div class="line">      var dbVersion = 1;</div><div class="line">      var idb;</div><div class="line">      var dbConnect = indexedDB.open(dbName,dbVersion);</div><div class="line">      dbConnect.onsuccess = function(e)&#123;</div><div class="line">        idb = e.target.result;</div><div class="line">        alert(&quot;数据库链接成功&quot;);</div><div class="line">      &#125;;</div><div class="line">      dbConnect.onerror = function()&#123;</div><div class="line">        alert(&quot;链接数据库失败&quot;)</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;input type=&quot;button&quot; value=&quot;链接数据库&quot; onclick=&quot;connectDatabase()&quot;&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="数据库的版本更新"><a href="#数据库的版本更新" class="headerlink" title="数据库的版本更新"></a>数据库的版本更新</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    window.indexedDB = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;</div><div class="line">    window.IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.msIDBTransaction;</div><div class="line">    window.IDBKeyRange = window.IDBKeyRange ||window.webkitIDBKeyRange || window.msIDBKeyRange;</div><div class="line">    window.IDBCursor = window.IDBCursor || window.webkitIDBCursor || window.webkitIDBCursor || window.msIDBCursor;</div><div class="line"></div><div class="line">    function VersionUpDate()&#123;</div><div class="line">      var dbName = &quot;indexDBtest&quot;;</div><div class="line">      var dbVersion = 2;</div><div class="line">      var idb;</div><div class="line">      var dbConnect = indexedDB.open(dbName,dbVersion);</div><div class="line">      dbConnect.onsuccess = function(e)&#123;</div><div class="line">        idb = e.target.result;</div><div class="line">        alert(&quot;数据库链接成功&quot;);</div><div class="line">      &#125;</div><div class="line">      dbConnect.onerror = function()&#123;</div><div class="line">        alert(&quot;数据库链接成功&quot;);</div><div class="line">      &#125;</div><div class="line">      dbConnect.onupgradeneeded = function(e)&#123;</div><div class="line">        idb = e.target.result;</div><div class="line">        var tx = e.target.transaction;</div><div class="line">        var oldVersion = e.oldVersion;</div><div class="line">        var newVersion = e.newVersion;</div><div class="line">        alert(&quot;数据库更新成功&quot;+oldVersion+&quot;---&quot;+newVersion);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;input type=&quot;button&quot; value=&quot;数据库更新&quot; onclick=&quot;VersionUpDate()&quot;&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="创建对象仓库"><a href="#创建对象仓库" class="headerlink" title="创建对象仓库"></a>创建对象仓库</h2><p>失败</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">  &lt;script&gt;</div><div class="line">  window.indexedDB = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;</div><div class="line">window.IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.msIDBTransaction;</div><div class="line">window.IDBKeyRange = window.IDBKeyRange ||window.webkitIDBKeyRange || window.msIDBKeyRange;</div><div class="line">window.IDBCursor = window.IDBCursor || window.webkitIDBCursor || window.webkitIDBCursor || window.msIDBCursor;</div><div class="line"></div><div class="line">  function createObjectStore()&#123;</div><div class="line">    var dbName = &quot;indexDBTest&quot;;</div><div class="line">    var dbVersion = 3;</div><div class="line">    var idb;</div><div class="line">    var dbConnect = indexedDB.open(dbName,dbVersion);</div><div class="line">    dbConnect.onsuccess = function(e)&#123;</div><div class="line">      idb = e.target.result;</div><div class="line">      alert(&quot;数据库链接成功&quot;);</div><div class="line">    &#125;</div><div class="line">    dbConnect.onerror = function()&#123;</div><div class="line">      alert(&quot;数据库链接失败&quot;);</div><div class="line">    &#125;</div><div class="line">    dbConnect.onupgradeneeded = function(e)&#123;</div><div class="line">      idb = e.target.reslut;</div><div class="line">      var name = &quot;user&quot;;</div><div class="line">      var optionalParameters = &#123;</div><div class="line">        keyPath:&quot;userid&quot;,</div><div class="line">        autoIncrement:false</div><div class="line">      &#125;;</div><div class="line">      var store = idb.createObjectStore(name, optionalParameters);</div><div class="line">      alert(&quot;对象仓库创建成功&quot;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;input type=&quot;button&quot; value=&quot;创建仓库&quot; onclick=&quot;createObjectStore()&quot;&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h1 id="indexedDB数据库索引"><a href="#indexedDB数据库索引" class="headerlink" title="indexedDB数据库索引"></a>indexedDB数据库索引</h1><h2 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h2><ul>
<li>createindex 索引名称、索引属性字段名、索引属性值是否唯</li>
</ul>
<p>未成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  var myDB = &#123;</div><div class="line">    name: &quot;helloindexDB&quot;,</div><div class="line">    version:1,</div><div class="line">    db:null,</div><div class="line">  &#125;</div><div class="line">  function openDB(name,version)&#123;</div><div class="line">    var version = version||1;</div><div class="line">    var request = window.indexedDB.open(name,version);</div><div class="line">    request.onerror = function(e)&#123;</div><div class="line">    &#125;</div><div class="line">    request.onsuccess = function(e)&#123;</div><div class="line">      myDB.db = e.target.result;</div><div class="line">    &#125;</div><div class="line">    request.onupgradeneeded = function(e)&#123;</div><div class="line">      var db = e.target.result;</div><div class="line">      if(!db.objectStoreNames.contains(&quot;students&quot;))&#123;</div><div class="line">        var store = db.createObjectStore(&quot;students&quot;,&#123;keyPath:&quot;id&quot;&#125;);</div><div class="line">        store.createIndex(&quot;nameIndex&quot;,&quot;name&quot;,&#123;unique:true&#125;);</div><div class="line">        store.createIndex(&quot;ageIndex&quot;,&quot;age&quot;,&#123;unique:false&#125;);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  var students = [&#123;</div><div class="line">    id:101,</div><div class="line">    name:&quot;aa&quot;,</div><div class="line">    age:10</div><div class="line">  &#125;,&#123;</div><div class="line">    id:102,</div><div class="line">    name:&quot;bb&quot;,</div><div class="line">    age:11</div><div class="line">  &#125;,&#123;</div><div class="line">    id:103,</div><div class="line">    name:&quot;cc&quot;,</div><div class="line">    age:15</div><div class="line">  &#125;,&#123;</div><div class="line">    id:104,</div><div class="line">    name:&quot;tt&quot;,</div><div class="line">    age:18</div><div class="line">  &#125;,&#123;</div><div class="line">    id:106,</div><div class="line">    name:&quot;mm&quot;,</div><div class="line">    age:20</div><div class="line">  &#125;]</div><div class="line"></div><div class="line">  function addData(db,storeName)&#123;</div><div class="line">    var transaction = db.transaction(storeName,&quot;readwrite&quot;);</div><div class="line">    var store = transaction.objectStore(storeName);</div><div class="line">    for(var i = 0;i&lt;students.length;i++)&#123;</div><div class="line">      store.add(students[1]);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  openDB(myDB.name,myDB.version);</div><div class="line">  setTimeout(function()&#123;</div><div class="line">    addData(myDB.db,&quot;students&quot;);</div><div class="line">  &#125;,1000);</div><div class="line">  &lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="利用索引获取数据"><a href="#利用索引获取数据" class="headerlink" title="利用索引获取数据"></a>利用索引获取数据</h2><p>失败</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line"> &lt;script&gt;</div><div class="line"> var myDB = &#123;</div><div class="line">   name: &quot;helloindexDB&quot;,</div><div class="line">   version:1,</div><div class="line">   db:null,</div><div class="line"> &#125;</div><div class="line"> function openDB(name,version)&#123;</div><div class="line">   var version = version||1;</div><div class="line">   var request = window.indexedDB.open(name,version);</div><div class="line">   request.onerror = function(e)&#123;</div><div class="line">   &#125;</div><div class="line">   request.onsuccess = function(e)&#123;</div><div class="line">     myDB.db = e.target.result;</div><div class="line">   &#125;</div><div class="line">   request.onupgradeneeded = function(e)&#123;</div><div class="line">     var db = e.target.result;</div><div class="line">     if(!db.objectStoreNames.contains(&quot;students&quot;))&#123;</div><div class="line">       var store = db.createObjectStore(&quot;students&quot;,&#123;keyPath:&quot;id&quot;&#125;);</div><div class="line">       store.createIndex(&quot;nameIndex&quot;,&quot;name&quot;,&#123;unique:true&#125;);</div><div class="line">       store.createIndex(&quot;ageIndex&quot;,&quot;age&quot;,&#123;unique:false&#125;);</div><div class="line">     &#125;</div><div class="line">   &#125;</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> var students = [&#123;</div><div class="line">   id:101,</div><div class="line">   name:&quot;aa&quot;,</div><div class="line">   age:10</div><div class="line"> &#125;,&#123;</div><div class="line">   id:102,</div><div class="line">   name:&quot;bb&quot;,</div><div class="line">   age:11</div><div class="line"> &#125;,&#123;</div><div class="line">   id:103,</div><div class="line">   name:&quot;cc&quot;,</div><div class="line">   age:15</div><div class="line"> &#125;,&#123;</div><div class="line">   id:104,</div><div class="line">   name:&quot;tt&quot;,</div><div class="line">   age:18</div><div class="line"> &#125;,&#123;</div><div class="line">   id:106,</div><div class="line">   name:&quot;mm&quot;,</div><div class="line">   age:20</div><div class="line"> &#125;]</div><div class="line"></div><div class="line"> function addData(db,storeName)&#123;</div><div class="line">   var transaction = db.transaction(storeName,&quot;readwrite&quot;);</div><div class="line">   var store = transaction.objectStore(storeName);</div><div class="line">   for(var i = 0;i&lt;students.length;i++)&#123;</div><div class="line">     store.add(students[1]);</div><div class="line">   &#125;</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> openDB(myDB.name,myDB.version);</div><div class="line"> setTimeout(function()&#123;</div><div class="line">   addData(myDB.db,&quot;students&quot;);</div><div class="line"> &#125;,1000);</div><div class="line"></div><div class="line"> function getDataByIndexName(db,storeName)&#123;</div><div class="line">   var transaction = db.transaction(storeName);</div><div class="line">   var store = transaction.objectStore(storeName);</div><div class="line">   var index = store.index(&quot;nameIndex&quot;);</div><div class="line">   index.get(&quot;aa&quot;).onsuccess = function(e)&#123;</div><div class="line">     var student = e.target.result;</div><div class="line">     console.log(student.name+&quot;---&quot;+student.age+&quot;---&quot;+student.id)</div><div class="line">   &#125;</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> setTimeout(function()&#123;</div><div class="line">   getDataByIndexName(myDB.db,&quot;students&quot;);</div><div class="line"> &#125;,1000);</div><div class="line"></div><div class="line"> function getDataByIndexAge(db,storeName)&#123;</div><div class="line">   var transaction = db.transaction(storeName);</div><div class="line">   var store = transaction.objectStore(storeName);</div><div class="line">   var index = store.index(&quot;ageIndex&quot;);</div><div class="line">   index.get(11).onsuccess = function(e)&#123;</div><div class="line">     var student = e.target.result;</div><div class="line">     console.log(student.name+&quot;---&quot;+student.age+&quot;---&quot;+student.id)</div><div class="line">   &#125;</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> setTimeout(function()&#123;</div><div class="line">   getDataByIndexAge(myDB.db,&quot;students&quot;);</div><div class="line"> &#125;,1000);</div><div class="line"> &lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="游标与index和游标结合"><a href="#游标与index和游标结合" class="headerlink" title="游标与index和游标结合"></a>游标与index和游标结合</h2><p>跳过</p>
<h1 id="文件API"><a href="#文件API" class="headerlink" title="文件API"></a>文件API</h1><h2 id="FileList对象与File对象"><a href="#FileList对象与File对象" class="headerlink" title="FileList对象与File对象"></a>FileList对象与File对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    function showFileName()&#123;</div><div class="line">      var file;</div><div class="line">      for(var i = 0;i&lt;document.getElementById(&quot;file&quot;).files.length;i++)&#123;</div><div class="line">        file = document.getElementById(&quot;file&quot;).files[i];</div><div class="line">        console.log(file.name);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;input type=&quot;file&quot; id=&quot;file&quot; multiple&gt;</div><div class="line">  &lt;input type=&quot;button&quot; onclick=&quot;showFileName()&quot; value=&quot;文件上传&quot;&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="文件API之Blo-b对象"><a href="#文件API之Blo-b对象" class="headerlink" title="文件API之Blo b对象"></a>文件API之Blo b对象</h2><p>File&lt;blob:size type（继承）</p>
<ul>
<li>size长度</li>
<li>type类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"> &lt;head&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">    function showFileInfo()&#123;</div><div class="line">      var file;</div><div class="line">      file = document.getElementById(&quot;file&quot;).files[0];</div><div class="line">      var size = document.getElementById(&quot;size&quot;);</div><div class="line">      size.innerHTML = file.size;</div><div class="line">      var type = document.getElementById(&quot;type&quot;);</div><div class="line">      type.innerHTML = file.type;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  选择文件：</div><div class="line">  &lt;input type=&quot;file&quot; id=&quot;file&quot; multiple&gt;</div><div class="line">  &lt;input type=&quot;button&quot; onclick=&quot;showFileInfo()&quot; value=&quot;显示文件信息&quot;&gt;&lt;br&gt;</div><div class="line"></div><div class="line">  文件大小：&lt;span id=&quot;size&quot;&gt;&lt;/span&gt;&lt;br&gt;</div><div class="line">  文件类型：&lt;span id=&quot;type&quot;&gt;&lt;/span&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"> &lt;head&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">    function FileUpload()&#123;</div><div class="line">      var file;</div><div class="line">      for(var i = 0; i&lt;document.getElementById(&quot;file&quot;).files.length;i++)&#123;</div><div class="line">        file = document.getElementById(&quot;file&quot;).files[i];</div><div class="line">        if(!/image\/\w+/.test(file.type))&#123;</div><div class="line">          alert(&quot;请上传身份证图片&quot;);</div><div class="line">        &#125;else&#123;</div><div class="line">        console.log(&quot;ok&quot;)</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;input type=&quot;file&quot; id=&quot;file&quot; multiple&gt;</div><div class="line">  &lt;input type=&quot;button&quot; onclick=&quot;FileUpload()&quot; value=&quot;显示文件信息&quot;&gt;&lt;br&gt;</div></pre></td></tr></table></figure>
<h2 id="文件API之FileReader对象"><a href="#文件API之FileReader对象" class="headerlink" title="文件API之FileReader对象"></a>文件API之FileReader对象</h2><p>5个对象：</p>
<ul>
<li>readAsBinaryString:</li>
<li>readAsText:</li>
<li>readAsDataURL:</li>
<li>readArrayBuffer:</li>
<li>abort:</li>
</ul>
<p>6个事件：</p>
<ul>
<li>onabort:</li>
<li>onerror:</li>
<li>onloadstart:</li>
<li>onprogress:</li>
<li>onload:</li>
<li>onloadend:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">&lt;header&gt;</div><div class="line">&lt;script&gt;</div><div class="line">      var result = document.getElementById(&quot;result&quot;);</div><div class="line">      var file = document.getElementById(&quot;file&quot;);</div><div class="line">      function readAsDataURL()&#123;</div><div class="line">        var file = document.getElementById(&quot;file&quot;).files[0];</div><div class="line">        var reader = new FileReader();</div><div class="line">        reader.readAsDataURL(file);</div><div class="line">        reader.onload = function(e)&#123;</div><div class="line">          var resultimg = document.getElementById(&quot;result&quot;);</div><div class="line">          resultimg.innerHTML = &apos;&lt;img src=&quot;&apos;+this.result+&apos;&quot; alt=&quot;&quot; /&gt;&apos;;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      function readAsText()&#123;</div><div class="line">        var file = document.getElementById(&quot;file&quot;).files[0];</div><div class="line">        var reader = new FileReader();</div><div class="line">        reader.readAsText(file);</div><div class="line">        reader.onload = function(e)&#123;</div><div class="line">          var resulttxt = document.getElementById(&quot;result&quot;);</div><div class="line">          resulttxt.innerHTML = this.result;</div><div class="line">        &#125;</div><div class="line">        reader.onprogress = function()&#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line"></div><div class="line"></div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;p&gt;</div><div class="line">    &lt;label&gt;请选择一个文件&lt;/label&gt;</div><div class="line">    &lt;input type=&quot;file&quot; id=&quot;file&quot;&gt;</div><div class="line">    &lt;input type=&quot;button&quot; value=&quot;读取图像&quot; onclick=&quot;readAsDataURL()&quot;&gt;</div><div class="line">    &lt;input type=&quot;button&quot; value=&quot;读取二进制数据&quot; onclick=&quot;&quot;&gt;</div><div class="line">    &lt;input type=&quot;button&quot; value=&quot;读取文本文件&quot; onclick=&quot;readAsText()&quot;&gt;</div><div class="line">  &lt;/p&gt;</div><div class="line">  &lt;div name=&quot;result&quot; id=&quot;result&quot;&gt;</div><div class="line"></div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="FileSystem概述及浏览器检测"><a href="#FileSystem概述及浏览器检测" class="headerlink" title="FileSystem概述及浏览器检测"></a>FileSystem概述及浏览器检测</h2><p>失败的回调</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fkmpvhgighj30y80fwwk5.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">window.requestFileSystem(type,size,successCallback,errorCallback)</div></pre></td></tr></table></figure>
<p>失败：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">  &lt;script&gt;</div><div class="line">      window.requestFileSystem=window.requestFileSystem || window.webkitRequestFileSystem;</div><div class="line">      var fs = null;</div><div class="line">      var msg = &quot;&quot;;</div><div class="line">      if(window.requestFileSystem)&#123;</div><div class="line">        initFs();</div><div class="line">      &#125;</div><div class="line">      function initFs()&#123;</div><div class="line">        window.requestFileSystem(window.TEMPORARY,1024*10,function(filesystem)&#123;</div><div class="line">          fs = filesystem;</div><div class="line">          document.getElementById(&quot;result&quot;).innerHTML = &quot;当前浏览器可以操作&quot;;</div><div class="line">        &#125;,erroHandler);</div><div class="line">      &#125;</div><div class="line">        function erroHandler(e)&#123;</div><div class="line">          switch (e.code)&#123;</div><div class="line">            case FileError.NOT_FOUND_ERR:</div><div class="line">                msg = &quot;未找到文件或目录&quot;;</div><div class="line">                break;</div><div class="line">            case FileError.SECURITY_ERR:</div><div class="line">                msg = &quot;操作不当引起的安全性错误&quot;;</div><div class="line">                break;</div><div class="line">        &#125;;</div><div class="line">        document.getElementById(&quot;result&quot;).innerHTML=&quot;当前引发的错误&quot;+msg;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;output id=&quot;result&quot;&gt;&lt;/output&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="申请磁盘配额"><a href="#申请磁盘配额" class="headerlink" title="申请磁盘配额"></a>申请磁盘配额</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">  &lt;script&gt;</div><div class="line"></div><div class="line">    function getSzie()&#123;</div><div class="line">      var size = document.getElementById(&quot;capacity&quot;).value;</div><div class="line">      window.webkitStorageInfo.requestQuota(PERSISTENT,size,function(grantdBytes)&#123;</div><div class="line">        var text = &quot;申请磁盘成功&quot;;</div><div class="line">        var strBtyes,intBytes;</div><div class="line">        if(grantdBytes &gt;= 1024*1024*1024)&#123;</div><div class="line">          intBytes = Math.floor(grantdBytes/(1024*1024*1024));</div><div class="line">          text+=intBytes+&quot;GB&quot;;</div><div class="line">          grantdBytes = grantdBytes*(1024*1024*1024);</div><div class="line">        &#125;</div><div class="line">        if(grantdBytes &gt;= 1024*1024)&#123;</div><div class="line">          intBytes = Math.floor(grantdBytes/(1024*1024));</div><div class="line">          text+=intBytes+&quot;GB&quot;;</div><div class="line">          grantdBytes = grantdBytes*(1024*1024);</div><div class="line">        &#125;</div><div class="line">        if(grantdBytes &gt;= 1024)&#123;</div><div class="line">          intBytes = Math.floor(grantdBytes/(1024));</div><div class="line">          text+=intBytes+&quot;GB&quot;;</div><div class="line">          grantdBytes = grantdBytes*(1024);</div><div class="line">        &#125;</div><div class="line">        text+=grantdBytes+&quot;bytes&quot;;</div><div class="line">        document.getElementById(&quot;result&quot;).innerHTML =text;</div><div class="line">      &#125;)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;input type=&quot;text&quot; id=&quot;capacity&quot; value=&quot;1024&quot;&gt;</div><div class="line">    &lt;input type=&quot;button&quot; value=&quot;申请配额&quot; onclick=&quot;getSzie()&quot;&gt;</div><div class="line">    &lt;output id=&quot;result&quot;&gt;&lt;/output&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h2><p>失败</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">  &lt;script&gt;</div><div class="line">  function createFile()&#123;</div><div class="line">    var size= document.getElementById(&quot;FileName&quot;).value;</div><div class="line">    window.webkitRequestFileSystem(PERSISTENT,size,function(fs)&#123;</div><div class="line">      var fileName = document.getElementById(&quot;FileName&quot;).value;</div><div class="line">      fs.root.getFile(fileName,&#123;</div><div class="line">        create:true</div><div class="line">      &#125;,</div><div class="line">        function(fileEntry)&#123;</div><div class="line">          var text = &quot;文件完整路径:&quot;+fileEntry.fullPath+&quot;&lt;br /&gt;&quot;;</div><div class="line">          text += &quot;文件名&quot;+fileEntry.name+&quot;&lt;br /&gt;&quot;;</div><div class="line">          document.getElementById(&quot;result&quot;).innerHTML = text;</div><div class="line">        &#125;)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">  &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">  &lt;form&gt;</div><div class="line">    文件名：&lt;input type=&quot;text&quot; id=&quot;FileName&quot; value=&quot;test.txt&quot;&gt;&lt;br&gt;</div><div class="line">    文件大小：&lt;input type=&quot;text&quot; id=&quot;FileSzie&quot; value=&quot;2014&quot;&gt;&lt;br&gt;</div><div class="line">    &lt;input type=&quot;button&quot; value=&quot;创建文件&quot; onclick=&quot;createFile()&quot;&gt;</div><div class="line">  &lt;/form&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/09/declaration/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Katherine Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时间的朋友">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/09/declaration/" itemprop="url">Variabl（变量）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-09T22:19:44+08:00">
                2017-10-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/09/declaration/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/09/declaration/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Variables（变量）"><a href="#Variables（变量）" class="headerlink" title="Variables（变量）"></a>Variables（变量）</h1><blockquote>
<p> 变量是表示值的一个符号名字。变量用于存储信息的”容器”。</p>
</blockquote>
<p>变量可以使用短名称（比如 x 和 y），也可以使用描述性更好的名称（比如 age, sum, totalvolume）。</p>
<ul>
<li>开头<ul>
<li>必须是字母 (ASCII letter :uppercase or lowercase)</li>
<li>或以 $ 和 _ 符号开头（不推荐这么做）</li>
<li>A number <em>cannot</em> be used as the first character.</li>
</ul>
</li>
<li><p>大小写</p>
<ul>
<li>变量名称对大小写敏感（y 和 Y 是不同的变量）</li>
<li>JavaScript is a case-sensitive language</li>
<li>JavaScript 语句和 JavaScript 变量都对大小写敏感。</li>
</ul>
</li>
<li><p>Subsequent characters can be</p>
<ul>
<li>ASCII letters</li>
<li>underscores</li>
<li>digits (e.g., the numbers  through ).</li>
</ul>
</li>
<li>The variable name must not be a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Keywords" target="_blank" rel="external">reserved word</a>.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// some valid variable names</span></div><div class="line"><span class="keyword">var</span> _daysCount</div><div class="line"><span class="keyword">var</span> MinimumCost</div><div class="line"><span class="keyword">var</span> page10</div><div class="line"><span class="keyword">var</span> Total_elements</div><div class="line"></div><div class="line"><span class="comment">//invalid variable names and will not compile</span></div><div class="line"><span class="keyword">var</span> <span class="number">10</span>Students        <span class="comment">// ==&gt; "SyntaxError: Unexpected number"</span></div><div class="line"><span class="keyword">var</span> First&amp;Second      <span class="comment">// ==&gt; "SyntaxError: Unexpected token &amp;"</span></div></pre></td></tr></table></figure>
<h2 id="Dynamic-Typing（动态类型）"><a href="#Dynamic-Typing（动态类型）" class="headerlink" title="Dynamic Typing（动态类型）"></a>Dynamic Typing（动态类型）</h2><blockquote>
<p> JavaScript is a loosely typed or dynamic language, meaning you don’t need to declare a variable’s type ahead of time and the language automatically determines a variable’s type while the program is being processed. That also means that you can reassign a single variable to reference different types.</p>
<p> JavaScript 拥有动态类型。这意味着相同的变量可用作不同的类型：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"someVariable("</span> + someVariable + <span class="string">") is a "</span> + <span class="keyword">typeof</span> someVariable</div><div class="line">    );</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Declare someVariable and initialize it to the number '5':</span></div><div class="line"><span class="keyword">var</span> someVariable = <span class="number">5</span>;</div><div class="line">print(someVariable);        <span class="comment">// ==&gt; someVariable(5) is a number</span></div><div class="line"></div><div class="line"><span class="comment">// Assign the string "Hello" to someVariable:</span></div><div class="line"><span class="keyword">var</span> someVariable = <span class="string">"Hello"</span>;</div><div class="line">print(someVariable);        <span class="comment">// ==&gt; someVariable(Hello) is a string</span></div><div class="line"></div><div class="line"><span class="comment">// Assign the boolean value 'true' to someVariable:</span></div><div class="line"><span class="keyword">var</span> someVariable = <span class="literal">true</span>;</div><div class="line">print(someVariable);        <span class="comment">// ==&gt; someVariable(true) is a boolean</span></div></pre></td></tr></table></figure>
<h2 id="声明变量类型"><a href="#声明变量类型" class="headerlink" title="声明变量类型"></a>声明变量类型</h2><p>当您声明新变量时，可以使用关键词 “new” 来声明其类型：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> carname=<span class="keyword">new</span> <span class="built_in">String</span>;</div><div class="line"><span class="keyword">var</span> x=      <span class="keyword">new</span> <span class="built_in">Number</span>;</div><div class="line"><span class="keyword">var</span> y=      <span class="keyword">new</span> <span class="built_in">Boolean</span>;</div><div class="line"><span class="keyword">var</span> cars=   <span class="keyword">new</span> <span class="built_in">Array</span>;</div><div class="line"><span class="keyword">var</span> person= <span class="keyword">new</span> <span class="built_in">Object</span>;</div></pre></td></tr></table></figure>
<ul>
<li>JavaScript 变量均为对象。当您声明一个变量时，就创建了一个新的对象。</li>
</ul>
<h1 id="JavaScript-作用域"><a href="#JavaScript-作用域" class="headerlink" title="JavaScript 作用域"></a>JavaScript 作用域</h1><p>作用域可访问变量的集合。</p>
<p>在 JavaScript 中, 对象和函数同样也是变量。</p>
<p><strong>在 JavaScript 中, 作用域为可访问变量，对象，函数的集合。</strong></p>
<p>JavaScript 函数作用域: 作用域在函数内修改。</p>
<h2 id="JavaScript-变量的生命周期"><a href="#JavaScript-变量的生命周期" class="headerlink" title="JavaScript 变量的生命周期"></a>JavaScript 变量的生命周期</h2><p>JavaScript 变量生命周期在它声明时初始化。</p>
<p>局部变量在函数执行完毕后销毁。</p>
<p>全局变量在页面关闭后销毁。</p>
<h2 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h2><p>在 JavaScript 函数内部声明的变量（使用 var）是<em>局部</em>变量，所以只能在函数内部访问它。（该变量的作用域是局部的）。</p>
<p>您可以在不同的函数中使用名称相同的局部变量，因为只有声明过该变量的函数才能识别出该变量。</p>
<p>只要函数运行完毕，本地变量就会被删除。</p>
<p>变量在函数内声明，变量为局部作用域。</p>
<p>局部变量：只能在函数内部访问。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 此处不能调用 carName 变量</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> carName = <span class="string">"Volvo"</span>;</div><div class="line">  <span class="comment">// 函数内可调用 carName 变量</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>因为局部变量只作用于函数内，所以不同的函数可以使用相同名称的变量。</p>
<p>局部变量在函数开始执行时创建，函数执行完后局部变量会自动销毁。</p>
<h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><p>函数参数只在函数内起作用，是局部变量。</p>
<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><p>在函数外声明的变量是<em>全局</em>变量，网页上的所有脚本和函数都能访问它。</p>
<p>在 HTML 中, 全局变量是 window 对象: 所有数据变量都属于 window 对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//此处可使用 window.carName</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  carName = <span class="string">"Volvo"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>变量在函数外定义，即为全局变量。</p>
<p>全局变量有 <strong>全局作用域</strong>: 网页中所有脚本和函数均可使用。 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> carName = <span class="string">" Volvo"</span>;</div><div class="line"><span class="comment">// 此处可调用 carName 变量</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="comment">// 函数内可调用 carName 变量 </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果变量在函数内没有声明（没有使用 var 关键字），该变量为全局变量。</p>
<p>以下实例中 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// carName 在函数内，但是为全局变量。</span></div><div class="line"><span class="comment">// 此处可调用 carName 变量</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  carName = <span class="string">"Volvo"</span>;</div><div class="line">  <span class="comment">// 此处可调用 carName 变量</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>你的全局变量，或者函数，可以覆盖 window 对象的变量或者函数。局部变量，包括 window 对象可以覆盖全局变量和函数。</p>
<h2 id="向未声明的-JavaScript-变量分配值"><a href="#向未声明的-JavaScript-变量分配值" class="headerlink" title="向未声明的 JavaScript 变量分配值"></a>向未声明的 JavaScript 变量分配值</h2><p>如果您把值赋给尚未声明的变量，该变量将被自动作为全局变量声明。</p>
<p>这条语句：</p>
<p> carname=”Volvo”;</p>
<p>将声明一个全局变量 carname，即使它在函数内执行。</p>
<h1 id="Declaration-and-Initialization"><a href="#Declaration-and-Initialization" class="headerlink" title="Declaration and Initialization"></a>Declaration and Initialization</h1><p>The first time a variable appears in your script is considered its <strong>declaration</strong>.<br>The first mention of the variable sets it up in memory, and the name allows you to refer back to it in your subsequent lines of code.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 声明1个变量</span></div><div class="line"><span class="keyword">var</span> firstVar;</div><div class="line"></div><div class="line"><span class="comment">// Initialize firstVar:</span></div><div class="line">firstVar = <span class="number">1</span>;</div><div class="line"></div><div class="line"><span class="comment">// Declare and Initialize secondVar:</span></div><div class="line"><span class="keyword">var</span> secondVar = <span class="string">"String"</span>;</div><div class="line"></div><div class="line"><span class="comment">// 声明多个变量:</span></div><div class="line"><span class="keyword">var</span> thirdVar,</div><div class="line">    fourthVar;</div><div class="line"></div><div class="line"><span class="comment">// Initialize:</span></div><div class="line">thirdVar = <span class="literal">true</span>;</div><div class="line">fourthVar = <span class="literal">null</span>;</div><div class="line"></div><div class="line"><span class="comment">// 声明也可横跨多行</span></div><div class="line"><span class="keyword">var</span> fifthVar = <span class="number">1.01</span>,</div><div class="line">    sixthVar = <span class="string">"Sixth"</span>;</div><div class="line"><span class="keyword">var</span> x = <span class="number">2</span>,</div><div class="line">    f = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;<span class="keyword">return</span> x * x&#125;,</div><div class="line">    y = f(x);                         <span class="comment">//每个变量都独占一行</span></div><div class="line"></div><div class="line"><span class="comment">// Declare seventhVar:</span></div><div class="line"><span class="keyword">var</span> seventhVar;						<span class="comment">// ==&gt; undefined</span></div><div class="line"></div><div class="line"><span class="comment">//将变量的初始赋值和变量声明合写在一起（即带有初始化表达式，用于指定它的初始值）</span></div><div class="line"><span class="keyword">var</span> message = <span class="string">"hello"</span>;</div><div class="line"><span class="keyword">var</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> x = <span class="number">2</span>, y = x * x;                <span class="comment">//第二个变量使用了第一个变量</span></div><div class="line"></div><div class="line"><span class="comment">//循环变量</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>; i++,j--) <span class="built_in">console</span>.log(i);</div><div class="line"></div><div class="line"><span class="comment">//声明后，再赋值</span></div><div class="line"><span class="keyword">var</span> i = <span class="number">10</span>;</div><div class="line">i = <span class="string">"ten"</span>;</div><div class="line"></div><div class="line"><span class="comment">// 重新声明 JavaScript 变量,该变量的值不会丢失：</span></div><div class="line"> <span class="keyword">var</span> carname=<span class="string">"Volvo"</span>; </div><div class="line"> <span class="keyword">var</span> carname;</div><div class="line"></div><div class="line"><span class="comment">// 通过变量来做算数:</span></div><div class="line">y=<span class="number">5</span>;</div><div class="line">x=y+<span class="number">2</span>;</div></pre></td></tr></table></figure>
<p><strong>使用一个变量之前应当先声明：</strong></p>
<ul>
<li>如果未在<code>var</code>声明语句中给变量指定初始值，那么虽然声明了这个变量，但在给它存入一个值之前，它的初始值就是<code>undefinded</code>。</li>
<li>若试图读取一个没有声明的变量的值，会报错。EM5规定，一个没有声明的变量赋值也会报错。</li>
<li><code>var</code>声明的变量是无法通过<code>delete</code>删除的。</li>
<li>多次声明一个变量是无所谓的。</li>
<li>变量在声明它们的脚本或函数中都是有定义的，变量声明语句会被“提前”至脚本或者函数的顶部。</li>
</ul>
<h2 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 定义并赋值一个字符串数组对象</span></div><div class="line"><span class="keyword">var</span> myLikeColorsList = [<span class="string">'red'</span>, ‘blue’, <span class="string">'white'</span>, <span class="string">'black'</span>];</div><div class="line"><span class="built_in">console</span>.log(myLikeColorsList[<span class="number">0</span>]);            <span class="comment">// ==&gt; red</span></div><div class="line"></div><div class="line"><span class="comment">// 定义并赋值一个数字数组对象</span></div><div class="line"><span class="keyword">var</span> myLuckNumberList = [<span class="number">0</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">9</span>];</div><div class="line"></div><div class="line"><span class="comment">// 定义并赋值一个混合型的数组对象</span></div><div class="line"><span class="keyword">var</span> myLuckNumberList2 = [<span class="string">'one'</span>, <span class="number">2</span>, <span class="string">'six'</span>, <span class="number">9</span>];</div><div class="line"></div><div class="line"><span class="comment">// 定义并赋值一个组合数据</span></div><div class="line"><span class="keyword">var</span> myFriend = &#123;</div><div class="line">  name: <span class="string">'xiaoming'</span>,</div><div class="line">  age: <span class="number">18</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(myFriend.name)      <span class="comment">// ==&gt; xiaoming</span></div><div class="line"></div><div class="line"><span class="comment">// 定义并赋值一个对象数组</span></div><div class="line"><span class="keyword">var</span> myFriendA = &#123;</div><div class="line">  name: <span class="string">'xiaoming'</span>,</div><div class="line">  age: <span class="number">18</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> myFriendB = &#123;</div><div class="line">  name: ‘xiaohua’,</div><div class="line">  age: <span class="number">16</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> myFriends = [myFriendA, myFriendB];</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(myFriends[<span class="number">0</span>].name);        <span class="comment">// ==&gt; xiaoming</span></div></pre></td></tr></table></figure>
<h1 id="Create-a-Variable（声明-创建变量）"><a href="#Create-a-Variable（声明-创建变量）" class="headerlink" title="Create a Variable（声明/创建变量）"></a>Create a Variable（声明/创建变量）</h1><blockquote>
<p> 在 JavaScript 中创建变量通常称为”声明”变量。</p>
</blockquote>
<h2 id="var"><a href="#var" class="headerlink" title="var"></a>var</h2><blockquote>
<p>We use the var keyword to declare variables.<br>The scope of a variable declared using this keyword is within the context wherever it was declared. It defines a variable globally or locally to an entire function regardless of block scope.</p>
</blockquote>
<ul>
<li>如果在顶层代码中使用<code>var</code>语句，它声明的是全局变量，在整个JavaScript中都是可见的。</li>
<li>如果<code>var</code>语句出现在函数体内，那么它定义的是一个局部变量，其作用域就是这个函数。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">input</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> a = input;</div><div class="line"></div><div class="line">    <span class="comment">// If 'a' is odd:</span></div><div class="line">    <span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">var</span> a = input + <span class="number">1</span>;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"if(a): "</span> + a);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"main(a): "</span> + a);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//input   11</span></div><div class="line"><span class="comment">//output  ==&gt; if(a): 12  /  main(a): 12</span></div></pre></td></tr></table></figure>
<ol>
<li>Variable  is declared in the <strong>main</strong> function using the <strong>var</strong> keyword and initialized with the given value <code>11</code>.</li>
<li><code>a% 1</code> evaluates to <strong>true</strong> because <code>11</code> is odd, so we enter the <strong>if</strong> block.</li>
<li>Variable <code>a</code> is declared a second time inside the <strong>if</strong> block (still using the <strong>var</strong> keyword) and initialized with a value of <code>11 + 1 = 12</code>. We print the value of <code>a = 12</code>.</li>
<li>We exit the <strong>if</strong> block and print the value of <code>a</code> in <strong>main</strong>. This value is <code>12</code> because the scope of the initial declaration of  in <strong>main</strong> includes the <strong>if</strong> block.</li>
</ol>
<hr>
<h2 id="let"><a href="#let" class="headerlink" title="let"></a>let</h2><blockquote>
<p> <code>Let</code>  can be reassigned.Declare variables that are limited in scope to the block, statement, or expression in which they are used.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> meal = <span class="string">'Enchiladas'</span>;</div><div class="line"><span class="built_in">console</span>.log(meal);                              <span class="comment">// ==&gt; Enchiladas</span></div><div class="line">meal = <span class="string">'Tacos'</span>;</div><div class="line"><span class="built_in">console</span>.log(meal);                              <span class="comment">// ==&gt; Tacos</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">input</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> a = input;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">let</span> a = input + <span class="number">1</span>;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"if(a): "</span> + a);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"main(a): "</span> + a);</div><div class="line">&#125;</div><div class="line"><span class="comment">//input    &lt;== 11</span></div><div class="line"><span class="comment">//output   ==&gt;  if(a): 12  /  main(a): 11</span></div></pre></td></tr></table></figure>
<ol>
<li>Variable  is declared in the <em>main</em> function using the <em>let</em> keyword and initialized with the given value, <code>11</code>.</li>
<li><code>a % 1</code> evaluates to <em>true</em> because <code>a = 11</code> is odd, so we enter the <em>if</em> block.</li>
<li>Variable  is declared a second time inside the <em>if</em> block (again using the <em>let</em> keyword) and initialized with a value of <code>11 + 1 = 12</code>. We print the value of <code>a = 12</code>.</li>
<li>We exit the <em>if</em> block and print the value of  in <em>main</em>. Because we used the <em>let</em> keyword for both declarations and the scope of the second declaration of  was limited to the <em>if</em> block, the value of  in <em>main</em> is still <code>11</code>.</li>
</ol>
<p><strong>Note:</strong> you cannot redeclare a variable declared using the <em>let</em> keyword within the same scope as the original variable. An attempt to do this raises an <em>Error</em>, as demonstrated by the code below.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">input</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> a = input;</div><div class="line"></div><div class="line">    <span class="comment">// This will throw "SyntaxError: Identifier 'a' has already been declared"</span></div><div class="line">    <span class="keyword">let</span> a = input + <span class="number">1</span>;</div><div class="line">    <span class="built_in">console</span>.log(a);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//input   &lt;== 11</span></div><div class="line"><span class="comment">//output  ==&gt; SyntaxError: Identifier 'a' has already been declared</span></div></pre></td></tr></table></figure>
<hr>
<h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><blockquote>
<p> In general, only use <code>const</code> if the value saved to a variable does not change in your program.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> myName = <span class="string">'Arya'</span>;</div><div class="line"><span class="built_in">console</span>.log(myName);                            <span class="comment">// ==&gt; Arya</span></div></pre></td></tr></table></figure>
<ol>
<li><code>const</code>  —— constant, creates a new variable with a value that cannot change.</li>
<li><code>myName</code> —— the variable’s name. no spaces, and we capitalized the <code>N</code>. Capitalizing in this way is a standard convention in JavaScript called <em>camelCasing</em></li>
<li><code>=</code> —— the <em>assignment operator</em>. It assigns the value (<code>&#39;Arya&#39;</code>) to the variable (<code>myName</code>).</li>
<li><code>&#39;Arya&#39;</code> is the <em>value</em> assigned (<code>=</code>) to the variable <code>myName</code>.</li>
</ol>
<blockquote>
<p>To create a <em>read-only</em> reference to a value, meaning the value referenced by this variable cannot be reassigned.<br>Because the value referenced by a constant variable cannot be reassigned, JavaScript <em>requires</em> that constant variables always be initialized.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">input</span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> a = input;</div><div class="line"></div><div class="line">    <span class="comment">// This will throw "SyntaxError: Missing initializer in const declaration"</span></div><div class="line">    <span class="keyword">const</span> b;</div><div class="line"></div><div class="line">    <span class="built_in">console</span>.log(a);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//input   &lt;== 11</span></div><div class="line"><span class="comment">//output  ==&gt; SyntaxError: Identifier 'a' has already been declared</span></div></pre></td></tr></table></figure>
<hr>
<h2 id="Review-Variables"><a href="#Review-Variables" class="headerlink" title="Review Variables"></a>Review Variables</h2><ul>
<li>Variables hold reusable data in a program.</li>
<li>JavaScript will throw an error if you try to reassign <code>const</code> variables.</li>
<li>You can reassign variables that you create with the <code>let</code>keyword.</li>
<li>Unset variables store the primitive data type <code>undefined</code>.</li>
</ul>
<h1 id="Task——变量提前声明的特点"><a href="#Task——变量提前声明的特点" class="headerlink" title="Task——变量提前声明的特点"></a>Task——变量提前声明的特点</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(name);</div><div class="line"><span class="keyword">var</span> name = <span class="string">'xiaoming'</span>;</div><div class="line"><span class="built_in">console</span>.log(name);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(name);</div><div class="line"><span class="keyword">let</span> name = <span class="string">'xiaoming'</span>;</div><div class="line"><span class="built_in">console</span>.log(name);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(name);</div><div class="line"><span class="keyword">const</span> name = <span class="string">'xiaoming'</span>;</div><div class="line"><span class="built_in">console</span>.log(name);</div></pre></td></tr></table></figure>
<p>以上输出分别是什么？为什么？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(name);      <span class="comment">//undefined;</span></div><div class="line"><span class="keyword">var</span> name = <span class="string">'xiaoming'</span>;</div><div class="line"><span class="built_in">console</span>.log(name);      <span class="comment">//xiaoming;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(name);      <span class="comment">//ReferenceError: name is not defined;</span></div><div class="line"><span class="keyword">let</span> name = <span class="string">'xiaoming'</span>;</div><div class="line"><span class="built_in">console</span>.log(name);      <span class="comment">//xiaoming (it will not console.log when run line1);</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(name);      <span class="comment">//ReferenceError: name is not defined;</span></div><div class="line"><span class="keyword">const</span> name = <span class="string">'xiaoming'</span>;</div><div class="line"><span class="built_in">console</span>.log(name);      <span class="comment">//xiaoming (it will not console.log when run line1);</span></div></pre></td></tr></table></figure>
<p><strong>解答：</strong><br>[首先，var是js的大大坑，为了填补var的坑，es6引入了let。<br>想要了解var，就要先掌握代码在处理过程是对变量的查找过程。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(name);</div><div class="line"><span class="keyword">var</span> name = <span class="string">'xiaoming'</span>;</div><div class="line"><span class="built_in">console</span>.log(name);</div></pre></td></tr></table></figure>
<p>从上面的代码，很直观的看出第一行输出name时，name这个变量并没有声明。如果变量没有声明，代码肯定执行会抛出异常。但上面代码并没有抛出异常，反而输出了一个‘undefined’。这是为什么？</p>
<p>事实上，上面的代码等价于</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name;</div><div class="line"><span class="built_in">console</span>.log(name);</div><div class="line">name = <span class="string">'xiaoming'</span>;</div><div class="line"><span class="built_in">console</span>.log(name);</div></pre></td></tr></table></figure>
<p>通过等价代码能看出，最先声明了一个变量name，并没有赋值，没有赋值的变量默认值是’undefined’。<br>通过这样的等价转换是不是就明白了结果。<br>JS编译器在处理代码分为两个过程：编译期和执行期。<br>再来看源代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(name);</div><div class="line"><span class="keyword">var</span> name = <span class="string">'xiaoming'</span>;</div><div class="line"><span class="built_in">console</span>.log(name);</div></pre></td></tr></table></figure>
<p>重点看第一行代码，在编译期中，第一行需要输出name，name在哪里呢？后面有一个var name，所以编译会把var name提前，紧接着是执行期，name只是声明提前了，但并没有赋值，所以输出了默认的undefined。<br>所以，是编译器在编译期做了一些手脚，把var变量的声明提前了。<br>从上面这件事我们可以引申到函数表达式定义的理解。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> fun();</div><div class="line"> <span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">'hello, js'</span>);</div><div class="line"> &#125;</div><div class="line"> fun();</div><div class="line"></div><div class="line"><span class="comment">// ==&gt; TypeError: fun is not a function</span></div></pre></td></tr></table></figure>
<p>以上代码在执行第一行fun()时会抛出一个错误。</p>
<p>虽然fun声明被提前了，但fun的定义并没有提前，fun只是被默认赋值了一个undefined值。这又不是一个函数，此时执行fun()时就会抛出错误。<br>事实上，js对var在编译器的处理过程会带来很多问题，最好的处理原则就是先明确声明，再明确定义。所以，js在后面引入了let，let的变量并不会提前声明，没有声明的变量会明确抛出(ReferenceError: name is not defined)。所以建议以后在写js代码时，能用let就不要用var。<br>至于const，const是用来定义不能修改的常量的，只能有一次赋值，不能提前声明。</p>
<hr>
<h1 id="Task-——-计算圆的面积和周长"><a href="#Task-——-计算圆的面积和周长" class="headerlink" title="Task —— 计算圆的面积和周长"></a>Task —— 计算圆的面积和周长</h1><ol>
<li>Declare a <em>constant variable</em>,<code>PI</code> , and assign it the value <em>Math.PI</em>. You will not pass this challenge unless the variable is declared as a constant and named <code>PI</code> (uppercase).</li>
<li>Read a number, <code>r</code>, denoting the radius of a circle from stdin.</li>
<li>Use <code>PI</code> and <code>r</code> to calculate the  <code>area</code> and  <code>perimeter</code>of a circle having radius<code>r</code> .</li>
<li>Print <code>area</code> as the first line of output and print <code>perimeter</code> as the second line of output.</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">   <span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Write your code here. Read input using 'readLine()' and print output using 'console.log()'.</span></div><div class="line"></div><div class="line">    <span class="comment">// Print the area of the circle:</span></div><div class="line"></div><div class="line">    <span class="comment">// Print the perimeter of the circle:</span></div><div class="line"></div><div class="line">   <span class="keyword">try</span> &#123;    </div><div class="line">        <span class="comment">// Attempt to redefine the value of constant variable PI</span></div><div class="line">        PI = <span class="number">0</span>;</div><div class="line">        <span class="comment">// Attempt to print the value of PI</span></div><div class="line">        <span class="built_in">console</span>.log(PI);</div><div class="line">    &#125; <span class="keyword">catch</span>(error) &#123;</div><div class="line">        <span class="built_in">console</span>.error(<span class="string">"You correctly declared 'PI' as a constant."</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>Input</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">2.6</span></div></pre></td></tr></table></figure></p>
<p><strong>Output</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">21.237166338267002</span></div><div class="line"><span class="number">16.336281798666924</span></div></pre></td></tr></table></figure></p>
<p><strong>answer</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line"> <span class="keyword">const</span> PI = <span class="built_in">Math</span>.PI;</div><div class="line"> <span class="keyword">let</span> r = readLine()</div><div class="line"></div><div class="line"> <span class="keyword">let</span> area = PI * r * r</div><div class="line"> <span class="built_in">console</span>.log(area)</div><div class="line"></div><div class="line"> <span class="keyword">let</span> perimeter = <span class="number">2</span>* PI * r</div><div class="line"> <span class="built_in">console</span>.log(perimeter)</div></pre></td></tr></table></figure></p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://www.hackerrank.com/challenges/js10-let-and-const/problem" target="_blank" rel="external">hackerrank</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/09/function/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Katherine Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时间的朋友">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/09/function/" itemprop="url">Functions in JavaScript（函数）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-09T21:36:11+08:00">
                2017-10-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/09/function/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/09/function/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Functions（函数）"><a href="#Functions（函数）" class="headerlink" title="Functions（函数）"></a>Functions（函数）</h1><blockquote>
<p> A function is a block of code designed to perform a task.<br> Any code between curly braces is also known as a <strong>block</strong>.<br> Functions are like recipes. They accept data, perform actions on that data, and return a result.<br> 函数是由事件驱动的或者当它被调用时执行的可重复使用的代码块。</p>
<p> 函数就是包裹在花括号中的代码块，前面使用了关键词 function：</p>
</blockquote>
<p>关键字<code>function</code>用来定义函数。</p>
<p>函数可以通过声明定义，也可以是一个表达式。</p>
<p>函数声明后不会立即执行，会在我们需要的时候调用到。</p>
<p>分号是用来分隔可执行JavaScript语句。 由于函数声明不是一个可执行语句，所以不以分号结束。</p>
<p>A function declaration creates a function that’s a <em>Function</em> object having all the properties, methods, and behaviors of Function objects.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">functionname</span>(<span class="params"></span>)</span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">  <span class="comment">// 执行代码</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>By default, functions return the value <code>undefined</code>; to return any other value, the function must have a return statement that consists of the <code>return</code> keyword followed by the value to be returned (this can be a literal value, a variable, or even a call to a function).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// The first line contains a string denoting .</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">greetings</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"Hello, "</span> + name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// The second line contains two space-separated integers,  and , to be summed.</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> a + b;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">name, a, b</span>) </span>&#123;</div><div class="line">    greetings(name);</div><div class="line">    <span class="built_in">console</span>.log(sum(a, b));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//input  &lt;== Julia</span></div><div class="line"><span class="comment">//input  &lt;== 8 2</span></div><div class="line"><span class="comment">//output ==&gt; Hello, Julia</span></div><div class="line"><span class="comment">//output ==&gt; 10</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> calculatorIsOn = <span class="literal">false</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> pressPowerButton = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (calculatorIsOn) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Calculator turning off.'</span>);</div><div class="line">    calculatorIsOn = <span class="literal">false</span>;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Calculator turning on.'</span>);</div><div class="line">    calculatorIsOn = <span class="literal">true</span>;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">pressPowerButton();               <span class="comment">// ==&gt; Calculator turning on.</span></div><div class="line">pressPowerButton();               <span class="comment">// ==&gt; Calculator turning off.</span></div></pre></td></tr></table></figure>
<ol>
<li>We created a function named <code>pressPowerButton</code>.</li>
</ol>
<ul>
<li><code>const pressPowerButton</code> creates a variable with a given name written in <em>camelCase</em>.</li>
<li><strong>arrow function</strong> syntax：The variable is then set equal <code>=</code> to a set of parentheses followed by an arrow token <code>() =&gt;</code>, indicating the variable stores a function.</li>
<li>between the curly braces <code>{}</code> is the <em>function body</em>, or the JavaScript statements that define the function. This is followed by a semi-colon <code>;</code>.</li>
</ul>
<ol>
<li>Inside the function body is an <code>if</code>/<code>else</code> statement.</li>
<li>call the function —— <code>pressPowerButton();</code>. This executes the function, running all code within the function body.</li>
</ol>
<h1 id="Parameters（参数）"><a href="#Parameters（参数）" class="headerlink" title="Parameters（参数）"></a>Parameters（参数）</h1><blockquote>
<p> Parameters are variables in a function definition that represent data we can input into the function.</p>
<p> 在调用函数时，您可以向其传递值，这些值被称为参数。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> multiplyByThirteen = <span class="function">(<span class="params">inputNumber</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(inputNumber * <span class="number">13</span>);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">multiplyByThirteen(<span class="number">9</span>);                    <span class="comment">// ==&gt; 117</span></div></pre></td></tr></table></figure>
<p><code>inputNumber</code> is a parameter, but when we call <code>multiplyByThirteen(9)</code>, the <code>9</code> is called an <em>argument</em>. </p>
<h2 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h2><blockquote>
<p> 如果函数在调用时缺少参数，参数会默认设置为： <strong>undefined</strong></p>
</blockquote>
<p>有时这是可以接受的，但是建议最好为参数设置一个默认值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">	<span class="keyword">if</span> (y === <span class="literal">undefined</span>) &#123;</div><div class="line">	      y = <span class="number">0</span>;</div><div class="line">	&#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">	y = y || <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果y已经定义 ， y || 0返回 y, 因为 y 是 true, 否则返回 0, 因为 undefined 为 false。</p>
<p>如果函数调用时设置了过多的参数，参数将无法被引用，因为无法找到对应的参数名。 只能使用 arguments 对象来调用。</p>
<h2 id="函数显式参数与隐藏参数-arguments"><a href="#函数显式参数与隐藏参数-arguments" class="headerlink" title="函数显式参数与隐藏参数(arguments)"></a>函数显式参数与隐藏参数(arguments)</h2><blockquote>
<p> Arguments are provided when you call a function. </p>
</blockquote>
<p>函数显式参数在函数定义时列出。</p>
<p>函数隐藏参数(arguments)在函数调用时传递给函数真正的值。</p>
<ul>
<li>函数定义时参数没有指定数据类型。</li>
<li>对隐藏参数(arguments)没有进行检测。</li>
<li>对隐藏参数(arguments)的个数没有进行检测。</li>
</ul>
<p>这些参数可以在函数中使用。您可以发送任意多的参数，由逗号 (,) 分隔：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">argument1,argument2</span>)</span>&#123;</div><div class="line">  <span class="comment">//代码</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// 声明函数时，请把参数作为变量来声明：</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">var1,var2</span>)</span>&#123;</div><div class="line">  <span class="comment">//代码</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> getAverage = <span class="function">(<span class="params">numberOne, numberTwo</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">const</span> average = (numberOne + numberTwo) / <span class="number">2</span> ;</div><div class="line">  <span class="built_in">console</span>.log(average);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">getAverage(<span class="number">365</span>, <span class="number">27</span>);                    <span class="comment">// ==&gt; 196</span></div></pre></td></tr></table></figure>
<p><strong>parameters</strong> receive arguments as their value.</p>
<h2 id="Return（返回值）"><a href="#Return（返回值）" class="headerlink" title="Return（返回值）"></a>Return（返回值）</h2><blockquote>
<p> The purpose of a function is to take some input, perform some task on that input, then return a result.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> getAverage = <span class="function">(<span class="params">numberOne, numberTwo</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">const</span> average = (numberOne + numberTwo) / <span class="number">2</span>;</div><div class="line">  <span class="keyword">return</span> average;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(getAverage(<span class="number">365</span>, <span class="number">27</span>));         <span class="comment">// ==&gt; 196</span></div></pre></td></tr></table></figure>
<p>When functions <code>return</code> their value, we can use them together and inside one another.<br>If our calculator needed to have a Celsius to Fahrenheit operation, we could write it with two functions like so:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> multiplyByNineFifths = <span class="function">(<span class="params">celsius</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> celsius * (<span class="number">9</span>/<span class="number">5</span>);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> getFahrenheit = <span class="function">(<span class="params">celsius</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> multiplyByNineFifths(celsius) + <span class="number">32</span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'The temperature is '</span> + getFahrenheit(<span class="number">15</span>) + <span class="string">'°F'</span>);</div><div class="line"><span class="comment">// Output: The temperature is 59°F</span></div></pre></td></tr></table></figure>
<p> <code>getFahrenheit()</code> ==&gt; <code>multiplyByNineFifths()</code> ==&gt;  <code>getFahrenheit()</code> </p>
<h2 id="Function-Declarations-（函数语法定义）"><a href="#Function-Declarations-（函数语法定义）" class="headerlink" title="Function Declarations （函数语法定义）"></a>Function Declarations （函数语法定义）</h2><blockquote>
<p> a function that is bound to an identifier or name.<br> 关键字<code>function</code> + 函数名 a name + <code>{</code>a function body<code>}</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span> (<span class="params">number</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> number * number;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(square(<span class="number">5</span>));                   <span class="comment">// ==&gt; 25</span></div></pre></td></tr></table></figure>
<p><strong>Note:</strong> Function declarations do not end in a semi-colon.<br>(定义函数时，函数名也必不可少。缺少函数名，函数肯定无法被调用，这个函数被定义出来没有价值。)</p>
<p><strong>用函数语法定义一个函数，能获得定义提前的优待：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 先定义后使用，很符合规矩。</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">content</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(content);</div><div class="line">&#125;</div><div class="line"></div><div class="line">print(<span class="string">'Hello, JS'</span>);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// 看上去好像先使用了才定义</span></div><div class="line">print(<span class="string">'Hello, JS'</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">content</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(content);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>其实上面两种形式是等价的，原因就是代码在执行之前，编译器会把通过函数语法定义的函数提前定义。从而保证可以在任意处调用函数。</p>
<h1 id="The-Function-Expression-（函数表达式）"><a href="#The-Function-Expression-（函数表达式）" class="headerlink" title="The Function Expression （函数表达式）"></a>The Function Expression （函数表达式）</h1><p>A function expression is very similar to (and has almost the same syntax as) a function statement.<br>The main difference between a <strong>function expression</strong> and a <strong>function statement</strong> is the function <strong>name</strong>, which can be omitted from a function expression to create an <a href="https://en.wikipedia.org/wiki/Anonymous_function" target="_blank" rel="external">anonymous function</a>. Function expressions are often used as <a href="https://en.wikipedia.org/wiki/Immediately-invoked_function_expression" target="_blank" rel="external">Immediately Invoked Function Expressions</a> (IIFEs), which run as soon as they’re defined.</p>
<h2 id="Function-Expressions-（函数表达式定义）"><a href="#Function-Expressions-（函数表达式定义）" class="headerlink" title="Function Expressions （函数表达式定义）"></a>Function Expressions （函数表达式定义）</h2><blockquote>
<p> Function expressions are often stored in a variable.函数表达式可以存储在变量中。</p>
<p> An anonymous function( <strong>匿名函数</strong>)，函数存储在变量中，不需要函数名称，通常通过变量名来调用。</p>
<p>  You can identify a function expression by the absence of a function name immediately trailing the function keyword.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> square = <span class="function"><span class="keyword">function</span> (<span class="params">number</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> number * number;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(square(<span class="number">5</span>));                   <span class="comment">// ==&gt; 25</span></div></pre></td></tr></table></figure>
<p><strong>Note:</strong> function expressions end with a semi-colon since they are stored in a variable.</p>
<p>在函数表达式存储在变量后，变量也可作为一个函数使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a * b&#125;;</div><div class="line"><span class="keyword">var</span> z = x(<span class="number">4</span>, <span class="number">3</span>);</div></pre></td></tr></table></figure>
<p><strong>Note:</strong> 上述函数以分号结尾，因为它是一个执行语句。</p>
<h2 id="Unnamed-Function-Expression-（未命名的函数表达式）"><a href="#Unnamed-Function-Expression-（未命名的函数表达式）" class="headerlink" title="Unnamed Function Expression （未命名的函数表达式）"></a>Unnamed Function Expression （未命名的函数表达式）</h2><p>A single integer denoting .</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">input</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> square = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> x * x;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="built_in">console</span>.log(square(input));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//input    &lt;== 4</span></div><div class="line"><span class="comment">//output   ==&gt; 16</span></div></pre></td></tr></table></figure>
<h2 id="Named-Function-Expression-（命名函数表达式）"><a href="#Named-Function-Expression-（命名函数表达式）" class="headerlink" title="Named Function Expression （命名函数表达式）"></a>Named Function Expression （命名函数表达式）</h2><p>Two space-separated integers describing the respective values of  and .</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">factN, fibN</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> math = &#123;</div><div class="line">        factorial:</div><div class="line">            <span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">                <span class="keyword">if</span> (n &gt; <span class="number">1</span>) &#123;</div><div class="line">                    <span class="keyword">return</span> n * factorial(n - <span class="number">1</span>);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> fib = <span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span>(<span class="params">n</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span> (n &gt; <span class="number">2</span>) &#123;</div><div class="line">            <span class="keyword">return</span> fibonacci(n - <span class="number">1</span>) + fibonacci(n - <span class="number">2</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">console</span>.log(math.factorial(factN));</div><div class="line">    <span class="built_in">console</span>.log(fib(fibN));</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="comment">//input    &lt;== 5     11</span></div><div class="line"><span class="comment">//output   ==&gt; 120   89</span></div></pre></td></tr></table></figure>
<h2 id="Arrow-Functions"><a href="#Arrow-Functions" class="headerlink" title="Arrow Functions"></a>Arrow Functions</h2><blockquote>
<p> A shorter syntax for a function expression. You can identify arrow functions through the use of parentheses and the arrow token <code>() =&gt;</code>.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> square = <span class="function">(<span class="params">number</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> number * number;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(square(<span class="number">5</span>));                   <span class="comment">// ==&gt; 25</span></div></pre></td></tr></table></figure>
<p>We can refactor this function in three ways. The most condensed form of the function is known as <strong>concise body</strong>.</p>
<ol>
<li>Functions that take a single parameter should not use parentheses. However, if a function takes zero or multiple parameters, parentheses are required.</li>
<li>A function composed of a sole single-line block is automatically returned.<br>The contents of the block should immediately follow the arrow <code>=&gt;</code> and the <code>return</code>keyword can be removed.<br>This is referred to as <strong>implicit return</strong></li>
<li>A function composed of a sole single-line block does not need brackets.</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> square = <span class="function"><span class="params">number</span> =&gt;</span> number * number;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(square(<span class="number">5</span>));                   <span class="comment">// ==&gt; 25</span></div></pre></td></tr></table></figure>
<ol>
<li>The parentheses around <code>number</code> have been removed, since it is a single parameter.</li>
<li>The <code>return</code> keyword has been removed since the function consists of a single-line block.</li>
<li>The <code>{}</code> have been removed, again, since the function consists of a single-line block.</li>
</ol>
<h2 id="Review-Functions"><a href="#Review-Functions" class="headerlink" title="Review Functions"></a>Review Functions</h2><ul>
<li><em>Functions</em> are written to perform a task.</li>
<li>Functions take data, perform a set of tasks on the data, and then return the result.</li>
<li>We can define parameters to be used when calling the function.</li>
<li>When calling a function, we can pass in <em>arguments</em>, which will set the function’s parameters.</li>
<li>We can use <code>return</code> to return the result of a function which allows us to call functions anywhere, even inside other functions.</li>
</ul>
<hr>
<h2 id="Function-构造函数"><a href="#Function-构造函数" class="headerlink" title="Function() 构造函数"></a>Function() 构造函数</h2><p>函数同样可以通过内置的 JavaScript 函数构造器（Function()）定义。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var myFunction = new Function(&quot;a&quot;, &quot;b&quot;, &quot;return a * b&quot;);</div><div class="line">var x = myFunction(4, 3);</div><div class="line"></div><div class="line">// 实际上，你不必使用构造函数。上面实例可以写成：</div><div class="line"></div><div class="line">var myFunction = function (a, b) &#123;return a * b&#125;</div><div class="line">var x = myFunction(4, 3);</div></pre></td></tr></table></figure>
<p><strong>Note:</strong> 在 JavaScript 中，很多时候，你需要避免使用 <strong>new</strong> 关键字。</p>
<h2 id="函数提升（Hoisting）"><a href="#函数提升（Hoisting）" class="headerlink" title="函数提升（Hoisting）"></a>函数提升（Hoisting）</h2><p>提升（Hoisting）是 JavaScript 默认将当前作用域提升到前面去的的行为。</p>
<p>提升（Hoisting）应用在变量的声明与函数的声明。</p>
<p>因此，函数可以在声明之前调用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">myFunction(<span class="number">5</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">y</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> y * y;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>Note:</strong> 使用表达式定义函数时无法提升。</p>
<h2 id="自调用函数"><a href="#自调用函数" class="headerlink" title="自调用函数"></a>自调用函数</h2><p>函数表达式可以 “自调用”。</p>
<p>自调用表达式会自动调用。</p>
<p>如果表达式后面紧跟 () ，则会自动调用。</p>
<p>Y不能自调用声明的函数。</p>
<p>通过添加括号，来说明它是一个函数表达式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> x = <span class="string">"Hello!!"</span>;      <span class="comment">// 我将调用自己</span></div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<p>以上函数实际上是一个 <strong>匿名自我调用的函数</strong> (没有函数名)。</p>
<h2 id="函数可作为一个值使用"><a href="#函数可作为一个值使用" class="headerlink" title="函数可作为一个值使用"></a>函数可作为一个值使用</h2><p>JavaScript 函数作为一个值使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> a * b;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> x = myFunction(<span class="number">4</span>, <span class="number">3</span>);</div></pre></td></tr></table></figure>
<p>JavaScript 函数可作为表达式使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> a * b;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> x = myFunction(<span class="number">4</span>, <span class="number">3</span>) * <span class="number">2</span>;</div></pre></td></tr></table></figure>
<h2 id="函数是对象"><a href="#函数是对象" class="headerlink" title="函数是对象"></a>函数是对象</h2><p>在 JavaScript 中使用 <strong>typeof</strong> 操作符判断函数类型将返回 “function” 。</p>
<p>但，JavaScript 函数描述为一个对象更加准确。</p>
<p>JavaScript 函数有 <strong>属性</strong> 和 <strong>方法</strong>。</p>
<p>arguments.length 属性返回函数调用过程接收到的参数个数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction1</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">arguments</span>.length;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction2</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> a * b;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> txt = myFunction2.toString();</div></pre></td></tr></table></figure>
<p><strong>Note:</strong> 函数定义作为对象的属性，称之为对象方法。函数如果用于创建新的对象，称之为对象的构造函数。</p>
<h1 id="Recursion（递归）"><a href="#Recursion（递归）" class="headerlink" title="Recursion（递归）"></a>Recursion（递归）</h1><p>This is an extremely important algorithmic concept that involves splitting a problem into two parts: a <em>base case</em>and a <em>recursive case</em>. The problem is divided into smaller subproblems which are then solved recursively until such time as they are small enough and meet some base case; once the base case is met, the solutions for each subproblem are combined and their result is the answer to the entire problem.</p>
<p>If the base case is not met, the function’s recursive case calls the function again with modified values. The code must be structured in such a way that the base case is reachable after some number of iterations, meaning that each subsequent modified value should bring you closer and closer to the base case; otherwise, you’ll be stuck in the dreaded <a href="https://en.wikipedia.org/wiki/Infinite_loop" target="_blank" rel="external">infinite loop</a>!</p>
<p>It’s important to note that any task that can be accomplished recursively can also be performed <a href="https://en.wikipedia.org/wiki/Iteration#Computing" target="_blank" rel="external">iteratively</a> (i.e., through a sequence of repeatable steps). Recursive solutions tend to be easier to read and understand than iterative ones, but there are often performance drawbacks associated with recursive solutions that you’re going to want to evaluate on a case-by-case basis. Typically, we use recursion when each recursive call significantly reduces the size of the problem (e.g., if we can halve the dataset during each recursive call). Regardless of the advisability of recursively solving a problem, it’s extremely important to practice and understand <em>how</em> to recursively solve problems.</p>
<h2 id="Example-Java"><a href="#Example-Java" class="headerlink" title="Example (Java)"></a>Example (Java)</h2><p><strong>Input Format</strong><br>Two space-separated integers to be multiplied.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="comment">// Multiply 'n' by 'k' using addition:</span></div><div class="line">    private <span class="keyword">static</span> int nTimesK(int n, int k) &#123;</div><div class="line">        <span class="comment">// Print current value of n</span></div><div class="line">        System.out.println(<span class="string">"n: "</span> + n);</div><div class="line"></div><div class="line">        <span class="comment">// Recursive Case</span></div><div class="line">        <span class="keyword">if</span>(n &gt; <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> k + nTimesK(n - <span class="number">1</span>, k);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// Base Case n = 1</span></div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> k;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) &#123;</div><div class="line">    	Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">        int result = nTimesK(scanner.nextInt(), scanner.nextInt());</div><div class="line">        scanner.close();</div><div class="line">        System.out.println(<span class="string">"Result: "</span> + result);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// &lt;== 4 4</div><div class="line">// ==&gt;</div><div class="line">n: 4</div><div class="line">n: 3</div><div class="line">n: 2</div><div class="line">n: 1</div><div class="line">Result: 16</div></pre></td></tr></table></figure>
<p>The diagram below depicts the execution of the code above using the default input (<code>4 4</code>). Each call to <em>nTimesK</em> is represented by a bubble, and each new recursive call bubble is stacked inside and on top of the bubble that was responsible for calling it. The function recursively calls itself using reduced values until it reaches the base case (). Once it reaches the base case, it passes back the base case’s return value () to the bubble that called it and continues passing back <code>k +</code> the previously returned value until the final result (i.e.: the multiplication by addition result of ) is returned.</p>
<p><img src="https://s3.amazonaws.com/hr-challenge-images/17162/1456174849-459a4048f8-Recursion2.png" alt="Recursion 2.png"></p>
<p>Once the code hits the base case in the  bubble, it returns  (which is ) to the  bubble.<br>Then the  bubble returns , which is , to the  bubble.<br>Then the  bubble returns , which is , to the  bubble.<br>Then the  bubble returns , which is , to the first line in <em>main</em> as the result for , which assigns  to the  variable.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/09/Basics/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Katherine Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时间的朋友">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/09/Basics/" itemprop="url">Javascript Basics （语言核心）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-09T12:35:37+08:00">
                2017-10-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/09/Basics/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/09/Basics/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="JavaScript简介"><a href="#JavaScript简介" class="headerlink" title="JavaScript简介"></a>JavaScript简介</h1><ul>
<li>JavaScript 是 Web 的编程语言。</li>
<li>所有现代的 HTML 页面都使用 JavaScript。</li>
<li>JavaScript 是互联网上最流行的脚本语言，这门语言可用于 HTML 和 web，更可广泛用于服务器、PC、笔记本电脑、平板电脑和智能手机等设备。</li>
<li>JavaScript 是一种轻量级的编程语言。</li>
<li>JavaScript 是可插入 HTML 页面的编程代码。</li>
<li>JavaScript 插入 HTML 页面后，可由所有的现代浏览器执行。</li>
<li>JavaScript 很容易学习。</li>
<li>JavaScript 是脚本语言。浏览器会在读取代码时，逐行地执行脚本代码。而对于传统编程来说，会在执行前对所有代码进行编译。</li>
</ul>
<hr>
<h1 id="JavaScript-用法"><a href="#JavaScript-用法" class="headerlink" title="JavaScript 用法"></a>JavaScript 用法</h1><ol>
<li>HTML 中的脚本必须位于 <code>&lt;script&gt;</code> 与 <code>&lt;/script&gt;</code> 标签之间。</li>
<li>脚本可被放置在 HTML 页面的 <code>&lt;body&gt;</code> 和 <code>&lt;head&gt;</code> 部分中，或者同时存在于两个部分中。通常的做法是把函数放入 <code>&lt;head&gt;</code> 部分中，或者放在页面底部。这样就可以把它们安置到同一处位置，不会干扰页面的内容。</li>
<li>那些老旧的实例可能会在 <code>&lt;script&gt;</code> 标签中使用 <code>type=&quot;text/javascript&quot;</code>。现在已经不必这样做了。JavaScript 是所有现代浏览器以及 HTML5 中的默认脚本语言。</li>
<li>可以在 HTML 文档中放入不限数量的脚本。</li>
<li>把脚本保存到外部文件中。外部文件通常包含被多个网页使用的代码：<code>&lt;script src=&quot;myScript.js&quot;&gt;&lt;/script&gt;</code></li>
<li>外部脚本不能包含<code>&lt;script&gt;</code> 标签。</li>
</ol>
<hr>
<h1 id="JavaScript-输出"><a href="#JavaScript-输出" class="headerlink" title="JavaScript 输出"></a>JavaScript 输出</h1><p>JavaScript 没有任何打印或者输出的函数。JavaScript 可以通过不同的方式来输出数据：</p>
<ul>
<li>使用 <strong>window.alert()</strong> 弹出警告框。</li>
<li>使用 <strong>document.write()</strong> 方法将内容写到 HTML 文档中。</li>
<li>使用 <strong>innerHTML</strong> 写入到 HTML 元素。</li>
<li>使用 <strong>console.log()</strong> 写入到浏览器的控制台。</li>
</ul>
<h2 id="写到-HTML-文档"><a href="#写到-HTML-文档" class="headerlink" title="写到 HTML 文档"></a>写到 HTML 文档</h2><p>下面的例子直接把 <code>&lt;p&gt;</code> 元素写到 HTML 文档输出中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个 Web 页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined">document.write(Date());</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>请使用 <code>document.write()</code> 仅仅向文档输出写内容。如果在文档已完成加载后执行 <code>document.write</code>，整个 HTML 页面将被覆盖：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一张网页<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>点击这里<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined">function myFunction()</span></div><div class="line"><span class="undefined">&#123;</span></div><div class="line"><span class="undefined">document.write("糟糕！文档消失了。");</span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="改变-HTML-内容"><a href="#改变-HTML-内容" class="headerlink" title="改变 HTML 内容"></a>改变 HTML 内容</h2><blockquote>
<p> 访问某个 HTML 元素： <code>document.getElementById(id)</code> 方法</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一段 JavaScript<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span>JavaScript 能改变 HTML 元素的内容。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined">function myFunction()</span></div><div class="line"><span class="undefined">&#123;</span></div><div class="line"><span class="undefined">	x=document.getElementById("demo");  // 找到元素</span></div><div class="line"><span class="undefined">	x.innerHTML="Hello JavaScript!";    // 改变内容</span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>点击这里<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
<p><code>&quot;id&quot;</code> 属性来标识 HTML 元素，通过指定的 <code>id</code> 来访问 HTML 元素，并改变其内容。</p>
<p>这个方法是 HTML DOM 中定义的。</p>
<p>DOM (<strong>D</strong>ocument <strong>O</strong>bject <strong>M</strong>odel)（文档对象模型）是用于访问 HTML 元素的正式 W3C 标准。</p>
<h2 id="Console（写到控制台）"><a href="#Console（写到控制台）" class="headerlink" title="Console（写到控制台）"></a>Console（写到控制台）</h2><blockquote>
<p> 如果您的浏览器支持调试，你可以使用 <strong>console.log()</strong> 方法在浏览器中显示 JavaScript 值。</p>
<p> The <code>console.log()</code> command is used to print, or log, text to the console.</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个 Web 页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">浏览器中(Chrome, IE, Firefox) 使用 F12 来启用调试模式， 在调试窗口中点击 "Console" 菜单。</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined">a = 5;</span></div><div class="line"><span class="undefined">b = 6;</span></div><div class="line"><span class="undefined">c = a + b;</span></div><div class="line"><span class="undefined">console.log(c);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"You entered the following text in the Input box:"</span>);</div><div class="line"></div><div class="line">    <span class="keyword">const</span> input = readLine();</div><div class="line">    <span class="built_in">console</span>.log(input);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># input</span></div><div class="line">I<span class="string">'m using JavaScript to print to stdout.</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string"># output</span></div><div class="line"><span class="string">You entered the following text in the Input box:</span></div><div class="line"><span class="string">I'</span>m using JavaScript to <span class="built_in">print</span> to stdout.</div></pre></td></tr></table></figure>
<hr>
<h2 id="Alert（对事件的反应）"><a href="#Alert（对事件的反应）" class="headerlink" title="Alert（对事件的反应）"></a>Alert（对事件的反应）</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"alert('欢迎!')"</span>&gt;</span>点我!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
<p><code>alert()</code>函数在 JavaScript 中并不常用，但它对于代码测试非常方便。</p>
<h2 id="改变-HTML-图像"><a href="#改变-HTML-图像" class="headerlink" title="改变 HTML 图像"></a>改变 HTML 图像</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">changeImage</span>(<span class="params"></span>)</span></span></div><div class="line"><span class="undefined">&#123;</span></div><div class="line"><span class="javascript">	element=<span class="built_in">document</span>.getElementById(<span class="string">'myimage'</span>)</span></div><div class="line"><span class="javascript">	<span class="keyword">if</span> (element.src.match(<span class="string">"bulbon"</span>))</span></div><div class="line"><span class="undefined"> 	&#123;</span></div><div class="line"><span class="javascript">  		element.src=<span class="string">"/statics/images/course/pic_bulboff.gif"</span>;</span></div><div class="line"><span class="undefined">  	&#125;</span></div><div class="line"><span class="javascript">	<span class="keyword">else</span></span></div><div class="line"><span class="undefined">   &#123;</span></div><div class="line"><span class="javascript">  		element.src=<span class="string">"/statics/images/course/pic_bulbon.gif"</span>;</span></div><div class="line"><span class="undefined">   &#125;</span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"myimage"</span> <span class="attr">onclick</span>=<span class="string">"changeImage()"</span></span></div><div class="line"><span class="tag"><span class="attr">src</span>=<span class="string">"/statics/images/course/pic_bulboff.gif"</span> <span class="attr">width</span>=<span class="string">"100"</span> <span class="attr">height</span>=<span class="string">"180"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>点击灯泡就可以打开或关闭这盏灯<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="改变-HTML-样式"><a href="#改变-HTML-样式" class="headerlink" title="改变 HTML 样式"></a>改变 HTML 样式</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一段 JavaScript<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span></div><div class="line">JavaScript 能改变 HTML 元素的样式。</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>)</span></span></div><div class="line"><span class="undefined">&#123;</span></div><div class="line"><span class="javascript">	x=<span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>) <span class="comment">// 找到元素</span></span></div><div class="line"><span class="javascript">	x.style.color=<span class="string">"#ff0000"</span>;          <span class="comment">// 改变样式</span></span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>点击这里<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="验证输入"><a href="#验证输入" class="headerlink" title="验证输入"></a>验证输入</h2><p>JavaScript 常用于验证用户的输入。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一段 JavaScript<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>请输入数字。如果输入值不是数字，浏览器会弹出提示框。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"demo"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>)</span></span></div><div class="line"><span class="undefined">&#123;</span></div><div class="line"><span class="javascript">	<span class="keyword">var</span> x=<span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).value;</span></div><div class="line"><span class="javascript">	<span class="keyword">if</span>(x==<span class="string">""</span>||<span class="built_in">isNaN</span>(x))</span></div><div class="line"><span class="undefined">	&#123;</span></div><div class="line"><span class="javascript">		alert(<span class="string">"不是数字"</span>);</span></div><div class="line"><span class="undefined">	&#125;</span></div><div class="line"><span class="undefined">&#125;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>点击这里<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
<hr>
<h1 id="语句、代码、代码块"><a href="#语句、代码、代码块" class="headerlink" title="语句、代码、代码块"></a>语句、代码、代码块</h1><h2 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h2><blockquote>
<p> JavaScript 语句向浏览器发出的命令。语句的作用是告诉浏览器该做什么。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML=<span class="string">"Hello World"</span>;</div></pre></td></tr></table></figure>
<p>Optional Semicolon（可选的分号）—— 像许多编程语言一样，JavaScript使用分号（<code>;</code>）来分隔语句。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><blockquote>
<p> JavaScript 代码是 JavaScript 语句的序列。浏览器会按照编写顺序来执行每条语句。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML=<span class="string">"Hello World"</span>;</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"myDIV"</span>).innerHTML=<span class="string">"How are you?"</span>;</div></pre></td></tr></table></figure>
<h2 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h2><blockquote>
<p>  JavaScript 可以分批地组合起来。代码块以左花括号开始，以右花括号结束。</p>
<p>  代码块的作用是一并地执行语句序列。JavaScript 函数是将语句组合在块中的典型例子。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>)</span></div><div class="line"><span class="function"></span>&#123;</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML=<span class="string">"Hello World"</span>;</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"myDIV"</span>).innerHTML=<span class="string">"How are you?"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h1 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h1><h2 id="Arithmetic-Operators（算术运算符）"><a href="#Arithmetic-Operators（算术运算符）" class="headerlink" title="Arithmetic Operators（算术运算符）"></a>Arithmetic Operators（算术运算符）</h2><blockquote>
<p> An arithmetic operator takes numeric values (either literals or variables) as its operands and returns a single numeric value.</p>
</blockquote>
<p>给定 <code>y=5</code>，下面的表格解释了这些算术运算符：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>例子</th>
<th>x 运算结果</th>
<th>y 运算结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>加法</td>
<td>x=y+2</td>
<td>7</td>
<td>5</td>
</tr>
<tr>
<td>-</td>
<td>减法</td>
<td>x=y-2</td>
<td>3</td>
<td>5</td>
</tr>
<tr>
<td>*</td>
<td>乘法</td>
<td>x=y*2</td>
<td>10</td>
<td>5</td>
</tr>
<tr>
<td>/</td>
<td>除法</td>
<td>x=y/2</td>
<td>2.5</td>
<td>5</td>
</tr>
<tr>
<td>%</td>
<td>取模（余数）</td>
<td>x=y%2</td>
<td>1</td>
<td>5</td>
</tr>
<tr>
<td>++</td>
<td>自增（累加）</td>
<td>x=++y</td>
<td>6</td>
<td>6</td>
</tr>
<tr>
<td></td>
<td></td>
<td>x=y++</td>
<td>5</td>
<td>6</td>
</tr>
<tr>
<td>–</td>
<td>自减</td>
<td>x=–y</td>
<td>4</td>
<td>4</td>
</tr>
<tr>
<td></td>
<td></td>
<td>x=y–</td>
<td>5</td>
<td>4</td>
</tr>
</tbody>
</table>
<ul>
<li>所有无法转换为数字的操作数都转换为<code>NaN</code>值。如果操作数（或转换结果）是<code>NaN</code>值，算术运算的结果也是<code>NaN</code>。</li>
<li>运算符的行为依赖于类型转换的结果。</li>
</ul>
<h3 id="1-Addition"><a href="#1-Addition" class="headerlink" title="1. Addition (+)"></a>1. Addition (<code>+</code>)</h3><blockquote>
<p> <code>operand1 + operand2</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="number">2</span> + <span class="number">3</span>                     <span class="comment">// ==&gt; 5</span></div><div class="line"><span class="string">"hello"</span> + <span class="string">" "</span> + <span class="string">"there"</span>   <span class="comment">// ==&gt; "hello there"</span></div><div class="line"><span class="number">1</span> + <span class="number">2</span>                     <span class="comment">// ==&gt; 3</span></div><div class="line"><span class="string">"1"</span> + <span class="string">"2"</span>                 <span class="comment">// ==&gt; 12   都是字符串</span></div><div class="line"><span class="string">"1"</span> + <span class="number">2</span>                   <span class="comment">// ==&gt; 12   优先考虑字符串连接</span></div><div class="line"><span class="number">1</span> + &#123;&#125;                    <span class="comment">// ==&gt; "1[object Object]"</span></div><div class="line"><span class="literal">true</span> + <span class="literal">true</span>               <span class="comment">// ==&gt; 2</span></div><div class="line"><span class="number">2</span> + <span class="literal">null</span>                  <span class="comment">// ==&gt; 2</span></div><div class="line"><span class="number">2</span> + <span class="literal">undefined</span>             <span class="comment">// ==&gt; NaN</span></div><div class="line"></div><div class="line"><span class="number">1</span> + <span class="number">2</span> + <span class="string">"blind mice"</span>;      <span class="comment">// ==&gt; "3 blind mice"</span></div><div class="line"><span class="number">1</span> + (<span class="number">2</span> + <span class="string">"blind mice"</span>);    <span class="comment">// ==&gt; "12 blind mice"</span></div></pre></td></tr></table></figure>
<h4 id="用于字符串的-运算符"><a href="#用于字符串的-运算符" class="headerlink" title="用于字符串的 + 运算符"></a>用于字符串的 + 运算符</h4><blockquote>
<p> + 运算符用于把文本值或字符串变量加起来（连接起来）。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">txt1=&quot;What a very &quot;;</div><div class="line">txt2=&quot;nice day&quot;;</div><div class="line">txt3=txt1+txt2;</div><div class="line">// ==&gt; &quot;What a very nice day&quot;</div><div class="line"></div><div class="line"> // 或者把空格插入表达式中：</div><div class="line">txt1=&quot;What a very&quot;;</div><div class="line">txt2=&quot;nice day&quot;;</div><div class="line">txt3=txt1+&quot; &quot;+txt2;          </div><div class="line">// ==&gt; &quot;What a very nice day&quot;</div></pre></td></tr></table></figure>
<p>要想在两个字符串之间增加空格，需要把空格插入一个字符串之中：</p>
<h4 id="对字符串和数字进行加法运算："><a href="#对字符串和数字进行加法运算：" class="headerlink" title="对字符串和数字进行加法运算："></a>对字符串和数字进行加法运算：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">x=5+5;			  // ==&gt; 10</div><div class="line">x=&quot;5&quot;+&quot;5&quot;;		// ==&gt; 55</div><div class="line">x=5+&quot;5&quot;;			// ==&gt; 55</div><div class="line">x=&quot;5&quot;+5;			// ==&gt; 55</div></pre></td></tr></table></figure>
<p>加号的转换规则：优先考虑字符串连接</p>
<ul>
<li>若其中一个操作数是字符串或者转换为字符串的对象，另外一个操作数将会转换为字符串。</li>
<li>若两个操作数都不是类字符串，那么都将进行算术加法运算。</li>
<li>如果把数字与字符串相加，结果将成为字符串!</li>
</ul>
<h3 id="2-Subtraction"><a href="#2-Subtraction" class="headerlink" title="2. Subtraction (-)"></a>2. Subtraction (<code>-</code>)</h3><blockquote>
<p> <code>operand1 - operand2</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">3</span> - <span class="number">2</span> <span class="comment">// ==&gt; 1</span></div><div class="line"><span class="number">4</span> - <span class="number">10</span> <span class="comment">// ==&gt; -6</span></div></pre></td></tr></table></figure>
<h3 id="3-Multiplication"><a href="#3-Multiplication" class="headerlink" title="3. Multiplication (*)"></a>3. Multiplication (<code>*</code>)</h3><blockquote>
<p> <code>operand1 * operand2</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">3</span> * <span class="number">2</span> <span class="comment">// ==&gt; 6</span></div><div class="line"><span class="number">4</span> * <span class="number">10</span> <span class="comment">// ==&gt; 40</span></div></pre></td></tr></table></figure>
<h3 id="4-Division"><a href="#4-Division" class="headerlink" title="4. Division (/)"></a>4. Division (<code>/</code>)</h3><blockquote>
<p> <code>operand1 / operand2</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="number">6</span> / <span class="number">3</span> <span class="comment">// ==&gt; 2</span></div><div class="line"><span class="number">3</span> / <span class="number">2</span> <span class="comment">// ==&gt; 1.5</span></div><div class="line"><span class="number">4</span> / <span class="number">10</span> <span class="comment">// ==&gt; 0.4</span></div><div class="line"><span class="number">0</span> / <span class="number">0</span>  <span class="comment">// ==&gt; NaN</span></div></pre></td></tr></table></figure>
<h3 id="5-Remainder"><a href="#5-Remainder" class="headerlink" title="5. Remainder (%)"></a>5. Remainder (<code>%</code>)</h3><blockquote>
<p> <code>operand1 % operand2</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="number">6</span> % <span class="number">3</span> <span class="comment">// ==&gt; 0</span></div><div class="line"><span class="number">3</span> % <span class="number">2</span> <span class="comment">// ==&gt; 1</span></div><div class="line"><span class="number">4</span> % <span class="number">10</span> <span class="comment">// ==&gt; 4</span></div><div class="line"><span class="number">-5</span> % <span class="number">2</span>  <span class="comment">// ==&gt; -1</span></div><div class="line"><span class="number">5</span> % <span class="number">2</span>  <span class="comment">// ==&gt; 1</span></div><div class="line"><span class="number">6.5</span> % <span class="number">2.1</span>  <span class="comment">// ==&gt; 0.2</span></div></pre></td></tr></table></figure>
<h3 id="6-Exponentiation"><a href="#6-Exponentiation" class="headerlink" title="6. Exponentiation (**)"></a>6. Exponentiation (<code>**</code>)</h3><blockquote>
<p> <code>operand1 ** operand2</code>. This operator is a part of ECMAScript2016 feature set</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">2</span> ** <span class="number">3</span> <span class="comment">// ==&gt; 8</span></div><div class="line"><span class="number">3</span> ** <span class="number">2</span> <span class="comment">// ==&gt; 9</span></div><div class="line"><span class="number">5</span> ** <span class="number">4</span> <span class="comment">// ==&gt; 625</span></div></pre></td></tr></table></figure>
<h3 id="7-Unary-Negation"><a href="#7-Unary-Negation" class="headerlink" title="7. Unary Negation (-)"></a>7. Unary Negation (<code>-</code>)</h3><blockquote>
<p> <code>-operand</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">-4</span> <span class="comment">// ==&gt; -4</span></div><div class="line">-(<span class="number">-5</span>) <span class="comment">// ==&gt; 5 (not --5)</span></div></pre></td></tr></table></figure>
<h3 id="8-Unary-Plus"><a href="#8-Unary-Plus" class="headerlink" title="8. Unary Plus (+)"></a>8. Unary Plus (<code>+</code>)</h3><blockquote>
<p> <code>+operand</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">+<span class="number">4</span> <span class="comment">// ==&gt; 4</span></div><div class="line">+(<span class="number">-4</span>) <span class="comment">// ==&gt; -4</span></div></pre></td></tr></table></figure>
<h3 id="9-Increment-递增"><a href="#9-Increment-递增" class="headerlink" title="9. Increment 递增 (++)"></a>9. Increment 递增 (<code>++</code>)</h3><p>We use this operator in the 前增量prefix and 后增量postfix forms, forms <code>++operand</code> and <code>operand++</code>.</p>
<ul>
<li><code>++operand</code>, increments the operand by  and then returns the value of the operand.</li>
<li><code>operand++</code>, returns the value of the operand and <em>then</em> increments the operand’s value by .</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function main(input) &#123;</div><div class="line">    var a = input;</div><div class="line">    // Print the value of &apos;a&apos; and the preincremented value of &apos;a&apos;:</div><div class="line">    console.log(&quot;a(&quot; + a + &quot;), ++a(&quot; + ++a + &quot;)&quot;);</div><div class="line">    // Assign the current value of &apos;a&apos; to &apos;b&apos; and then postincrement &apos;a&apos;:</div><div class="line">    var b = a++;</div><div class="line">    // Print the values of &apos;a&apos; once and &apos;b&apos; twice, then postincrement the 2nd &apos;b&apos;:</div><div class="line">    console.log(&quot;a(&quot; + a + &quot;), b(&quot; + b + &quot;), b++(&quot; + b++ + &quot;)&quot;);</div><div class="line">    // Print the final values of &apos;a&apos; and &apos;b&apos;:</div><div class="line">    console.log(&quot;a(&quot; + a + &quot;), b(&quot; + b + &quot;)&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">// input  ==&gt; 4</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a(<span class="number">4</span>), ++a(<span class="number">5</span>)</div><div class="line">a(<span class="number">6</span>), b(<span class="number">5</span>), b++(<span class="number">5</span>)</div><div class="line">a(<span class="number">6</span>), b(<span class="number">6</span>)</div></pre></td></tr></table></figure>
<h3 id="10-Decrement-递减"><a href="#10-Decrement-递减" class="headerlink" title="10. Decrement 递减 (--)"></a>10. Decrement 递减 (<code>--</code>)</h3><p>We use this operator in the prefix and postfix forms, forms <code>--operand</code> and <code>operand--</code>.</p>
<ul>
<li><code>--operand</code>, decrements the operand by  and then returns the value of the operand.</li>
<li><code>operand--</code>, returns the value of the operand and <em>then</em> decrements the operand’s value by .</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">input</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> a = input;</div><div class="line">    <span class="comment">// Print the value of 'a' and the predecremented value of 'a':</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"a("</span> + a + <span class="string">"), --a("</span> + --a + <span class="string">")"</span>);</div><div class="line">    <span class="comment">// Assign the current value of 'a' to 'b' and then postdecrement 'a':</span></div><div class="line">    <span class="keyword">var</span> b = a--;</div><div class="line">    <span class="comment">// Print the values of 'a' once and 'b' twice, then postdecrement the 2nd 'b':</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"a("</span> + a + <span class="string">"), b("</span> + b + <span class="string">"), b--("</span> + b-- + <span class="string">")"</span>);</div><div class="line">    <span class="comment">// Print the final values of 'a' and 'b':</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"a("</span> + a + <span class="string">"), b("</span> + b + <span class="string">")"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// input  ==&gt; 4</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a(<span class="number">4</span>), --a(<span class="number">3</span>)</div><div class="line">a(<span class="number">2</span>), b(<span class="number">3</span>), b--(<span class="number">3</span>)</div><div class="line">a(<span class="number">2</span>), b(<span class="number">2</span>)</div></pre></td></tr></table></figure>
<h3 id="Task——Area-and-perimeter-of-rectangle"><a href="#Task——Area-and-perimeter-of-rectangle" class="headerlink" title="Task——Area and perimeter of rectangle"></a>Task——Area and perimeter of rectangle</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment">*   Calculate the area of a rectangle.</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">*   length: The length of the rectangle.</span></div><div class="line"><span class="comment">*   width: The width of the rectangle.</span></div><div class="line"><span class="comment">*   </span></div><div class="line"><span class="comment">*	Return a number denoting the rectangle's area.</span></div><div class="line"><span class="comment">**/</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getArea</span>(<span class="params">length, width</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> area;</div><div class="line">    <span class="comment">// Write your code here</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> area;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment">*   Calculate the perimeter of a rectangle.</span></div><div class="line"><span class="comment">*</span></div><div class="line"><span class="comment">*	length: The length of the rectangle.</span></div><div class="line"><span class="comment">*   width: The width of the rectangle.</span></div><div class="line"><span class="comment">*   </span></div><div class="line"><span class="comment">*	Return a number denoting the perimeter of a rectangle.</span></div><div class="line"><span class="comment">**/</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPerimeter</span>(<span class="params">length, width</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> perimeter;</div><div class="line">    <span class="comment">// Write your code here</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> perimeter;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> length = +(readLine());</div><div class="line">    <span class="keyword">const</span> width = +(readLine());</div><div class="line"></div><div class="line">    <span class="built_in">console</span>.log(getArea(length, width));</div><div class="line">    <span class="built_in">console</span>.log(getPerimeter(length, width));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>Input</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4.5</span></div></pre></td></tr></table></figure>
<p><strong>Output</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">13.5</span></div><div class="line"><span class="number">15</span></div></pre></td></tr></table></figure>
<p><strong>answer</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getArea</span>(<span class="params">length, width</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> area;</div><div class="line">    area = length * width;</div><div class="line">    <span class="keyword">return</span> area;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPerimeter</span>(<span class="params">length, width</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> perimeter;</div><div class="line">    perimeter = (length + width) * <span class="number">2</span>;</div><div class="line">    <span class="keyword">return</span> perimeter;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Operator-Types"><a href="#Operator-Types" class="headerlink" title="Operator Types"></a>Operator Types</h2><h3 id="Unary（一元）"><a href="#Unary（一元）" class="headerlink" title="Unary（一元）"></a>Unary（一元）</h3><blockquote>
<p> A <em>unary</em> operator requires a single operand, either before or after the operator, following this format:</p>
</blockquote>
<p><code>a++</code>, <code>++</code>,<code>+</code>,<code>-</code>,<code>--</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">operand operator</div><div class="line">operator operand</div></pre></td></tr></table></figure>
<ul>
<li>作用于一个单独的操作数，并产生一个新值</li>
<li>有很高的优先级，而且都是右结合（right-associative）</li>
</ul>
<h3 id="Binary（二进制）"><a href="#Binary（二进制）" class="headerlink" title="Binary（二进制）"></a>Binary（二进制）</h3><blockquote>
<p> A <em>binary</em> operator requires two operands, one before the operator and one after the operator, following this format:</p>
</blockquote>
<p><code>+</code>,<code>-</code>,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">operand1 operator operand2</div></pre></td></tr></table></figure>
<p>For example, in the expression <code>a + b = c</code>, <code>+</code> is a binary operator.</p>
<h3 id="Ternary（三元）（条件运算符）"><a href="#Ternary（三元）（条件运算符）" class="headerlink" title="Ternary（三元）（条件运算符）"></a>Ternary（三元）（条件运算符）</h3><blockquote>
<p> 基于某些条件对变量进行赋值的条件运算符。</p>
<p> There is one <em>ternary</em> operator, the conditional operator. </p>
<p> the use of <code>?</code> and <code>:</code> in this manner constitutes the ternary operator. </p>
</blockquote>
<p><code>*variablename*=(*condition*)?*value1*:*value2*</code>即 <code>a ? b : c</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">voteable=(age&lt;<span class="number">18</span>)?<span class="string">"年龄太小"</span>:<span class="string">"年龄已达到"</span>;</div></pre></td></tr></table></figure>
<h2 id="Comparison-Operators（比较运算符）"><a href="#Comparison-Operators（比较运算符）" class="headerlink" title="Comparison Operators（比较运算符）"></a>Comparison Operators（比较运算符）</h2><blockquote>
<p> 比较运算符在逻辑语句中使用，以测定变量或值是否相等。</p>
</blockquote>
<p>给定 x=5，下面的表格解释了比较运算符：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">比较</th>
<th>返回值</th>
</tr>
</thead>
<tbody>
<tr>
<td>==</td>
<td style="text-align:left">等于</td>
<td style="text-align:left">x==8</td>
<td><em>false</em></td>
</tr>
<tr>
<td></td>
<td style="text-align:left"></td>
<td style="text-align:left">x==5</td>
<td>true</td>
</tr>
<tr>
<td>===</td>
<td style="text-align:left">绝对等于（值和类型均相等）</td>
<td style="text-align:left">x===”5”</td>
<td><em>false</em></td>
</tr>
<tr>
<td></td>
<td style="text-align:left"></td>
<td style="text-align:left">x===5</td>
<td>true</td>
</tr>
<tr>
<td>!=</td>
<td style="text-align:left">不等于</td>
<td style="text-align:left">x!=8</td>
<td><em>true</em></td>
</tr>
<tr>
<td>!==</td>
<td style="text-align:left">绝对不等于（值或类型不相等）</td>
<td style="text-align:left">x!==”5”</td>
<td><em>true</em></td>
</tr>
<tr>
<td></td>
<td style="text-align:left"></td>
<td style="text-align:left">x!==5</td>
<td>false</td>
</tr>
<tr>
<td>&gt;</td>
<td style="text-align:left">大于</td>
<td style="text-align:left">x&gt;8</td>
<td><em>false</em></td>
</tr>
<tr>
<td>&lt;</td>
<td style="text-align:left">小于</td>
<td style="text-align:left">x&lt;8</td>
<td><em>true</em></td>
</tr>
<tr>
<td>&gt;=</td>
<td style="text-align:left">大于或等于</td>
<td style="text-align:left">x&gt;=8</td>
<td><em>false</em></td>
</tr>
<tr>
<td>&lt;=</td>
<td style="text-align:left">小于或等于</td>
<td style="text-align:left">x&lt;=8</td>
<td><em>true</em></td>
</tr>
</tbody>
</table>
<h2 id="Logical-Operators（逻辑运算符）"><a href="#Logical-Operators（逻辑运算符）" class="headerlink" title="Logical Operators（逻辑运算符）"></a>Logical Operators（逻辑运算符）</h2><blockquote>
<p> 逻辑运算符用于测定变量或值之间的逻辑。</p>
</blockquote>
<p>给定 x=6 以及 y=3，下表解释了逻辑运算符：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td>&amp;&amp;</td>
<td>and(both must be true)</td>
<td>(x &lt; 10 &amp;&amp; y &gt; 1) 为 true</td>
</tr>
<tr>
<td>\</td>
<td>\</td>
<td></td>
<td>or(either can be true)</td>
<td>(x==5 \</td>
<td>\</td>
<td>y==5) 为 false</td>
</tr>
<tr>
<td>!</td>
<td>not</td>
<td>!(x==y) 为 true</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (stopLight === <span class="string">'green'</span> &amp;&amp; pedestrians === <span class="literal">false</span>) &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Go!'</span>);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Stop'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Mathematical-Assignment-Operators（赋值运算符）"><a href="#Mathematical-Assignment-Operators（赋值运算符）" class="headerlink" title="Mathematical Assignment Operators（赋值运算符）"></a>Mathematical Assignment Operators（赋值运算符）</h2><p>赋值运算符用于给 JavaScript 变量赋值。</p>
<p>给定 <strong>x=10 </strong>和 <strong>y=5</strong> ，下面的表格解释了赋值运算符：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>例子</th>
<th>等同于</th>
<th>运算结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>x=y</td>
<td></td>
<td>x=5</td>
</tr>
<tr>
<td>+=</td>
<td>x+=y</td>
<td>x=x+y</td>
<td>x=15</td>
</tr>
<tr>
<td>-=</td>
<td>x-=y</td>
<td>x=x-y</td>
<td>x=5</td>
</tr>
<tr>
<td>*=</td>
<td>x*=y</td>
<td>x=x*y</td>
<td>x=50</td>
</tr>
<tr>
<td>/=</td>
<td>x/=y</td>
<td>x=x/y</td>
<td>x=2</td>
</tr>
<tr>
<td>%=</td>
<td>x%=y</td>
<td>x=x%y</td>
<td>x=0</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> x = <span class="number">4</span>;</div><div class="line">x = x + <span class="number">1</span>;                  <span class="comment">// ==&gt; 5</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> x = <span class="number">4</span>;</div><div class="line">x += <span class="number">2</span>;                     <span class="comment">// ==&gt; 6</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> y = <span class="number">4</span>;</div><div class="line">y -= <span class="number">2</span>;                     <span class="comment">// ==&gt; 2</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> z = <span class="number">4</span>;</div><div class="line">z *= <span class="number">2</span>;                     <span class="comment">// ==&gt; 8</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> r = <span class="number">4</span>;</div><div class="line">r++;                        <span class="comment">// ==&gt; 5</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> t = <span class="number">4</span>;</div><div class="line">t--;                        <span class="comment">// ==&gt; 3</span></div></pre></td></tr></table></figure>
<ol>
<li><code>+=</code>, <code>-=</code>, and <code>*=</code> perform the mathematical operation of the first operator (<code>+</code>, <code>-</code>, or <code>*</code>) using the number on the right, then assign the new value to the variable.</li>
<li>The increment (<code>++</code>) and decrement (<code>--</code>) operators are responsible for increasing and decreasing a number variable by one, respectively.</li>
</ol>
<h1 id="Character-Set（字符集）"><a href="#Character-Set（字符集）" class="headerlink" title="Character Set（字符集）"></a><a href="https://www.w3cschool.cn/charsets/ref-html-utf8.html" target="_blank" rel="external">Character Set（字符集）</a></h1><ul>
<li>JavaScript程序使用<em>Unicode</em>字符集编写。Unicode是<em>ASCII</em>和<em>Latin-1</em>的超集，并支持地球上几乎所有在用的语言。</li>
<li>JavaScript是区分大小写的语言（case-sensitive language）。HTML并不区分大小写（尽管XHTML区分大小写）。</li>
<li>JavaScript忽略程序中标记之间出现的空格。在大多数情况下，JavaScript也会忽略换行符。</li>
<li>对代码行进行折行。可在文本字符串中使用反斜杠（“\”)对代码行进行换行。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//正确</span></div><div class="line"><span class="built_in">document</span>.write(<span class="string">"你好 \</span></div><div class="line"><span class="string"> 世界!"</span>);</div><div class="line"></div><div class="line"><span class="comment">//错误</span></div><div class="line"> <span class="built_in">document</span>.write \</div><div class="line"> (<span class="string">"你好世界!"</span>);</div></pre></td></tr></table></figure>
<hr>
<h1 id="Comments（注释）"><a href="#Comments（注释）" class="headerlink" title="Comments（注释）"></a>Comments（注释）</h1><blockquote>
<p> JavaScript supports two styles of comments, as demonstrated below.</p>
</blockquote>
<ol>
<li><p>Inline Comments (single line comment)（单行注释）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// The first 5 decimals of pi</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Pi is equal to '</span> + <span class="number">3.14159</span>);</div></pre></td></tr></table></figure>
</li>
<li><p>Block Comments (multi-line comment)（多行注释）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">console.log('All of this code');</span></div><div class="line"><span class="comment">console.log('Is commented out');</span></div><div class="line"><span class="comment">console.log('And will not be executed);</span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h1 id="Identifiers（标识符）"><a href="#Identifiers（标识符）" class="headerlink" title="Identifiers（标识符）"></a>Identifiers（标识符）</h1><blockquote>
<p> 标识符只是一个名称，用来对变量和函数进行命名，以及为某些代码循环语句中的跳转位置的标记。</p>
<p> 和其他任何编程语言一样，JavaScript 保留了一些标识符为自己所用。这些关键字在当前的语言版本中并没有使用，但在以后 JavaScript 扩展中会用到。</p>
</blockquote>
<ul>
<li>JavaScript标识符必须以字母、下划线（<code>_</code>）或美元符号（<code>$</code>）开头。</li>
<li>后续字符可以是字母，下划线，美元符号或数字。</li>
<li>不允许将数字作为标识符的第一个字符。（以便 JavaScript 可以轻易区分开标识符和数字）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">x</div><div class="line">variable_name</div><div class="line">sum13</div><div class="line">_variable</div><div class="line">$variable</div></pre></td></tr></table></figure>
<p>许多标识符是<strong>保留字</strong>或<strong>关键字</strong>，这意味着它们是一组在语言本身具有特殊意义的预定义单词的一部分。不能在程序中使用这些单词作为标识符。</p>
<p>ECMAScript 5（ES5，2009 年发布），是 JavaScript 最新的官方版本。所有的现代浏览器已经完全支持 ES5。</p>
<h2 id="Keywords（关键字）"><a href="#Keywords（关键字）" class="headerlink" title="Keywords（关键字）"></a>Keywords（关键字）</h2><blockquote>
<p> JavaScript 语句通常以一个 <strong>语句标识符（关键词）</strong> 为开始，并执行该语句。语句标识符是保留关键字，不能作为变量名使用。</p>
</blockquote>
<p><strong>下表列出了 JavaScript 语句标识符 (关键字) ：</strong></p>
<table>
<thead>
<tr>
<th>语句</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>break</td>
<td>用于跳出循环。</td>
</tr>
<tr>
<td>catch</td>
<td>语句块，在 try 语句块执行出错时执行 catch 语句块。</td>
</tr>
<tr>
<td>continue</td>
<td>跳过循环中的一个迭代。</td>
</tr>
<tr>
<td>do … while</td>
<td>执行一个语句块，在条件语句为 true 时继续执行该语句块。</td>
</tr>
<tr>
<td>for</td>
<td>在条件语句为 true 时，可以将代码块执行指定的次数。</td>
</tr>
<tr>
<td>for … in</td>
<td>用于遍历数组或者对象的属性（对数组或者对象的属性进行循环操作）。</td>
</tr>
<tr>
<td>function</td>
<td>定义一个函数</td>
</tr>
<tr>
<td>if … else</td>
<td>用于基于不同的条件来执行不同的动作。</td>
</tr>
<tr>
<td>return</td>
<td>退出函数</td>
</tr>
<tr>
<td>switch</td>
<td>用于基于不同的条件来执行不同的动作。</td>
</tr>
<tr>
<td>throw</td>
<td>抛出（生成）错误 。</td>
</tr>
<tr>
<td>try</td>
<td>实现错误处理，与 catch 一同使用。</td>
</tr>
<tr>
<td>var</td>
<td>声明一个变量。</td>
</tr>
<tr>
<td>while</td>
<td>当条件语句为 true 时，执行语句块。</td>
</tr>
</tbody>
</table>
<h2 id="Reserved-Words-（保留关键字）"><a href="#Reserved-Words-（保留关键字）" class="headerlink" title="Reserved Words （保留关键字）"></a>Reserved Words （保留关键字）</h2><p>Javascript 的保留关键字不可以用作变量、标签或者函数名。有些保留关键字是作为 Javascript 以后扩展使用。</p>
<table>
<thead>
<tr>
<th>abstract</th>
<th>arguments</th>
<th>boolean</th>
<th>break</th>
<th>byte</th>
</tr>
</thead>
<tbody>
<tr>
<td>case</td>
<td>catch</td>
<td>char</td>
<td>class*</td>
<td>const</td>
</tr>
<tr>
<td>continue</td>
<td>debugger</td>
<td>default</td>
<td>delete</td>
<td>do</td>
</tr>
<tr>
<td>double</td>
<td>else</td>
<td>enum*</td>
<td>eval</td>
<td>export*</td>
</tr>
<tr>
<td>extends*</td>
<td>false</td>
<td>final</td>
<td>finally</td>
<td>float</td>
</tr>
<tr>
<td>for</td>
<td>function</td>
<td>goto</td>
<td>if</td>
<td>implements</td>
</tr>
<tr>
<td>import*</td>
<td>in</td>
<td>instanceof</td>
<td>int</td>
<td>interface</td>
</tr>
<tr>
<td>let</td>
<td>long</td>
<td>native</td>
<td>new</td>
<td>null</td>
</tr>
<tr>
<td>package</td>
<td>private</td>
<td>protected</td>
<td>public</td>
<td>return</td>
</tr>
<tr>
<td>short</td>
<td>static</td>
<td>super*</td>
<td>switch</td>
<td>synchronized</td>
</tr>
<tr>
<td>this</td>
<td>throw</td>
<td>throws</td>
<td>transient</td>
<td>true</td>
</tr>
<tr>
<td>try</td>
<td>typeof</td>
<td>var</td>
<td>void</td>
<td>volatile</td>
</tr>
<tr>
<td>while</td>
<td>with</td>
<td>yield</td>
<td></td>
</tr>
</tbody>
</table>
<p>* 标记的关键字是 ECMAScript5 中新添加的。</p>
<h2 id="JavaScript-对象、属性和方法"><a href="#JavaScript-对象、属性和方法" class="headerlink" title="JavaScript 对象、属性和方法"></a>JavaScript 对象、属性和方法</h2><p>您也应该避免使用 JavaScript 内置的对象、属性和方法的名称作为 Javascript 的变量或函数名：</p>
<table>
<thead>
<tr>
<th>Array</th>
<th>Date</th>
<th>eval</th>
<th>function</th>
<th>hasOwnProperty</th>
</tr>
</thead>
<tbody>
<tr>
<td>Infinity</td>
<td>isFinite</td>
<td>isNaN</td>
<td>isPrototypeOf</td>
<td>length</td>
</tr>
<tr>
<td>Math</td>
<td>NaN</td>
<td>name</td>
<td>Number</td>
<td>Object</td>
</tr>
<tr>
<td>prototype</td>
<td>String</td>
<td>toString</td>
<td>undefined</td>
<td>valueOf</td>
</tr>
</tbody>
</table>
<h2 id="Java-保留关键字"><a href="#Java-保留关键字" class="headerlink" title="Java 保留关键字"></a>Java 保留关键字</h2><p>JavaScript 经常与 Java 一起使用。您应该避免使用一些 Java 对象和属性作为 JavaScript 标识符：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>getClass</td>
<td>java</td>
<td>JavaArray</td>
<td>javaClass</td>
<td>JavaObject</td>
<td>JavaPackage</td>
</tr>
</tbody>
</table>
<h2 id="Windows-保留关键字"><a href="#Windows-保留关键字" class="headerlink" title="Windows 保留关键字"></a>Windows 保留关键字</h2><p>JavaScript 可以在 HTML 外部使用。它可在许多其他应用程序中作为编程语言使用。</p>
<p>在 HTML 中，您必须（为了可移植性，您也应该这么做）避免使用 HTML 和 Windows 对象和属性的名称作为 Javascript 的变量及函数名：</p>
<table>
<thead>
<tr>
<th>alert</th>
<th>all</th>
<th>anchor</th>
<th>anchors</th>
<th>area</th>
</tr>
</thead>
<tbody>
<tr>
<td>assign</td>
<td>blur</td>
<td>button</td>
<td>checkbox</td>
<td>clearInterval</td>
</tr>
<tr>
<td>clearTimeout</td>
<td>clientInformation</td>
<td>close</td>
<td>closed</td>
<td>confirm</td>
</tr>
<tr>
<td>constructor</td>
<td>crypto</td>
<td>decodeURI</td>
<td>decodeURIComponent</td>
<td>defaultStatus</td>
</tr>
<tr>
<td>document</td>
<td>element</td>
<td>elements</td>
<td>embed</td>
<td>embeds</td>
</tr>
<tr>
<td>encodeURI</td>
<td>encodeURIComponent</td>
<td>escape</td>
<td>event</td>
<td>fileUpload</td>
</tr>
<tr>
<td>focus</td>
<td>form</td>
<td>forms</td>
<td>frame</td>
<td>innerHeight</td>
</tr>
<tr>
<td>innerWidth</td>
<td>layer</td>
<td>layers</td>
<td>link</td>
<td>location</td>
</tr>
<tr>
<td>mimeTypes</td>
<td>navigate</td>
<td>navigator</td>
<td>frames</td>
<td>frameRate</td>
</tr>
<tr>
<td>hidden</td>
<td>history</td>
<td>image</td>
<td>images</td>
<td>offscreenBuffering</td>
</tr>
<tr>
<td>open</td>
<td>opener</td>
<td>option</td>
<td>outerHeight</td>
<td>outerWidth</td>
</tr>
<tr>
<td>packages</td>
<td>pageXOffset</td>
<td>pageYOffset</td>
<td>parent</td>
<td>parseFloat</td>
</tr>
<tr>
<td>parseInt</td>
<td>password</td>
<td>pkcs11</td>
<td>plugin</td>
<td>prompt</td>
</tr>
<tr>
<td>propertyIsEnum</td>
<td>radio</td>
<td>reset</td>
<td>screenX</td>
<td>screenY</td>
</tr>
<tr>
<td>scroll</td>
<td>secure</td>
<td>select</td>
<td>self</td>
<td>setInterval</td>
</tr>
<tr>
<td>setTimeout</td>
<td>status</td>
<td>submit</td>
<td>taint</td>
<td>text</td>
</tr>
<tr>
<td>textarea</td>
<td>top</td>
<td>unescape</td>
<td>untaint</td>
<td>window</td>
</tr>
</tbody>
</table>
<h2 id="HTML-事件句柄"><a href="#HTML-事件句柄" class="headerlink" title="HTML 事件句柄"></a>HTML 事件句柄</h2><p>除此之外，您还应该避免使用 HTML 事件句柄的名称作为 Javascript 的变量及函数名。</p>
<p>实例：</p>
<table>
<thead>
<tr>
<th>onblur</th>
<th>onclick</th>
<th>onerror</th>
<th>onfocus</th>
</tr>
</thead>
<tbody>
<tr>
<td>onkeydown</td>
<td>onkeypress</td>
<td>onkeyup</td>
<td>onmouseover</td>
</tr>
<tr>
<td>onload</td>
<td>onmouseup</td>
<td>onmousedown</td>
<td>onsubmit</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="非标准-JavaScript"><a href="#非标准-JavaScript" class="headerlink" title="非标准 JavaScript"></a>非标准 JavaScript</h2><p>除了保留关键字，在 JavaScript 实现中也有一些非标准的关键字。<br>一个实例是 <strong>const</strong> 关键字，用于定义变量。 一些 JavaScript 引擎把 const 当作 var 的同义词。另一些引擎则把 const 当作只读变量的定义。</p>
<p>Const 是 JavaScript 的扩展。JavaScript 引擎支持它用在 Firefox 和 Chrome 中。但是它并不是 JavaScript 标准 ES3 或 ES5 的组成部分。<strong>建议：不要使用它</strong>。</p>
<hr>
<h1 id="Task——Hello-World"><a href="#Task——Hello-World" class="headerlink" title="Task——Hello, World!"></a>Task——Hello, World!</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeting</span>(<span class="params">parameterVariable</span>) </span>&#123;</div><div class="line">    <span class="comment">// This line prints 'Hello, World!' to the console:</span></div><div class="line"></div><div class="line">    <span class="comment">// Write a line of code that prints parameterVariable to stdout using console.log:</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> parameterVariable = readLine();</div><div class="line">    greeting(parameterVariable);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>Input</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Welcome to 10 Days of JavaScript!</div></pre></td></tr></table></figure></p>
<p><strong>Output</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Hello, World!</div><div class="line">Welcome to 10 Days of JavaScript!</div></pre></td></tr></table></figure></p>
<p><strong>answer</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeting</span>(<span class="params">parameterVariable</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Hello, World!'</span>);</div><div class="line">    <span class="built_in">console</span>.log(parameterVariable)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="https://www.hackerrank.com/challenges/js10-hello-world/problem" target="_blank" rel="external">Hackerrank</a><br>《JavaScript权威指南》<br><a href="http://www.w3schools.com/" target="_blank" rel="external">w3schools</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="https://ws2.sinaimg.cn/large/006tKfTcly1fj5edaynjzj30hs0hsglv.jpg"
              alt="Katherine Chen" />
          
            <p class="site-author-name" itemprop="name">Katherine Chen</p>
            <p class="site-description motion-element" itemprop="description">尽量只写对别人有用的文章……</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/about/index.html">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/you7588" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:you7588@gmail.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>
                  
                    
                      E-Mail
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Katherine Chen</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://chen-lingmin.disqus.com/count.js" async></script>
    

    

  




	





  










  





  

  

  

  

  

  

</body>
</html>
